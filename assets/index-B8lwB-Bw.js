var B3=Object.defineProperty;var aC=u=>{throw TypeError(u)};var P3=(u,t,e)=>t in u?B3(u,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):u[t]=e;var Bt=(u,t,e)=>P3(u,typeof t!="symbol"?t+"":t,e),Q2=(u,t,e)=>t.has(u)||aC("Cannot "+e);var p=(u,t,e)=>(Q2(u,t,"read from private field"),e?e.call(u):t.get(u)),P=(u,t,e)=>t.has(u)?aC("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(u):t.set(u,e),O=(u,t,e,i)=>(Q2(u,t,"write to private field"),i?i.call(u,e):t.set(u,e),e),z=(u,t,e)=>(Q2(u,t,"access private method"),e);var nr=(u,t,e,i)=>({set _(r){O(u,t,r,e)},get _(){return p(u,t,i)}});function z3(u,t){for(var e=0;e<t.length;e++){const i=t[e];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in u)){const a=Object.getOwnPropertyDescriptor(i,r);a&&Object.defineProperty(u,r,a.get?a:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=e(r);fetch(r.href,a)}})();var xs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qc(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var J2={exports:{}},up={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oC;function F3(){if(oC)return up;oC=1;var u=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,a){var o=null;if(a!==void 0&&(o=""+a),r.key!==void 0&&(o=""+r.key),"key"in r){a={};for(var l in r)l!=="key"&&(a[l]=r[l])}else a=r;return r=a.ref,{$$typeof:u,type:i,key:o,ref:r!==void 0?r:null,props:a}}return up.Fragment=t,up.jsx=e,up.jsxs=e,up}var lC;function U3(){return lC||(lC=1,J2.exports=F3()),J2.exports}var Gt=U3(),t1={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uC;function H3(){if(uC)return xe;uC=1;var u=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.iterator;function y(K){return K===null||typeof K!="object"?null:(K=m&&K[m]||K["@@iterator"],typeof K=="function"?K:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,A={};function w(K,it,gt){this.props=K,this.context=it,this.refs=A,this.updater=gt||b}w.prototype.isReactComponent={},w.prototype.setState=function(K,it){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,it,"setState")},w.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function E(){}E.prototype=w.prototype;function D(K,it,gt){this.props=K,this.context=it,this.refs=A,this.updater=gt||b}var R=D.prototype=new E;R.constructor=D,T(R,w.prototype),R.isPureReactComponent=!0;var N=Array.isArray,x={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function I(K,it,gt,At,Dt,qt){return gt=qt.ref,{$$typeof:u,type:K,key:it,ref:gt!==void 0?gt:null,props:qt}}function U(K,it){return I(K.type,it,void 0,void 0,void 0,K.props)}function F(K){return typeof K=="object"&&K!==null&&K.$$typeof===u}function k(K){var it={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(gt){return it[gt]})}var $=/\/+/g;function Y(K,it){return typeof K=="object"&&K!==null&&K.key!=null?k(""+K.key):it.toString(36)}function J(){}function ft(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(J,J):(K.status="pending",K.then(function(it){K.status==="pending"&&(K.status="fulfilled",K.value=it)},function(it){K.status==="pending"&&(K.status="rejected",K.reason=it)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function bt(K,it,gt,At,Dt){var qt=typeof K;(qt==="undefined"||qt==="boolean")&&(K=null);var Ht=!1;if(K===null)Ht=!0;else switch(qt){case"bigint":case"string":case"number":Ht=!0;break;case"object":switch(K.$$typeof){case u:case t:Ht=!0;break;case g:return Ht=K._init,bt(Ht(K._payload),it,gt,At,Dt)}}if(Ht)return Dt=Dt(K),Ht=At===""?"."+Y(K,0):At,N(Dt)?(gt="",Ht!=null&&(gt=Ht.replace($,"$&/")+"/"),bt(Dt,it,gt,"",function(ve){return ve})):Dt!=null&&(F(Dt)&&(Dt=U(Dt,gt+(Dt.key==null||K&&K.key===Dt.key?"":(""+Dt.key).replace($,"$&/")+"/")+Ht)),it.push(Dt)),1;Ht=0;var Yt=At===""?".":At+":";if(N(K))for(var zt=0;zt<K.length;zt++)At=K[zt],qt=Yt+Y(At,zt),Ht+=bt(At,it,gt,qt,Dt);else if(zt=y(K),typeof zt=="function")for(K=zt.call(K),zt=0;!(At=K.next()).done;)At=At.value,qt=Yt+Y(At,zt++),Ht+=bt(At,it,gt,qt,Dt);else if(qt==="object"){if(typeof K.then=="function")return bt(ft(K),it,gt,At,Dt);throw it=String(K),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return Ht}function X(K,it,gt){if(K==null)return K;var At=[],Dt=0;return bt(K,At,"","",function(qt){return it.call(gt,qt,Dt++)}),At}function Z(K){if(K._status===-1){var it=K._result;it=it(),it.then(function(gt){(K._status===0||K._status===-1)&&(K._status=1,K._result=gt)},function(gt){(K._status===0||K._status===-1)&&(K._status=2,K._result=gt)}),K._status===-1&&(K._status=0,K._result=it)}if(K._status===1)return K._result.default;throw K._result}var ct=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)};function _t(){}return xe.Children={map:X,forEach:function(K,it,gt){X(K,function(){it.apply(this,arguments)},gt)},count:function(K){var it=0;return X(K,function(){it++}),it},toArray:function(K){return X(K,function(it){return it})||[]},only:function(K){if(!F(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},xe.Component=w,xe.Fragment=e,xe.Profiler=r,xe.PureComponent=D,xe.StrictMode=i,xe.Suspense=h,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,xe.__COMPILER_RUNTIME={__proto__:null,c:function(K){return x.H.useMemoCache(K)}},xe.cache=function(K){return function(){return K.apply(null,arguments)}},xe.cloneElement=function(K,it,gt){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var At=T({},K.props),Dt=K.key,qt=void 0;if(it!=null)for(Ht in it.ref!==void 0&&(qt=void 0),it.key!==void 0&&(Dt=""+it.key),it)!L.call(it,Ht)||Ht==="key"||Ht==="__self"||Ht==="__source"||Ht==="ref"&&it.ref===void 0||(At[Ht]=it[Ht]);var Ht=arguments.length-2;if(Ht===1)At.children=gt;else if(1<Ht){for(var Yt=Array(Ht),zt=0;zt<Ht;zt++)Yt[zt]=arguments[zt+2];At.children=Yt}return I(K.type,Dt,void 0,void 0,qt,At)},xe.createContext=function(K){return K={$$typeof:o,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:a,_context:K},K},xe.createElement=function(K,it,gt){var At,Dt={},qt=null;if(it!=null)for(At in it.key!==void 0&&(qt=""+it.key),it)L.call(it,At)&&At!=="key"&&At!=="__self"&&At!=="__source"&&(Dt[At]=it[At]);var Ht=arguments.length-2;if(Ht===1)Dt.children=gt;else if(1<Ht){for(var Yt=Array(Ht),zt=0;zt<Ht;zt++)Yt[zt]=arguments[zt+2];Dt.children=Yt}if(K&&K.defaultProps)for(At in Ht=K.defaultProps,Ht)Dt[At]===void 0&&(Dt[At]=Ht[At]);return I(K,qt,void 0,void 0,null,Dt)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(K){return{$$typeof:l,render:K}},xe.isValidElement=F,xe.lazy=function(K){return{$$typeof:g,_payload:{_status:-1,_result:K},_init:Z}},xe.memo=function(K,it){return{$$typeof:f,type:K,compare:it===void 0?null:it}},xe.startTransition=function(K){var it=x.T,gt={};x.T=gt;try{var At=K(),Dt=x.S;Dt!==null&&Dt(gt,At),typeof At=="object"&&At!==null&&typeof At.then=="function"&&At.then(_t,ct)}catch(qt){ct(qt)}finally{x.T=it}},xe.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},xe.use=function(K){return x.H.use(K)},xe.useActionState=function(K,it,gt){return x.H.useActionState(K,it,gt)},xe.useCallback=function(K,it){return x.H.useCallback(K,it)},xe.useContext=function(K){return x.H.useContext(K)},xe.useDebugValue=function(){},xe.useDeferredValue=function(K,it){return x.H.useDeferredValue(K,it)},xe.useEffect=function(K,it,gt){var At=x.H;if(typeof gt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return At.useEffect(K,it)},xe.useId=function(){return x.H.useId()},xe.useImperativeHandle=function(K,it,gt){return x.H.useImperativeHandle(K,it,gt)},xe.useInsertionEffect=function(K,it){return x.H.useInsertionEffect(K,it)},xe.useLayoutEffect=function(K,it){return x.H.useLayoutEffect(K,it)},xe.useMemo=function(K,it){return x.H.useMemo(K,it)},xe.useOptimistic=function(K,it){return x.H.useOptimistic(K,it)},xe.useReducer=function(K,it,gt){return x.H.useReducer(K,it,gt)},xe.useRef=function(K){return x.H.useRef(K)},xe.useState=function(K){return x.H.useState(K)},xe.useSyncExternalStore=function(K,it,gt){return x.H.useSyncExternalStore(K,it,gt)},xe.useTransition=function(){return x.H.useTransition()},xe.version="19.1.0",xe}var cC;function qA(){return cC||(cC=1,t1.exports=H3()),t1.exports}var Ot=qA();const $h=qc(Ot),lw=z3({__proto__:null,default:$h},[Ot]);var e1={exports:{}},cp={},i1={exports:{}},n1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hC;function j3(){return hC||(hC=1,function(u){function t(X,Z){var ct=X.length;X.push(Z);t:for(;0<ct;){var _t=ct-1>>>1,K=X[_t];if(0<r(K,Z))X[_t]=Z,X[ct]=K,ct=_t;else break t}}function e(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var Z=X[0],ct=X.pop();if(ct!==Z){X[0]=ct;t:for(var _t=0,K=X.length,it=K>>>1;_t<it;){var gt=2*(_t+1)-1,At=X[gt],Dt=gt+1,qt=X[Dt];if(0>r(At,ct))Dt<K&&0>r(qt,At)?(X[_t]=qt,X[Dt]=ct,_t=Dt):(X[_t]=At,X[gt]=ct,_t=gt);else if(Dt<K&&0>r(qt,ct))X[_t]=qt,X[Dt]=ct,_t=Dt;else break t}}return Z}function r(X,Z){var ct=X.sortIndex-Z.sortIndex;return ct!==0?ct:X.id-Z.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;u.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();u.unstable_now=function(){return o.now()-l}}var h=[],f=[],g=1,m=null,y=3,b=!1,T=!1,A=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function N(X){for(var Z=e(f);Z!==null;){if(Z.callback===null)i(f);else if(Z.startTime<=X)i(f),Z.sortIndex=Z.expirationTime,t(h,Z);else break;Z=e(f)}}function x(X){if(A=!1,N(X),!T)if(e(h)!==null)T=!0,L||(L=!0,Y());else{var Z=e(f);Z!==null&&bt(x,Z.startTime-X)}}var L=!1,I=-1,U=5,F=-1;function k(){return w?!0:!(u.unstable_now()-F<U)}function $(){if(w=!1,L){var X=u.unstable_now();F=X;var Z=!0;try{t:{T=!1,A&&(A=!1,D(I),I=-1),b=!0;var ct=y;try{e:{for(N(X),m=e(h);m!==null&&!(m.expirationTime>X&&k());){var _t=m.callback;if(typeof _t=="function"){m.callback=null,y=m.priorityLevel;var K=_t(m.expirationTime<=X);if(X=u.unstable_now(),typeof K=="function"){m.callback=K,N(X),Z=!0;break e}m===e(h)&&i(h),N(X)}else i(h);m=e(h)}if(m!==null)Z=!0;else{var it=e(f);it!==null&&bt(x,it.startTime-X),Z=!1}}break t}finally{m=null,y=ct,b=!1}Z=void 0}}finally{Z?Y():L=!1}}}var Y;if(typeof R=="function")Y=function(){R($)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ft=J.port2;J.port1.onmessage=$,Y=function(){ft.postMessage(null)}}else Y=function(){E($,0)};function bt(X,Z){I=E(function(){X(u.unstable_now())},Z)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(X){X.callback=null},u.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<X?Math.floor(1e3/X):5},u.unstable_getCurrentPriorityLevel=function(){return y},u.unstable_next=function(X){switch(y){case 1:case 2:case 3:var Z=3;break;default:Z=y}var ct=y;y=Z;try{return X()}finally{y=ct}},u.unstable_requestPaint=function(){w=!0},u.unstable_runWithPriority=function(X,Z){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ct=y;y=X;try{return Z()}finally{y=ct}},u.unstable_scheduleCallback=function(X,Z,ct){var _t=u.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?_t+ct:_t):ct=_t,X){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=ct+K,X={id:g++,callback:Z,priorityLevel:X,startTime:ct,expirationTime:K,sortIndex:-1},ct>_t?(X.sortIndex=ct,t(f,X),e(h)===null&&X===e(f)&&(A?(D(I),I=-1):A=!0,bt(x,ct-_t))):(X.sortIndex=K,t(h,X),T||b||(T=!0,L||(L=!0,Y()))),X},u.unstable_shouldYield=k,u.unstable_wrapCallback=function(X){var Z=y;return function(){var ct=y;y=Z;try{return X.apply(this,arguments)}finally{y=ct}}}}(n1)),n1}var fC;function q3(){return fC||(fC=1,i1.exports=j3()),i1.exports}var r1={exports:{}},Wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dC;function G3(){if(dC)return Wn;dC=1;var u=qA();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(h,f,g){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:m==null?null:""+m,children:h,containerInfo:f,implementation:g}}var o=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Wn.createPortal=function(h,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(h,f,null,g)},Wn.flushSync=function(h){var f=o.T,g=i.p;try{if(o.T=null,i.p=2,h)return h()}finally{o.T=f,i.p=g,i.d.f()}},Wn.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},Wn.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Wn.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var g=f.as,m=l(g,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:y,fetchPriority:b}):g==="script"&&i.d.X(h,{crossOrigin:m,integrity:y,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Wn.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=l(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},Wn.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,m=l(g,f.crossOrigin);i.d.L(h,g,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Wn.preloadModule=function(h,f){if(typeof h=="string")if(f){var g=l(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},Wn.requestFormReset=function(h){i.d.r(h)},Wn.unstable_batchedUpdates=function(h,f){return h(f)},Wn.useFormState=function(h,f,g){return o.H.useFormState(h,f,g)},Wn.useFormStatus=function(){return o.H.useHostTransitionStatus()},Wn.version="19.1.0",Wn}var pC;function V3(){if(pC)return r1.exports;pC=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(t){console.error(t)}}return u(),r1.exports=G3(),r1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gC;function $3(){if(gC)return cp;gC=1;var u=q3(),t=qA(),e=V3();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function a(n){var s=n,c=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(c=s.return),n=s.return;while(n)}return s.tag===3?c:null}function o(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function l(n){if(a(n)!==n)throw Error(i(188))}function h(n){var s=n.alternate;if(!s){if(s=a(n),s===null)throw Error(i(188));return s!==n?null:n}for(var c=n,d=s;;){var v=c.return;if(v===null)break;var _=v.alternate;if(_===null){if(d=v.return,d!==null){c=d;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===c)return l(v),n;if(_===d)return l(v),s;_=_.sibling}throw Error(i(188))}if(c.return!==d.return)c=v,d=_;else{for(var B=!1,j=v.child;j;){if(j===c){B=!0,c=v,d=_;break}if(j===d){B=!0,d=v,c=_;break}j=j.sibling}if(!B){for(j=_.child;j;){if(j===c){B=!0,c=_,d=v;break}if(j===d){B=!0,d=_,c=v;break}j=j.sibling}if(!B)throw Error(i(189))}}if(c.alternate!==d)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?n:s}function f(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=f(n),s!==null)return s;n=n.sibling}return null}var g=Object.assign,m=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),R=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function Y(n){return n===null||typeof n!="object"?null:(n=$&&n[$]||n["@@iterator"],typeof n=="function"?n:null)}var J=Symbol.for("react.client.reference");function ft(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===J?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case T:return"Fragment";case w:return"Profiler";case A:return"StrictMode";case x:return"Suspense";case L:return"SuspenseList";case F:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case b:return"Portal";case R:return(n.displayName||"Context")+".Provider";case D:return(n._context.displayName||"Context")+".Consumer";case N:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case I:return s=n.displayName||null,s!==null?s:ft(n.type)||"Memo";case U:s=n._payload,n=n._init;try{return ft(n(s))}catch{}}return null}var bt=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},_t=[],K=-1;function it(n){return{current:n}}function gt(n){0>K||(n.current=_t[K],_t[K]=null,K--)}function At(n,s){K++,_t[K]=n.current,n.current=s}var Dt=it(null),qt=it(null),Ht=it(null),Yt=it(null);function zt(n,s){switch(At(Ht,s),At(qt,n),At(Dt,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?Lx(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=Lx(s),n=Ix(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}gt(Dt),At(Dt,n)}function ve(){gt(Dt),gt(qt),gt(Ht)}function Te(n){n.memoizedState!==null&&At(Yt,n);var s=Dt.current,c=Ix(s,n.type);s!==c&&(At(qt,n),At(Dt,c))}function oe(n){qt.current===n&&(gt(Dt),gt(qt)),Yt.current===n&&(gt(Yt),rp._currentValue=ct)}var fe=Object.prototype.hasOwnProperty,de=u.unstable_scheduleCallback,ye=u.unstable_cancelCallback,Ue=u.unstable_shouldYield,ke=u.unstable_requestPaint,ue=u.unstable_now,Zt=u.unstable_getCurrentPriorityLevel,Xt=u.unstable_ImmediatePriority,re=u.unstable_UserBlockingPriority,Jt=u.unstable_NormalPriority,kt=u.unstable_LowPriority,ne=u.unstable_IdlePriority,Be=u.log,Ii=u.unstable_setDisableYieldValue,ni=null,De=null;function ri(n){if(typeof Be=="function"&&Ii(n),De&&typeof De.setStrictMode=="function")try{De.setStrictMode(ni,n)}catch{}}var Xe=Math.clz32?Math.clz32:Dn,tn=Math.log,Gn=Math.LN2;function Dn(n){return n>>>=0,n===0?32:31-(tn(n)/Gn|0)|0}var vi=256,Ui=4194304;function hn(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function V(n,s,c){var d=n.pendingLanes;if(d===0)return 0;var v=0,_=n.suspendedLanes,B=n.pingedLanes;n=n.warmLanes;var j=d&134217727;return j!==0?(d=j&~_,d!==0?v=hn(d):(B&=j,B!==0?v=hn(B):c||(c=j&~n,c!==0&&(v=hn(c))))):(j=d&~_,j!==0?v=hn(j):B!==0?v=hn(B):c||(c=d&~n,c!==0&&(v=hn(c)))),v===0?0:s!==0&&s!==v&&(s&_)===0&&(_=v&-v,c=s&-s,_>=c||_===32&&(c&4194048)!==0)?s:v}function Ct(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Lt(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $t(){var n=vi;return vi<<=1,(vi&4194048)===0&&(vi=256),n}function nt(){var n=Ui;return Ui<<=1,(Ui&62914560)===0&&(Ui=4194304),n}function M(n){for(var s=[],c=0;31>c;c++)s.push(n);return s}function S(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function q(n,s,c,d,v,_){var B=n.pendingLanes;n.pendingLanes=c,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=c,n.entangledLanes&=c,n.errorRecoveryDisabledLanes&=c,n.shellSuspendCounter=0;var j=n.entanglements,Q=n.expirationTimes,vt=n.hiddenUpdates;for(c=B&~c;0<c;){var St=31-Xe(c),Rt=1<<St;j[St]=0,Q[St]=-1;var yt=vt[St];if(yt!==null)for(vt[St]=null,St=0;St<yt.length;St++){var wt=yt[St];wt!==null&&(wt.lane&=-536870913)}c&=~Rt}d!==0&&st(n,d,0),_!==0&&v===0&&n.tag!==0&&(n.suspendedLanes|=_&~(B&~s))}function st(n,s,c){n.pendingLanes|=s,n.suspendedLanes&=~s;var d=31-Xe(s);n.entangledLanes|=s,n.entanglements[d]=n.entanglements[d]|1073741824|c&4194090}function C(n,s){var c=n.entangledLanes|=s;for(n=n.entanglements;c;){var d=31-Xe(c),v=1<<d;v&s|n[d]&s&&(n[d]|=s),c&=~v}}function at(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function pt(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function H(){var n=Z.p;return n!==0?n:(n=window.event,n===void 0?32:tC(n.type))}function et(n,s){var c=Z.p;try{return Z.p=n,s()}finally{Z.p=c}}var dt=Math.random().toString(36).slice(2),Ft="__reactFiber$"+dt,It="__reactProps$"+dt,jt="__reactContainer$"+dt,ge="__reactEvents$"+dt,Di="__reactListeners$"+dt,He="__reactHandles$"+dt,we="__reactResources$"+dt,Ae="__reactMarker$"+dt;function Ci(n){delete n[Ft],delete n[It],delete n[ge],delete n[Di],delete n[He]}function ti(n){var s=n[Ft];if(s)return s;for(var c=n.parentNode;c;){if(s=c[jt]||c[Ft]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(n=Fx(n);n!==null;){if(c=n[Ft])return c;n=Fx(n)}return s}n=c,c=n.parentNode}return null}function Vn(n){if(n=n[Ft]||n[jt]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function is(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function si(n){var s=n[we];return s||(s=n[we]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function qe(n){n[Ae]=!0}var Hi=new Set,pr={};function en(n,s){Ds(n,s),Ds(n+"Capture",s)}function Ds(n,s){for(pr[n]=s,n=0;n<s.length;n++)Hi.add(s[n])}var Zy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hd={},Uo={};function zm(n){return fe.call(Uo,n)?!0:fe.call(hd,n)?!1:Zy.test(n)?Uo[n]=!0:(hd[n]=!0,!1)}function Rs(n,s,c){if(zm(s))if(c===null)n.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var d=s.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+c)}}function Kc(n,s,c){if(c===null)n.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+c)}}function gr(n,s,c,d){if(d===null)n.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(c);return}n.setAttributeNS(s,c,""+d)}}var au,Fm;function Ho(n){if(au===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);au=s&&s[1]||"",Fm=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+au+n+Fm}var ou=!1;function fd(n,s){if(!n||ou)return"";ou=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(s){var Rt=function(){throw Error()};if(Object.defineProperty(Rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Rt,[])}catch(wt){var yt=wt}Reflect.construct(n,[],Rt)}else{try{Rt.call()}catch(wt){yt=wt}n.call(Rt.prototype)}}else{try{throw Error()}catch(wt){yt=wt}(Rt=n())&&typeof Rt.catch=="function"&&Rt.catch(function(){})}}catch(wt){if(wt&&yt&&typeof wt.stack=="string")return[wt.stack,yt.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=d.DetermineComponentFrameRoot(),B=_[0],j=_[1];if(B&&j){var Q=B.split(`
`),vt=j.split(`
`);for(v=d=0;d<Q.length&&!Q[d].includes("DetermineComponentFrameRoot");)d++;for(;v<vt.length&&!vt[v].includes("DetermineComponentFrameRoot");)v++;if(d===Q.length||v===vt.length)for(d=Q.length-1,v=vt.length-1;1<=d&&0<=v&&Q[d]!==vt[v];)v--;for(;1<=d&&0<=v;d--,v--)if(Q[d]!==vt[v]){if(d!==1||v!==1)do if(d--,v--,0>v||Q[d]!==vt[v]){var St=`
`+Q[d].replace(" at new "," at ");return n.displayName&&St.includes("<anonymous>")&&(St=St.replace("<anonymous>",n.displayName)),St}while(1<=d&&0<=v);break}}}finally{ou=!1,Error.prepareStackTrace=c}return(c=n?n.displayName||n.name:"")?Ho(c):""}function Qy(n){switch(n.tag){case 26:case 27:case 5:return Ho(n.type);case 16:return Ho("Lazy");case 13:return Ho("Suspense");case 19:return Ho("SuspenseList");case 0:case 15:return fd(n.type,!1);case 11:return fd(n.type.render,!1);case 1:return fd(n.type,!0);case 31:return Ho("Activity");default:return""}}function G(n){try{var s="";do s+=Qy(n),n=n.return;while(n);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function tt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function W(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function lt(n){var s=W(n)?"checked":"value",c=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),d=""+n[s];if(!n.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var v=c.get,_=c.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return v.call(this)},set:function(B){d=""+B,_.call(this,B)}}),Object.defineProperty(n,s,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(B){d=""+B},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function ht(n){n._valueTracker||(n._valueTracker=lt(n))}function ot(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var c=s.getValue(),d="";return n&&(d=W(n)?n.checked?"true":"false":n.value),n=d,n!==c?(s.setValue(n),!0):!1}function xt(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Mt=/[\n"\\]/g;function Nt(n){return n.replace(Mt,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Pt(n,s,c,d,v,_,B,j){n.name="",B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?n.type=B:n.removeAttribute("type"),s!=null?B==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+tt(s)):n.value!==""+tt(s)&&(n.value=""+tt(s)):B!=="submit"&&B!=="reset"||n.removeAttribute("value"),s!=null?ee(n,B,tt(s)):c!=null?ee(n,B,tt(c)):d!=null&&n.removeAttribute("value"),v==null&&_!=null&&(n.defaultChecked=!!_),v!=null&&(n.checked=v&&typeof v!="function"&&typeof v!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?n.name=""+tt(j):n.removeAttribute("name")}function Ut(n,s,c,d,v,_,B,j){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.type=_),s!=null||c!=null){if(!(_!=="submit"&&_!=="reset"||s!=null))return;c=c!=null?""+tt(c):"",s=s!=null?""+tt(s):c,j||s===n.value||(n.value=s),n.defaultValue=s}d=d??v,d=typeof d!="function"&&typeof d!="symbol"&&!!d,n.checked=j?n.checked:!!d,n.defaultChecked=!!d,B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(n.name=B)}function ee(n,s,c){s==="number"&&xt(n.ownerDocument)===n||n.defaultValue===""+c||(n.defaultValue=""+c)}function be(n,s,c,d){if(n=n.options,s){s={};for(var v=0;v<c.length;v++)s["$"+c[v]]=!0;for(c=0;c<n.length;c++)v=s.hasOwnProperty("$"+n[c].value),n[c].selected!==v&&(n[c].selected=v),v&&d&&(n[c].defaultSelected=!0)}else{for(c=""+tt(c),s=null,v=0;v<n.length;v++){if(n[v].value===c){n[v].selected=!0,d&&(n[v].defaultSelected=!0);return}s!==null||n[v].disabled||(s=n[v])}s!==null&&(s.selected=!0)}}function Ge(n,s,c){if(s!=null&&(s=""+tt(s),s!==n.value&&(n.value=s),c==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=c!=null?""+tt(c):""}function We(n,s,c,d){if(s==null){if(d!=null){if(c!=null)throw Error(i(92));if(bt(d)){if(1<d.length)throw Error(i(93));d=d[0]}c=d}c==null&&(c=""),s=c}c=tt(s),n.defaultValue=c,d=n.textContent,d===c&&d!==""&&d!==null&&(n.value=d)}function yi(n,s){if(s){var c=n.firstChild;if(c&&c===n.lastChild&&c.nodeType===3){c.nodeValue=s;return}}n.textContent=s}var Bi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function er(n,s,c){var d=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":d?n.setProperty(s,c):typeof c!="number"||c===0||Bi.has(s)?s==="float"?n.cssFloat=c:n[s]=(""+c).trim():n[s]=c+"px"}function jo(n,s,c){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||s!=null&&s.hasOwnProperty(d)||(d.indexOf("--")===0?n.setProperty(d,""):d==="float"?n.cssFloat="":n[d]="");for(var v in s)d=s[v],s.hasOwnProperty(v)&&c[v]!==d&&er(n,v,d)}else for(var _ in s)s.hasOwnProperty(_)&&er(n,_,s[_])}function lu(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pd(n){return dd.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var gd=null;function md(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var La=null,Zc=null;function B_(n){var s=Vn(n);if(s&&(n=s.stateNode)){var c=n[It]||null;t:switch(n=s.stateNode,s.type){case"input":if(Pt(n,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=n;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Nt(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var d=c[s];if(d!==n&&d.form===n.form){var v=d[It]||null;if(!v)throw Error(i(90));Pt(d,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(s=0;s<c.length;s++)d=c[s],d.form===n.form&&ot(d)}break t;case"textarea":Ge(n,c.value,c.defaultValue);break t;case"select":s=c.value,s!=null&&be(n,!!c.multiple,s,!1)}}}var tb=!1;function P_(n,s,c){if(tb)return n(s,c);tb=!0;try{var d=n(s);return d}finally{if(tb=!1,(La!==null||Zc!==null)&&(Sv(),La&&(s=La,n=Zc,Zc=La=null,B_(s),n)))for(s=0;s<n.length;s++)B_(n[s])}}function vd(n,s){var c=n.stateNode;if(c===null)return null;var d=c[It]||null;if(d===null)return null;c=d[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break t;default:n=!1}if(n)return null;if(c&&typeof c!="function")throw Error(i(231,s,typeof c));return c}var Ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eb=!1;if(Ia)try{var yd={};Object.defineProperty(yd,"passive",{get:function(){eb=!0}}),window.addEventListener("test",yd,yd),window.removeEventListener("test",yd,yd)}catch{eb=!1}var qo=null,ib=null,Um=null;function z_(){if(Um)return Um;var n,s=ib,c=s.length,d,v="value"in qo?qo.value:qo.textContent,_=v.length;for(n=0;n<c&&s[n]===v[n];n++);var B=c-n;for(d=1;d<=B&&s[c-d]===v[_-d];d++);return Um=v.slice(n,1<d?1-d:void 0)}function Hm(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function jm(){return!0}function F_(){return!1}function mr(n){function s(c,d,v,_,B){this._reactName=c,this._targetInst=v,this.type=d,this.nativeEvent=_,this.target=B,this.currentTarget=null;for(var j in n)n.hasOwnProperty(j)&&(c=n[j],this[j]=c?c(_):_[j]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?jm:F_,this.isPropagationStopped=F_,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=jm)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=jm)},persist:function(){},isPersistent:jm}),s}var uu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qm=mr(uu),bd=g({},uu,{view:0,detail:0}),BN=mr(bd),nb,rb,wd,Gm=g({},bd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ab,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==wd&&(wd&&n.type==="mousemove"?(nb=n.screenX-wd.screenX,rb=n.screenY-wd.screenY):rb=nb=0,wd=n),nb)},movementY:function(n){return"movementY"in n?n.movementY:rb}}),U_=mr(Gm),PN=g({},Gm,{dataTransfer:0}),zN=mr(PN),FN=g({},bd,{relatedTarget:0}),sb=mr(FN),UN=g({},uu,{animationName:0,elapsedTime:0,pseudoElement:0}),HN=mr(UN),jN=g({},uu,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),qN=mr(jN),GN=g({},uu,{data:0}),H_=mr(GN),VN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$N={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YN(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=WN[n])?!!s[n]:!1}function ab(){return YN}var XN=g({},bd,{key:function(n){if(n.key){var s=VN[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Hm(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?$N[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ab,charCode:function(n){return n.type==="keypress"?Hm(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Hm(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),KN=mr(XN),ZN=g({},Gm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),j_=mr(ZN),QN=g({},bd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ab}),JN=mr(QN),tO=g({},uu,{propertyName:0,elapsedTime:0,pseudoElement:0}),eO=mr(tO),iO=g({},Gm,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),nO=mr(iO),rO=g({},uu,{newState:0,oldState:0}),sO=mr(rO),aO=[9,13,27,32],ob=Ia&&"CompositionEvent"in window,Ad=null;Ia&&"documentMode"in document&&(Ad=document.documentMode);var oO=Ia&&"TextEvent"in window&&!Ad,q_=Ia&&(!ob||Ad&&8<Ad&&11>=Ad),G_=" ",V_=!1;function $_(n,s){switch(n){case"keyup":return aO.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W_(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Qc=!1;function lO(n,s){switch(n){case"compositionend":return W_(s);case"keypress":return s.which!==32?null:(V_=!0,G_);case"textInput":return n=s.data,n===G_&&V_?null:n;default:return null}}function uO(n,s){if(Qc)return n==="compositionend"||!ob&&$_(n,s)?(n=z_(),Um=ib=qo=null,Qc=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return q_&&s.locale!=="ko"?null:s.data;default:return null}}var cO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Y_(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!cO[n.type]:s==="textarea"}function X_(n,s,c,d){La?Zc?Zc.push(d):Zc=[d]:La=d,s=kv(s,"onChange"),0<s.length&&(c=new qm("onChange","change",null,c,d),n.push({event:c,listeners:s}))}var _d=null,Ed=null;function hO(n){Rx(n,0)}function Vm(n){var s=is(n);if(ot(s))return n}function K_(n,s){if(n==="change")return s}var Z_=!1;if(Ia){var lb;if(Ia){var ub="oninput"in document;if(!ub){var Q_=document.createElement("div");Q_.setAttribute("oninput","return;"),ub=typeof Q_.oninput=="function"}lb=ub}else lb=!1;Z_=lb&&(!document.documentMode||9<document.documentMode)}function J_(){_d&&(_d.detachEvent("onpropertychange",tE),Ed=_d=null)}function tE(n){if(n.propertyName==="value"&&Vm(Ed)){var s=[];X_(s,Ed,n,md(n)),P_(hO,s)}}function fO(n,s,c){n==="focusin"?(J_(),_d=s,Ed=c,_d.attachEvent("onpropertychange",tE)):n==="focusout"&&J_()}function dO(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Vm(Ed)}function pO(n,s){if(n==="click")return Vm(s)}function gO(n,s){if(n==="input"||n==="change")return Vm(s)}function mO(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Dr=typeof Object.is=="function"?Object.is:mO;function Sd(n,s){if(Dr(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var c=Object.keys(n),d=Object.keys(s);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var v=c[d];if(!fe.call(s,v)||!Dr(n[v],s[v]))return!1}return!0}function eE(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function iE(n,s){var c=eE(n);n=0;for(var d;c;){if(c.nodeType===3){if(d=n+c.textContent.length,n<=s&&d>=s)return{node:c,offset:s-n};n=d}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=eE(c)}}function nE(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?nE(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function rE(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=xt(n.document);s instanceof n.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)n=s.contentWindow;else break;s=xt(n.document)}return s}function cb(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var vO=Ia&&"documentMode"in document&&11>=document.documentMode,Jc=null,hb=null,xd=null,fb=!1;function sE(n,s,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;fb||Jc==null||Jc!==xt(d)||(d=Jc,"selectionStart"in d&&cb(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),xd&&Sd(xd,d)||(xd=d,d=kv(hb,"onSelect"),0<d.length&&(s=new qm("onSelect","select",null,s,c),n.push({event:s,listeners:d}),s.target=Jc)))}function cu(n,s){var c={};return c[n.toLowerCase()]=s.toLowerCase(),c["Webkit"+n]="webkit"+s,c["Moz"+n]="moz"+s,c}var th={animationend:cu("Animation","AnimationEnd"),animationiteration:cu("Animation","AnimationIteration"),animationstart:cu("Animation","AnimationStart"),transitionrun:cu("Transition","TransitionRun"),transitionstart:cu("Transition","TransitionStart"),transitioncancel:cu("Transition","TransitionCancel"),transitionend:cu("Transition","TransitionEnd")},db={},aE={};Ia&&(aE=document.createElement("div").style,"AnimationEvent"in window||(delete th.animationend.animation,delete th.animationiteration.animation,delete th.animationstart.animation),"TransitionEvent"in window||delete th.transitionend.transition);function hu(n){if(db[n])return db[n];if(!th[n])return n;var s=th[n],c;for(c in s)if(s.hasOwnProperty(c)&&c in aE)return db[n]=s[c];return n}var oE=hu("animationend"),lE=hu("animationiteration"),uE=hu("animationstart"),yO=hu("transitionrun"),bO=hu("transitionstart"),wO=hu("transitioncancel"),cE=hu("transitionend"),hE=new Map,pb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pb.push("scrollEnd");function ks(n,s){hE.set(n,s),en(s,[n])}var fE=new WeakMap;function ns(n,s){if(typeof n=="object"&&n!==null){var c=fE.get(n);return c!==void 0?c:(s={value:n,source:s,stack:G(s)},fE.set(n,s),s)}return{value:n,source:s,stack:G(s)}}var rs=[],eh=0,gb=0;function $m(){for(var n=eh,s=gb=eh=0;s<n;){var c=rs[s];rs[s++]=null;var d=rs[s];rs[s++]=null;var v=rs[s];rs[s++]=null;var _=rs[s];if(rs[s++]=null,d!==null&&v!==null){var B=d.pending;B===null?v.next=v:(v.next=B.next,B.next=v),d.pending=v}_!==0&&dE(c,v,_)}}function Wm(n,s,c,d){rs[eh++]=n,rs[eh++]=s,rs[eh++]=c,rs[eh++]=d,gb|=d,n.lanes|=d,n=n.alternate,n!==null&&(n.lanes|=d)}function mb(n,s,c,d){return Wm(n,s,c,d),Ym(n)}function ih(n,s){return Wm(n,null,null,s),Ym(n)}function dE(n,s,c){n.lanes|=c;var d=n.alternate;d!==null&&(d.lanes|=c);for(var v=!1,_=n.return;_!==null;)_.childLanes|=c,d=_.alternate,d!==null&&(d.childLanes|=c),_.tag===22&&(n=_.stateNode,n===null||n._visibility&1||(v=!0)),n=_,_=_.return;return n.tag===3?(_=n.stateNode,v&&s!==null&&(v=31-Xe(c),n=_.hiddenUpdates,d=n[v],d===null?n[v]=[s]:d.push(s),s.lane=c|536870912),_):null}function Ym(n){if(50<Kd)throw Kd=0,_2=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var nh={};function AO(n,s,c,d){this.tag=n,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rr(n,s,c,d){return new AO(n,s,c,d)}function vb(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ba(n,s){var c=n.alternate;return c===null?(c=Rr(n.tag,s,n.key,n.mode),c.elementType=n.elementType,c.type=n.type,c.stateNode=n.stateNode,c.alternate=n,n.alternate=c):(c.pendingProps=s,c.type=n.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=n.flags&65011712,c.childLanes=n.childLanes,c.lanes=n.lanes,c.child=n.child,c.memoizedProps=n.memoizedProps,c.memoizedState=n.memoizedState,c.updateQueue=n.updateQueue,s=n.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=n.sibling,c.index=n.index,c.ref=n.ref,c.refCleanup=n.refCleanup,c}function pE(n,s){n.flags&=65011714;var c=n.alternate;return c===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=c.childLanes,n.lanes=c.lanes,n.child=c.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=c.memoizedProps,n.memoizedState=c.memoizedState,n.updateQueue=c.updateQueue,n.type=c.type,s=c.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Xm(n,s,c,d,v,_){var B=0;if(d=n,typeof n=="function")vb(n)&&(B=1);else if(typeof n=="string")B=E3(n,c,Dt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case F:return n=Rr(31,c,s,v),n.elementType=F,n.lanes=_,n;case T:return fu(c.children,v,_,s);case A:B=8,v|=24;break;case w:return n=Rr(12,c,s,v|2),n.elementType=w,n.lanes=_,n;case x:return n=Rr(13,c,s,v),n.elementType=x,n.lanes=_,n;case L:return n=Rr(19,c,s,v),n.elementType=L,n.lanes=_,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case E:case R:B=10;break t;case D:B=9;break t;case N:B=11;break t;case I:B=14;break t;case U:B=16,d=null;break t}B=29,c=Error(i(130,n===null?"null":typeof n,"")),d=null}return s=Rr(B,c,s,v),s.elementType=n,s.type=d,s.lanes=_,s}function fu(n,s,c,d){return n=Rr(7,n,d,s),n.lanes=c,n}function yb(n,s,c){return n=Rr(6,n,null,s),n.lanes=c,n}function bb(n,s,c){return s=Rr(4,n.children!==null?n.children:[],n.key,s),s.lanes=c,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var rh=[],sh=0,Km=null,Zm=0,ss=[],as=0,du=null,Pa=1,za="";function pu(n,s){rh[sh++]=Zm,rh[sh++]=Km,Km=n,Zm=s}function gE(n,s,c){ss[as++]=Pa,ss[as++]=za,ss[as++]=du,du=n;var d=Pa;n=za;var v=32-Xe(d)-1;d&=~(1<<v),c+=1;var _=32-Xe(s)+v;if(30<_){var B=v-v%5;_=(d&(1<<B)-1).toString(32),d>>=B,v-=B,Pa=1<<32-Xe(s)+v|c<<v|d,za=_+n}else Pa=1<<_|c<<v|d,za=n}function wb(n){n.return!==null&&(pu(n,1),gE(n,1,0))}function Ab(n){for(;n===Km;)Km=rh[--sh],rh[sh]=null,Zm=rh[--sh],rh[sh]=null;for(;n===du;)du=ss[--as],ss[as]=null,za=ss[--as],ss[as]=null,Pa=ss[--as],ss[as]=null}var ir=null,ji=null,Ke=!1,gu=null,ta=!1,_b=Error(i(519));function mu(n){var s=Error(i(418,""));throw Dd(ns(s,n)),_b}function mE(n){var s=n.stateNode,c=n.type,d=n.memoizedProps;switch(s[Ft]=n,s[It]=d,c){case"dialog":Le("cancel",s),Le("close",s);break;case"iframe":case"object":case"embed":Le("load",s);break;case"video":case"audio":for(c=0;c<Qd.length;c++)Le(Qd[c],s);break;case"source":Le("error",s);break;case"img":case"image":case"link":Le("error",s),Le("load",s);break;case"details":Le("toggle",s);break;case"input":Le("invalid",s),Ut(s,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),ht(s);break;case"select":Le("invalid",s);break;case"textarea":Le("invalid",s),We(s,d.value,d.defaultValue,d.children),ht(s)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||d.suppressHydrationWarning===!0||Mx(s.textContent,c)?(d.popover!=null&&(Le("beforetoggle",s),Le("toggle",s)),d.onScroll!=null&&Le("scroll",s),d.onScrollEnd!=null&&Le("scrollend",s),d.onClick!=null&&(s.onclick=Nv),s=!0):s=!1,s||mu(n)}function vE(n){for(ir=n.return;ir;)switch(ir.tag){case 5:case 13:ta=!1;return;case 27:case 3:ta=!0;return;default:ir=ir.return}}function Cd(n){if(n!==ir)return!1;if(!Ke)return vE(n),Ke=!0,!1;var s=n.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=n.type,c=!(c!=="form"&&c!=="button")||z2(n.type,n.memoizedProps)),c=!c),c&&ji&&mu(n),vE(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));t:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(c=n.data,c==="/$"){if(s===0){ji=Os(n.nextSibling);break t}s--}else c!=="$"&&c!=="$!"&&c!=="$?"||s++;n=n.nextSibling}ji=null}}else s===27?(s=ji,sl(n.type)?(n=j2,j2=null,ji=n):ji=s):ji=ir?Os(n.stateNode.nextSibling):null;return!0}function Td(){ji=ir=null,Ke=!1}function yE(){var n=gu;return n!==null&&(br===null?br=n:br.push.apply(br,n),gu=null),n}function Dd(n){gu===null?gu=[n]:gu.push(n)}var Eb=it(null),vu=null,Fa=null;function Go(n,s,c){At(Eb,s._currentValue),s._currentValue=c}function Ua(n){n._currentValue=Eb.current,gt(Eb)}function Sb(n,s,c){for(;n!==null;){var d=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),n===c)break;n=n.return}}function xb(n,s,c,d){var v=n.child;for(v!==null&&(v.return=n);v!==null;){var _=v.dependencies;if(_!==null){var B=v.child;_=_.firstContext;t:for(;_!==null;){var j=_;_=v;for(var Q=0;Q<s.length;Q++)if(j.context===s[Q]){_.lanes|=c,j=_.alternate,j!==null&&(j.lanes|=c),Sb(_.return,c,n),d||(B=null);break t}_=j.next}}else if(v.tag===18){if(B=v.return,B===null)throw Error(i(341));B.lanes|=c,_=B.alternate,_!==null&&(_.lanes|=c),Sb(B,c,n),B=null}else B=v.child;if(B!==null)B.return=v;else for(B=v;B!==null;){if(B===n){B=null;break}if(v=B.sibling,v!==null){v.return=B.return,B=v;break}B=B.return}v=B}}function Rd(n,s,c,d){n=null;for(var v=s,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var B=v.alternate;if(B===null)throw Error(i(387));if(B=B.memoizedProps,B!==null){var j=v.type;Dr(v.pendingProps.value,B.value)||(n!==null?n.push(j):n=[j])}}else if(v===Yt.current){if(B=v.alternate,B===null)throw Error(i(387));B.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(n!==null?n.push(rp):n=[rp])}v=v.return}n!==null&&xb(s,n,c,d),s.flags|=262144}function Qm(n){for(n=n.firstContext;n!==null;){if(!Dr(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function yu(n){vu=n,Fa=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function $n(n){return bE(vu,n)}function Jm(n,s){return vu===null&&yu(n),bE(n,s)}function bE(n,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},Fa===null){if(n===null)throw Error(i(308));Fa=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Fa=Fa.next=s;return c}var _O=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(c,d){n.push(d)}};this.abort=function(){s.aborted=!0,n.forEach(function(c){return c()})}},EO=u.unstable_scheduleCallback,SO=u.unstable_NormalPriority,fn={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cb(){return{controller:new _O,data:new Map,refCount:0}}function kd(n){n.refCount--,n.refCount===0&&EO(SO,function(){n.controller.abort()})}var Nd=null,Tb=0,ah=0,oh=null;function xO(n,s){if(Nd===null){var c=Nd=[];Tb=0,ah=R2(),oh={status:"pending",value:void 0,then:function(d){c.push(d)}}}return Tb++,s.then(wE,wE),s}function wE(){if(--Tb===0&&Nd!==null){oh!==null&&(oh.status="fulfilled");var n=Nd;Nd=null,ah=0,oh=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function CO(n,s){var c=[],d={status:"pending",value:null,reason:null,then:function(v){c.push(v)}};return n.then(function(){d.status="fulfilled",d.value=s;for(var v=0;v<c.length;v++)(0,c[v])(s)},function(v){for(d.status="rejected",d.reason=v,v=0;v<c.length;v++)(0,c[v])(void 0)}),d}var AE=X.S;X.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&xO(n,s),AE!==null&&AE(n,s)};var bu=it(null);function Db(){var n=bu.current;return n!==null?n:Ei.pooledCache}function tv(n,s){s===null?At(bu,bu.current):At(bu,s.pool)}function _E(){var n=Db();return n===null?null:{parent:fn._currentValue,pool:n}}var Od=Error(i(460)),EE=Error(i(474)),ev=Error(i(542)),Rb={then:function(){}};function SE(n){return n=n.status,n==="fulfilled"||n==="rejected"}function iv(){}function xE(n,s,c){switch(c=n[c],c===void 0?n.push(s):c!==s&&(s.then(iv,iv),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,TE(n),n;default:if(typeof s.status=="string")s.then(iv,iv);else{if(n=Ei,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(d){if(s.status==="pending"){var v=s;v.status="fulfilled",v.value=d}},function(d){if(s.status==="pending"){var v=s;v.status="rejected",v.reason=d}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,TE(n),n}throw Md=s,Od}}var Md=null;function CE(){if(Md===null)throw Error(i(459));var n=Md;return Md=null,n}function TE(n){if(n===Od||n===ev)throw Error(i(483))}var Vo=!1;function kb(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nb(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function $o(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Wo(n,s,c){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(ai&2)!==0){var v=d.pending;return v===null?s.next=s:(s.next=v.next,v.next=s),d.pending=s,s=Ym(n),dE(n,null,c),s}return Wm(n,d,s,c),Ym(n)}function Ld(n,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var d=s.lanes;d&=n.pendingLanes,c|=d,s.lanes=c,C(n,c)}}function Ob(n,s){var c=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var v=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var B={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};_===null?v=_=B:_=_.next=B,c=c.next}while(c!==null);_===null?v=_=s:_=_.next=s}else v=_=s;c={baseState:d.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:d.shared,callbacks:d.callbacks},n.updateQueue=c;return}n=c.lastBaseUpdate,n===null?c.firstBaseUpdate=s:n.next=s,c.lastBaseUpdate=s}var Mb=!1;function Id(){if(Mb){var n=oh;if(n!==null)throw n}}function Bd(n,s,c,d){Mb=!1;var v=n.updateQueue;Vo=!1;var _=v.firstBaseUpdate,B=v.lastBaseUpdate,j=v.shared.pending;if(j!==null){v.shared.pending=null;var Q=j,vt=Q.next;Q.next=null,B===null?_=vt:B.next=vt,B=Q;var St=n.alternate;St!==null&&(St=St.updateQueue,j=St.lastBaseUpdate,j!==B&&(j===null?St.firstBaseUpdate=vt:j.next=vt,St.lastBaseUpdate=Q))}if(_!==null){var Rt=v.baseState;B=0,St=vt=Q=null,j=_;do{var yt=j.lane&-536870913,wt=yt!==j.lane;if(wt?(je&yt)===yt:(d&yt)===yt){yt!==0&&yt===ah&&(Mb=!0),St!==null&&(St=St.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});t:{var me=n,ce=j;yt=s;var hi=c;switch(ce.tag){case 1:if(me=ce.payload,typeof me=="function"){Rt=me.call(hi,Rt,yt);break t}Rt=me;break t;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ce.payload,yt=typeof me=="function"?me.call(hi,Rt,yt):me,yt==null)break t;Rt=g({},Rt,yt);break t;case 2:Vo=!0}}yt=j.callback,yt!==null&&(n.flags|=64,wt&&(n.flags|=8192),wt=v.callbacks,wt===null?v.callbacks=[yt]:wt.push(yt))}else wt={lane:yt,tag:j.tag,payload:j.payload,callback:j.callback,next:null},St===null?(vt=St=wt,Q=Rt):St=St.next=wt,B|=yt;if(j=j.next,j===null){if(j=v.shared.pending,j===null)break;wt=j,j=wt.next,wt.next=null,v.lastBaseUpdate=wt,v.shared.pending=null}}while(!0);St===null&&(Q=Rt),v.baseState=Q,v.firstBaseUpdate=vt,v.lastBaseUpdate=St,_===null&&(v.shared.lanes=0),el|=B,n.lanes=B,n.memoizedState=Rt}}function DE(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function RE(n,s){var c=n.callbacks;if(c!==null)for(n.callbacks=null,n=0;n<c.length;n++)DE(c[n],s)}var lh=it(null),nv=it(0);function kE(n,s){n=Wa,At(nv,n),At(lh,s),Wa=n|s.baseLanes}function Lb(){At(nv,Wa),At(lh,lh.current)}function Ib(){Wa=nv.current,gt(lh),gt(nv)}var Yo=0,Re=null,ui=null,nn=null,rv=!1,uh=!1,wu=!1,sv=0,Pd=0,ch=null,TO=0;function Yi(){throw Error(i(321))}function Bb(n,s){if(s===null)return!1;for(var c=0;c<s.length&&c<n.length;c++)if(!Dr(n[c],s[c]))return!1;return!0}function Pb(n,s,c,d,v,_){return Yo=_,Re=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,X.H=n===null||n.memoizedState===null?dS:pS,wu=!1,_=c(d,v),wu=!1,uh&&(_=OE(s,c,d,v)),NE(n),_}function NE(n){X.H=hv;var s=ui!==null&&ui.next!==null;if(Yo=0,nn=ui=Re=null,rv=!1,Pd=0,ch=null,s)throw Error(i(300));n===null||bn||(n=n.dependencies,n!==null&&Qm(n)&&(bn=!0))}function OE(n,s,c,d){Re=n;var v=0;do{if(uh&&(ch=null),Pd=0,uh=!1,25<=v)throw Error(i(301));if(v+=1,nn=ui=null,n.updateQueue!=null){var _=n.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}X.H=LO,_=s(c,d)}while(uh);return _}function DO(){var n=X.H,s=n.useState()[0];return s=typeof s.then=="function"?zd(s):s,n=n.useState()[0],(ui!==null?ui.memoizedState:null)!==n&&(Re.flags|=1024),s}function zb(){var n=sv!==0;return sv=0,n}function Fb(n,s,c){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~c}function Ub(n){if(rv){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}rv=!1}Yo=0,nn=ui=Re=null,uh=!1,Pd=sv=0,ch=null}function vr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?Re.memoizedState=nn=n:nn=nn.next=n,nn}function rn(){if(ui===null){var n=Re.alternate;n=n!==null?n.memoizedState:null}else n=ui.next;var s=nn===null?Re.memoizedState:nn.next;if(s!==null)nn=s,ui=n;else{if(n===null)throw Re.alternate===null?Error(i(467)):Error(i(310));ui=n,n={memoizedState:ui.memoizedState,baseState:ui.baseState,baseQueue:ui.baseQueue,queue:ui.queue,next:null},nn===null?Re.memoizedState=nn=n:nn=nn.next=n}return nn}function Hb(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zd(n){var s=Pd;return Pd+=1,ch===null&&(ch=[]),n=xE(ch,n,s),s=Re,(nn===null?s.memoizedState:nn.next)===null&&(s=s.alternate,X.H=s===null||s.memoizedState===null?dS:pS),n}function av(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return zd(n);if(n.$$typeof===R)return $n(n)}throw Error(i(438,String(n)))}function jb(n){var s=null,c=Re.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var d=Re.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(s={data:d.data.map(function(v){return v.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=Hb(),Re.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(n),d=0;d<n;d++)c[d]=k;return s.index++,c}function Ha(n,s){return typeof s=="function"?s(n):s}function ov(n){var s=rn();return qb(s,ui,n)}function qb(n,s,c){var d=n.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=c;var v=n.baseQueue,_=d.pending;if(_!==null){if(v!==null){var B=v.next;v.next=_.next,_.next=B}s.baseQueue=v=_,d.pending=null}if(_=n.baseState,v===null)n.memoizedState=_;else{s=v.next;var j=B=null,Q=null,vt=s,St=!1;do{var Rt=vt.lane&-536870913;if(Rt!==vt.lane?(je&Rt)===Rt:(Yo&Rt)===Rt){var yt=vt.revertLane;if(yt===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null}),Rt===ah&&(St=!0);else if((Yo&yt)===yt){vt=vt.next,yt===ah&&(St=!0);continue}else Rt={lane:0,revertLane:vt.revertLane,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null},Q===null?(j=Q=Rt,B=_):Q=Q.next=Rt,Re.lanes|=yt,el|=yt;Rt=vt.action,wu&&c(_,Rt),_=vt.hasEagerState?vt.eagerState:c(_,Rt)}else yt={lane:Rt,revertLane:vt.revertLane,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null},Q===null?(j=Q=yt,B=_):Q=Q.next=yt,Re.lanes|=Rt,el|=Rt;vt=vt.next}while(vt!==null&&vt!==s);if(Q===null?B=_:Q.next=j,!Dr(_,n.memoizedState)&&(bn=!0,St&&(c=oh,c!==null)))throw c;n.memoizedState=_,n.baseState=B,n.baseQueue=Q,d.lastRenderedState=_}return v===null&&(d.lanes=0),[n.memoizedState,d.dispatch]}function Gb(n){var s=rn(),c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=n;var d=c.dispatch,v=c.pending,_=s.memoizedState;if(v!==null){c.pending=null;var B=v=v.next;do _=n(_,B.action),B=B.next;while(B!==v);Dr(_,s.memoizedState)||(bn=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),c.lastRenderedState=_}return[_,d]}function ME(n,s,c){var d=Re,v=rn(),_=Ke;if(_){if(c===void 0)throw Error(i(407));c=c()}else c=s();var B=!Dr((ui||v).memoizedState,c);B&&(v.memoizedState=c,bn=!0),v=v.queue;var j=BE.bind(null,d,v,n);if(Fd(2048,8,j,[n]),v.getSnapshot!==s||B||nn!==null&&nn.memoizedState.tag&1){if(d.flags|=2048,hh(9,lv(),IE.bind(null,d,v,c,s),null),Ei===null)throw Error(i(349));_||(Yo&124)!==0||LE(d,s,c)}return c}function LE(n,s,c){n.flags|=16384,n={getSnapshot:s,value:c},s=Re.updateQueue,s===null?(s=Hb(),Re.updateQueue=s,s.stores=[n]):(c=s.stores,c===null?s.stores=[n]:c.push(n))}function IE(n,s,c,d){s.value=c,s.getSnapshot=d,PE(s)&&zE(n)}function BE(n,s,c){return c(function(){PE(s)&&zE(n)})}function PE(n){var s=n.getSnapshot;n=n.value;try{var c=s();return!Dr(n,c)}catch{return!0}}function zE(n){var s=ih(n,2);s!==null&&Lr(s,n,2)}function Vb(n){var s=vr();if(typeof n=="function"){var c=n;if(n=c(),wu){ri(!0);try{c()}finally{ri(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:n},s}function FE(n,s,c,d){return n.baseState=c,qb(n,ui,typeof d=="function"?d:Ha)}function RO(n,s,c,d,v){if(cv(n))throw Error(i(485));if(n=s.action,n!==null){var _={payload:v,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){_.listeners.push(B)}};X.T!==null?c(!0):_.isTransition=!1,d(_),c=s.pending,c===null?(_.next=s.pending=_,UE(s,_)):(_.next=c.next,s.pending=c.next=_)}}function UE(n,s){var c=s.action,d=s.payload,v=n.state;if(s.isTransition){var _=X.T,B={};X.T=B;try{var j=c(v,d),Q=X.S;Q!==null&&Q(B,j),HE(n,s,j)}catch(vt){$b(n,s,vt)}finally{X.T=_}}else try{_=c(v,d),HE(n,s,_)}catch(vt){$b(n,s,vt)}}function HE(n,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){jE(n,s,d)},function(d){return $b(n,s,d)}):jE(n,s,c)}function jE(n,s,c){s.status="fulfilled",s.value=c,qE(s),n.state=c,s=n.pending,s!==null&&(c=s.next,c===s?n.pending=null:(c=c.next,s.next=c,UE(n,c)))}function $b(n,s,c){var d=n.pending;if(n.pending=null,d!==null){d=d.next;do s.status="rejected",s.reason=c,qE(s),s=s.next;while(s!==d)}n.action=null}function qE(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function GE(n,s){return s}function VE(n,s){if(Ke){var c=Ei.formState;if(c!==null){t:{var d=Re;if(Ke){if(ji){e:{for(var v=ji,_=ta;v.nodeType!==8;){if(!_){v=null;break e}if(v=Os(v.nextSibling),v===null){v=null;break e}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){ji=Os(v.nextSibling),d=v.data==="F!";break t}}mu(d)}d=!1}d&&(s=c[0])}}return c=vr(),c.memoizedState=c.baseState=s,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:GE,lastRenderedState:s},c.queue=d,c=cS.bind(null,Re,d),d.dispatch=c,d=Vb(!1),_=Zb.bind(null,Re,!1,d.queue),d=vr(),v={state:s,dispatch:null,action:n,pending:null},d.queue=v,c=RO.bind(null,Re,v,_,c),v.dispatch=c,d.memoizedState=n,[s,c,!1]}function $E(n){var s=rn();return WE(s,ui,n)}function WE(n,s,c){if(s=qb(n,s,GE)[0],n=ov(Ha)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var d=zd(s)}catch(B){throw B===Od?ev:B}else d=s;s=rn();var v=s.queue,_=v.dispatch;return c!==s.memoizedState&&(Re.flags|=2048,hh(9,lv(),kO.bind(null,v,c),null)),[d,_,n]}function kO(n,s){n.action=s}function YE(n){var s=rn(),c=ui;if(c!==null)return WE(s,c,n);rn(),s=s.memoizedState,c=rn();var d=c.queue.dispatch;return c.memoizedState=n,[s,d,!1]}function hh(n,s,c,d){return n={tag:n,create:c,deps:d,inst:s,next:null},s=Re.updateQueue,s===null&&(s=Hb(),Re.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=n.next=n:(d=c.next,c.next=n,n.next=d,s.lastEffect=n),n}function lv(){return{destroy:void 0,resource:void 0}}function XE(){return rn().memoizedState}function uv(n,s,c,d){var v=vr();d=d===void 0?null:d,Re.flags|=n,v.memoizedState=hh(1|s,lv(),c,d)}function Fd(n,s,c,d){var v=rn();d=d===void 0?null:d;var _=v.memoizedState.inst;ui!==null&&d!==null&&Bb(d,ui.memoizedState.deps)?v.memoizedState=hh(s,_,c,d):(Re.flags|=n,v.memoizedState=hh(1|s,_,c,d))}function KE(n,s){uv(8390656,8,n,s)}function ZE(n,s){Fd(2048,8,n,s)}function QE(n,s){return Fd(4,2,n,s)}function JE(n,s){return Fd(4,4,n,s)}function tS(n,s){if(typeof s=="function"){n=n();var c=s(n);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function eS(n,s,c){c=c!=null?c.concat([n]):null,Fd(4,4,tS.bind(null,s,n),c)}function Wb(){}function iS(n,s){var c=rn();s=s===void 0?null:s;var d=c.memoizedState;return s!==null&&Bb(s,d[1])?d[0]:(c.memoizedState=[n,s],n)}function nS(n,s){var c=rn();s=s===void 0?null:s;var d=c.memoizedState;if(s!==null&&Bb(s,d[1]))return d[0];if(d=n(),wu){ri(!0);try{n()}finally{ri(!1)}}return c.memoizedState=[d,s],d}function Yb(n,s,c){return c===void 0||(Yo&1073741824)!==0?n.memoizedState=s:(n.memoizedState=c,n=ax(),Re.lanes|=n,el|=n,c)}function rS(n,s,c,d){return Dr(c,s)?c:lh.current!==null?(n=Yb(n,c,d),Dr(n,s)||(bn=!0),n):(Yo&42)===0?(bn=!0,n.memoizedState=c):(n=ax(),Re.lanes|=n,el|=n,s)}function sS(n,s,c,d,v){var _=Z.p;Z.p=_!==0&&8>_?_:8;var B=X.T,j={};X.T=j,Zb(n,!1,s,c);try{var Q=v(),vt=X.S;if(vt!==null&&vt(j,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var St=CO(Q,d);Ud(n,s,St,Mr(n))}else Ud(n,s,d,Mr(n))}catch(Rt){Ud(n,s,{then:function(){},status:"rejected",reason:Rt},Mr())}finally{Z.p=_,X.T=B}}function NO(){}function Xb(n,s,c,d){if(n.tag!==5)throw Error(i(476));var v=aS(n).queue;sS(n,v,s,ct,c===null?NO:function(){return oS(n),c(d)})}function aS(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:ct},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:c},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function oS(n){var s=aS(n).next.queue;Ud(n,s,{},Mr())}function Kb(){return $n(rp)}function lS(){return rn().memoizedState}function uS(){return rn().memoizedState}function OO(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var c=Mr();n=$o(c);var d=Wo(s,n,c);d!==null&&(Lr(d,s,c),Ld(d,s,c)),s={cache:Cb()},n.payload=s;return}s=s.return}}function MO(n,s,c){var d=Mr();c={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},cv(n)?hS(s,c):(c=mb(n,s,c,d),c!==null&&(Lr(c,n,d),fS(c,s,d)))}function cS(n,s,c){var d=Mr();Ud(n,s,c,d)}function Ud(n,s,c,d){var v={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(cv(n))hS(s,v);else{var _=n.alternate;if(n.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var B=s.lastRenderedState,j=_(B,c);if(v.hasEagerState=!0,v.eagerState=j,Dr(j,B))return Wm(n,s,v,0),Ei===null&&$m(),!1}catch{}finally{}if(c=mb(n,s,v,d),c!==null)return Lr(c,n,d),fS(c,s,d),!0}return!1}function Zb(n,s,c,d){if(d={lane:2,revertLane:R2(),action:d,hasEagerState:!1,eagerState:null,next:null},cv(n)){if(s)throw Error(i(479))}else s=mb(n,c,d,2),s!==null&&Lr(s,n,2)}function cv(n){var s=n.alternate;return n===Re||s!==null&&s===Re}function hS(n,s){uh=rv=!0;var c=n.pending;c===null?s.next=s:(s.next=c.next,c.next=s),n.pending=s}function fS(n,s,c){if((c&4194048)!==0){var d=s.lanes;d&=n.pendingLanes,c|=d,s.lanes=c,C(n,c)}}var hv={readContext:$n,use:av,useCallback:Yi,useContext:Yi,useEffect:Yi,useImperativeHandle:Yi,useLayoutEffect:Yi,useInsertionEffect:Yi,useMemo:Yi,useReducer:Yi,useRef:Yi,useState:Yi,useDebugValue:Yi,useDeferredValue:Yi,useTransition:Yi,useSyncExternalStore:Yi,useId:Yi,useHostTransitionStatus:Yi,useFormState:Yi,useActionState:Yi,useOptimistic:Yi,useMemoCache:Yi,useCacheRefresh:Yi},dS={readContext:$n,use:av,useCallback:function(n,s){return vr().memoizedState=[n,s===void 0?null:s],n},useContext:$n,useEffect:KE,useImperativeHandle:function(n,s,c){c=c!=null?c.concat([n]):null,uv(4194308,4,tS.bind(null,s,n),c)},useLayoutEffect:function(n,s){return uv(4194308,4,n,s)},useInsertionEffect:function(n,s){uv(4,2,n,s)},useMemo:function(n,s){var c=vr();s=s===void 0?null:s;var d=n();if(wu){ri(!0);try{n()}finally{ri(!1)}}return c.memoizedState=[d,s],d},useReducer:function(n,s,c){var d=vr();if(c!==void 0){var v=c(s);if(wu){ri(!0);try{c(s)}finally{ri(!1)}}}else v=s;return d.memoizedState=d.baseState=v,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:v},d.queue=n,n=n.dispatch=MO.bind(null,Re,n),[d.memoizedState,n]},useRef:function(n){var s=vr();return n={current:n},s.memoizedState=n},useState:function(n){n=Vb(n);var s=n.queue,c=cS.bind(null,Re,s);return s.dispatch=c,[n.memoizedState,c]},useDebugValue:Wb,useDeferredValue:function(n,s){var c=vr();return Yb(c,n,s)},useTransition:function(){var n=Vb(!1);return n=sS.bind(null,Re,n.queue,!0,!1),vr().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,c){var d=Re,v=vr();if(Ke){if(c===void 0)throw Error(i(407));c=c()}else{if(c=s(),Ei===null)throw Error(i(349));(je&124)!==0||LE(d,s,c)}v.memoizedState=c;var _={value:c,getSnapshot:s};return v.queue=_,KE(BE.bind(null,d,_,n),[n]),d.flags|=2048,hh(9,lv(),IE.bind(null,d,_,c,s),null),c},useId:function(){var n=vr(),s=Ei.identifierPrefix;if(Ke){var c=za,d=Pa;c=(d&~(1<<32-Xe(d)-1)).toString(32)+c,s=""+s+"R"+c,c=sv++,0<c&&(s+="H"+c.toString(32)),s+=""}else c=TO++,s=""+s+"r"+c.toString(32)+"";return n.memoizedState=s},useHostTransitionStatus:Kb,useFormState:VE,useActionState:VE,useOptimistic:function(n){var s=vr();s.memoizedState=s.baseState=n;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=Zb.bind(null,Re,!0,c),c.dispatch=s,[n,s]},useMemoCache:jb,useCacheRefresh:function(){return vr().memoizedState=OO.bind(null,Re)}},pS={readContext:$n,use:av,useCallback:iS,useContext:$n,useEffect:ZE,useImperativeHandle:eS,useInsertionEffect:QE,useLayoutEffect:JE,useMemo:nS,useReducer:ov,useRef:XE,useState:function(){return ov(Ha)},useDebugValue:Wb,useDeferredValue:function(n,s){var c=rn();return rS(c,ui.memoizedState,n,s)},useTransition:function(){var n=ov(Ha)[0],s=rn().memoizedState;return[typeof n=="boolean"?n:zd(n),s]},useSyncExternalStore:ME,useId:lS,useHostTransitionStatus:Kb,useFormState:$E,useActionState:$E,useOptimistic:function(n,s){var c=rn();return FE(c,ui,n,s)},useMemoCache:jb,useCacheRefresh:uS},LO={readContext:$n,use:av,useCallback:iS,useContext:$n,useEffect:ZE,useImperativeHandle:eS,useInsertionEffect:QE,useLayoutEffect:JE,useMemo:nS,useReducer:Gb,useRef:XE,useState:function(){return Gb(Ha)},useDebugValue:Wb,useDeferredValue:function(n,s){var c=rn();return ui===null?Yb(c,n,s):rS(c,ui.memoizedState,n,s)},useTransition:function(){var n=Gb(Ha)[0],s=rn().memoizedState;return[typeof n=="boolean"?n:zd(n),s]},useSyncExternalStore:ME,useId:lS,useHostTransitionStatus:Kb,useFormState:YE,useActionState:YE,useOptimistic:function(n,s){var c=rn();return ui!==null?FE(c,ui,n,s):(c.baseState=n,[n,c.queue.dispatch])},useMemoCache:jb,useCacheRefresh:uS},fh=null,Hd=0;function fv(n){var s=Hd;return Hd+=1,fh===null&&(fh=[]),xE(fh,n,s)}function jd(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function dv(n,s){throw s.$$typeof===m?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function gS(n){var s=n._init;return s(n._payload)}function mS(n){function s(ut,rt){if(n){var mt=ut.deletions;mt===null?(ut.deletions=[rt],ut.flags|=16):mt.push(rt)}}function c(ut,rt){if(!n)return null;for(;rt!==null;)s(ut,rt),rt=rt.sibling;return null}function d(ut){for(var rt=new Map;ut!==null;)ut.key!==null?rt.set(ut.key,ut):rt.set(ut.index,ut),ut=ut.sibling;return rt}function v(ut,rt){return ut=Ba(ut,rt),ut.index=0,ut.sibling=null,ut}function _(ut,rt,mt){return ut.index=mt,n?(mt=ut.alternate,mt!==null?(mt=mt.index,mt<rt?(ut.flags|=67108866,rt):mt):(ut.flags|=67108866,rt)):(ut.flags|=1048576,rt)}function B(ut){return n&&ut.alternate===null&&(ut.flags|=67108866),ut}function j(ut,rt,mt,Tt){return rt===null||rt.tag!==6?(rt=yb(mt,ut.mode,Tt),rt.return=ut,rt):(rt=v(rt,mt),rt.return=ut,rt)}function Q(ut,rt,mt,Tt){var ie=mt.type;return ie===T?St(ut,rt,mt.props.children,Tt,mt.key):rt!==null&&(rt.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===U&&gS(ie)===rt.type)?(rt=v(rt,mt.props),jd(rt,mt),rt.return=ut,rt):(rt=Xm(mt.type,mt.key,mt.props,null,ut.mode,Tt),jd(rt,mt),rt.return=ut,rt)}function vt(ut,rt,mt,Tt){return rt===null||rt.tag!==4||rt.stateNode.containerInfo!==mt.containerInfo||rt.stateNode.implementation!==mt.implementation?(rt=bb(mt,ut.mode,Tt),rt.return=ut,rt):(rt=v(rt,mt.children||[]),rt.return=ut,rt)}function St(ut,rt,mt,Tt,ie){return rt===null||rt.tag!==7?(rt=fu(mt,ut.mode,Tt,ie),rt.return=ut,rt):(rt=v(rt,mt),rt.return=ut,rt)}function Rt(ut,rt,mt){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return rt=yb(""+rt,ut.mode,mt),rt.return=ut,rt;if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case y:return mt=Xm(rt.type,rt.key,rt.props,null,ut.mode,mt),jd(mt,rt),mt.return=ut,mt;case b:return rt=bb(rt,ut.mode,mt),rt.return=ut,rt;case U:var Tt=rt._init;return rt=Tt(rt._payload),Rt(ut,rt,mt)}if(bt(rt)||Y(rt))return rt=fu(rt,ut.mode,mt,null),rt.return=ut,rt;if(typeof rt.then=="function")return Rt(ut,fv(rt),mt);if(rt.$$typeof===R)return Rt(ut,Jm(ut,rt),mt);dv(ut,rt)}return null}function yt(ut,rt,mt,Tt){var ie=rt!==null?rt.key:null;if(typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint")return ie!==null?null:j(ut,rt,""+mt,Tt);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case y:return mt.key===ie?Q(ut,rt,mt,Tt):null;case b:return mt.key===ie?vt(ut,rt,mt,Tt):null;case U:return ie=mt._init,mt=ie(mt._payload),yt(ut,rt,mt,Tt)}if(bt(mt)||Y(mt))return ie!==null?null:St(ut,rt,mt,Tt,null);if(typeof mt.then=="function")return yt(ut,rt,fv(mt),Tt);if(mt.$$typeof===R)return yt(ut,rt,Jm(ut,mt),Tt);dv(ut,mt)}return null}function wt(ut,rt,mt,Tt,ie){if(typeof Tt=="string"&&Tt!==""||typeof Tt=="number"||typeof Tt=="bigint")return ut=ut.get(mt)||null,j(rt,ut,""+Tt,ie);if(typeof Tt=="object"&&Tt!==null){switch(Tt.$$typeof){case y:return ut=ut.get(Tt.key===null?mt:Tt.key)||null,Q(rt,ut,Tt,ie);case b:return ut=ut.get(Tt.key===null?mt:Tt.key)||null,vt(rt,ut,Tt,ie);case U:var Ne=Tt._init;return Tt=Ne(Tt._payload),wt(ut,rt,mt,Tt,ie)}if(bt(Tt)||Y(Tt))return ut=ut.get(mt)||null,St(rt,ut,Tt,ie,null);if(typeof Tt.then=="function")return wt(ut,rt,mt,fv(Tt),ie);if(Tt.$$typeof===R)return wt(ut,rt,mt,Jm(rt,Tt),ie);dv(rt,Tt)}return null}function me(ut,rt,mt,Tt){for(var ie=null,Ne=null,ae=rt,pe=rt=0,An=null;ae!==null&&pe<mt.length;pe++){ae.index>pe?(An=ae,ae=null):An=ae.sibling;var Ye=yt(ut,ae,mt[pe],Tt);if(Ye===null){ae===null&&(ae=An);break}n&&ae&&Ye.alternate===null&&s(ut,ae),rt=_(Ye,rt,pe),Ne===null?ie=Ye:Ne.sibling=Ye,Ne=Ye,ae=An}if(pe===mt.length)return c(ut,ae),Ke&&pu(ut,pe),ie;if(ae===null){for(;pe<mt.length;pe++)ae=Rt(ut,mt[pe],Tt),ae!==null&&(rt=_(ae,rt,pe),Ne===null?ie=ae:Ne.sibling=ae,Ne=ae);return Ke&&pu(ut,pe),ie}for(ae=d(ae);pe<mt.length;pe++)An=wt(ae,ut,pe,mt[pe],Tt),An!==null&&(n&&An.alternate!==null&&ae.delete(An.key===null?pe:An.key),rt=_(An,rt,pe),Ne===null?ie=An:Ne.sibling=An,Ne=An);return n&&ae.forEach(function(cl){return s(ut,cl)}),Ke&&pu(ut,pe),ie}function ce(ut,rt,mt,Tt){if(mt==null)throw Error(i(151));for(var ie=null,Ne=null,ae=rt,pe=rt=0,An=null,Ye=mt.next();ae!==null&&!Ye.done;pe++,Ye=mt.next()){ae.index>pe?(An=ae,ae=null):An=ae.sibling;var cl=yt(ut,ae,Ye.value,Tt);if(cl===null){ae===null&&(ae=An);break}n&&ae&&cl.alternate===null&&s(ut,ae),rt=_(cl,rt,pe),Ne===null?ie=cl:Ne.sibling=cl,Ne=cl,ae=An}if(Ye.done)return c(ut,ae),Ke&&pu(ut,pe),ie;if(ae===null){for(;!Ye.done;pe++,Ye=mt.next())Ye=Rt(ut,Ye.value,Tt),Ye!==null&&(rt=_(Ye,rt,pe),Ne===null?ie=Ye:Ne.sibling=Ye,Ne=Ye);return Ke&&pu(ut,pe),ie}for(ae=d(ae);!Ye.done;pe++,Ye=mt.next())Ye=wt(ae,ut,pe,Ye.value,Tt),Ye!==null&&(n&&Ye.alternate!==null&&ae.delete(Ye.key===null?pe:Ye.key),rt=_(Ye,rt,pe),Ne===null?ie=Ye:Ne.sibling=Ye,Ne=Ye);return n&&ae.forEach(function(I3){return s(ut,I3)}),Ke&&pu(ut,pe),ie}function hi(ut,rt,mt,Tt){if(typeof mt=="object"&&mt!==null&&mt.type===T&&mt.key===null&&(mt=mt.props.children),typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case y:t:{for(var ie=mt.key;rt!==null;){if(rt.key===ie){if(ie=mt.type,ie===T){if(rt.tag===7){c(ut,rt.sibling),Tt=v(rt,mt.props.children),Tt.return=ut,ut=Tt;break t}}else if(rt.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===U&&gS(ie)===rt.type){c(ut,rt.sibling),Tt=v(rt,mt.props),jd(Tt,mt),Tt.return=ut,ut=Tt;break t}c(ut,rt);break}else s(ut,rt);rt=rt.sibling}mt.type===T?(Tt=fu(mt.props.children,ut.mode,Tt,mt.key),Tt.return=ut,ut=Tt):(Tt=Xm(mt.type,mt.key,mt.props,null,ut.mode,Tt),jd(Tt,mt),Tt.return=ut,ut=Tt)}return B(ut);case b:t:{for(ie=mt.key;rt!==null;){if(rt.key===ie)if(rt.tag===4&&rt.stateNode.containerInfo===mt.containerInfo&&rt.stateNode.implementation===mt.implementation){c(ut,rt.sibling),Tt=v(rt,mt.children||[]),Tt.return=ut,ut=Tt;break t}else{c(ut,rt);break}else s(ut,rt);rt=rt.sibling}Tt=bb(mt,ut.mode,Tt),Tt.return=ut,ut=Tt}return B(ut);case U:return ie=mt._init,mt=ie(mt._payload),hi(ut,rt,mt,Tt)}if(bt(mt))return me(ut,rt,mt,Tt);if(Y(mt)){if(ie=Y(mt),typeof ie!="function")throw Error(i(150));return mt=ie.call(mt),ce(ut,rt,mt,Tt)}if(typeof mt.then=="function")return hi(ut,rt,fv(mt),Tt);if(mt.$$typeof===R)return hi(ut,rt,Jm(ut,mt),Tt);dv(ut,mt)}return typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint"?(mt=""+mt,rt!==null&&rt.tag===6?(c(ut,rt.sibling),Tt=v(rt,mt),Tt.return=ut,ut=Tt):(c(ut,rt),Tt=yb(mt,ut.mode,Tt),Tt.return=ut,ut=Tt),B(ut)):c(ut,rt)}return function(ut,rt,mt,Tt){try{Hd=0;var ie=hi(ut,rt,mt,Tt);return fh=null,ie}catch(ae){if(ae===Od||ae===ev)throw ae;var Ne=Rr(29,ae,null,ut.mode);return Ne.lanes=Tt,Ne.return=ut,Ne}finally{}}}var dh=mS(!0),vS=mS(!1),os=it(null),ea=null;function Xo(n){var s=n.alternate;At(dn,dn.current&1),At(os,n),ea===null&&(s===null||lh.current!==null||s.memoizedState!==null)&&(ea=n)}function yS(n){if(n.tag===22){if(At(dn,dn.current),At(os,n),ea===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(ea=n)}}else Ko()}function Ko(){At(dn,dn.current),At(os,os.current)}function ja(n){gt(os),ea===n&&(ea=null),gt(dn)}var dn=it(0);function pv(n){for(var s=n;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||H2(c)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Qb(n,s,c,d){s=n.memoizedState,c=c(d,s),c=c==null?s:g({},s,c),n.memoizedState=c,n.lanes===0&&(n.updateQueue.baseState=c)}var Jb={enqueueSetState:function(n,s,c){n=n._reactInternals;var d=Mr(),v=$o(d);v.payload=s,c!=null&&(v.callback=c),s=Wo(n,v,d),s!==null&&(Lr(s,n,d),Ld(s,n,d))},enqueueReplaceState:function(n,s,c){n=n._reactInternals;var d=Mr(),v=$o(d);v.tag=1,v.payload=s,c!=null&&(v.callback=c),s=Wo(n,v,d),s!==null&&(Lr(s,n,d),Ld(s,n,d))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var c=Mr(),d=$o(c);d.tag=2,s!=null&&(d.callback=s),s=Wo(n,d,c),s!==null&&(Lr(s,n,c),Ld(s,n,c))}};function bS(n,s,c,d,v,_,B){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,_,B):s.prototype&&s.prototype.isPureReactComponent?!Sd(c,d)||!Sd(v,_):!0}function wS(n,s,c,d){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,d),s.state!==n&&Jb.enqueueReplaceState(s,s.state,null)}function Au(n,s){var c=s;if("ref"in s){c={};for(var d in s)d!=="ref"&&(c[d]=s[d])}if(n=n.defaultProps){c===s&&(c=g({},c));for(var v in n)c[v]===void 0&&(c[v]=n[v])}return c}var gv=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function AS(n){gv(n)}function _S(n){console.error(n)}function ES(n){gv(n)}function mv(n,s){try{var c=n.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(d){setTimeout(function(){throw d})}}function SS(n,s,c){try{var d=n.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function t2(n,s,c){return c=$o(c),c.tag=3,c.payload={element:null},c.callback=function(){mv(n,s)},c}function xS(n){return n=$o(n),n.tag=3,n}function CS(n,s,c,d){var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var _=d.value;n.payload=function(){return v(_)},n.callback=function(){SS(s,c,d)}}var B=c.stateNode;B!==null&&typeof B.componentDidCatch=="function"&&(n.callback=function(){SS(s,c,d),typeof v!="function"&&(il===null?il=new Set([this]):il.add(this));var j=d.stack;this.componentDidCatch(d.value,{componentStack:j!==null?j:""})})}function IO(n,s,c,d,v){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(s=c.alternate,s!==null&&Rd(s,c,v,!0),c=os.current,c!==null){switch(c.tag){case 13:return ea===null?S2():c.alternate===null&&qi===0&&(qi=3),c.flags&=-257,c.flags|=65536,c.lanes=v,d===Rb?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([d]):s.add(d),C2(n,d,v)),!1;case 22:return c.flags|=65536,d===Rb?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([d]):c.add(d)),C2(n,d,v)),!1}throw Error(i(435,c.tag))}return C2(n,d,v),S2(),!1}if(Ke)return s=os.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=v,d!==_b&&(n=Error(i(422),{cause:d}),Dd(ns(n,c)))):(d!==_b&&(s=Error(i(423),{cause:d}),Dd(ns(s,c))),n=n.current.alternate,n.flags|=65536,v&=-v,n.lanes|=v,d=ns(d,c),v=t2(n.stateNode,d,v),Ob(n,v),qi!==4&&(qi=2)),!1;var _=Error(i(520),{cause:d});if(_=ns(_,c),Xd===null?Xd=[_]:Xd.push(_),qi!==4&&(qi=2),s===null)return!0;d=ns(d,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,n=v&-v,c.lanes|=n,n=t2(c.stateNode,d,n),Ob(c,n),!1;case 1:if(s=c.type,_=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(il===null||!il.has(_))))return c.flags|=65536,v&=-v,c.lanes|=v,v=xS(v),CS(v,n,c,d),Ob(c,v),!1}c=c.return}while(c!==null);return!1}var TS=Error(i(461)),bn=!1;function Rn(n,s,c,d){s.child=n===null?vS(s,null,c,d):dh(s,n.child,c,d)}function DS(n,s,c,d,v){c=c.render;var _=s.ref;if("ref"in d){var B={};for(var j in d)j!=="ref"&&(B[j]=d[j])}else B=d;return yu(s),d=Pb(n,s,c,B,_,v),j=zb(),n!==null&&!bn?(Fb(n,s,v),qa(n,s,v)):(Ke&&j&&wb(s),s.flags|=1,Rn(n,s,d,v),s.child)}function RS(n,s,c,d,v){if(n===null){var _=c.type;return typeof _=="function"&&!vb(_)&&_.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=_,kS(n,s,_,d,v)):(n=Xm(c.type,null,d,s,s.mode,v),n.ref=s.ref,n.return=s,s.child=n)}if(_=n.child,!l2(n,v)){var B=_.memoizedProps;if(c=c.compare,c=c!==null?c:Sd,c(B,d)&&n.ref===s.ref)return qa(n,s,v)}return s.flags|=1,n=Ba(_,d),n.ref=s.ref,n.return=s,s.child=n}function kS(n,s,c,d,v){if(n!==null){var _=n.memoizedProps;if(Sd(_,d)&&n.ref===s.ref)if(bn=!1,s.pendingProps=d=_,l2(n,v))(n.flags&131072)!==0&&(bn=!0);else return s.lanes=n.lanes,qa(n,s,v)}return e2(n,s,c,d,v)}function NS(n,s,c){var d=s.pendingProps,v=d.children,_=n!==null?n.memoizedState:null;if(d.mode==="hidden"){if((s.flags&128)!==0){if(d=_!==null?_.baseLanes|c:c,n!==null){for(v=s.child=n.child,_=0;v!==null;)_=_|v.lanes|v.childLanes,v=v.sibling;s.childLanes=_&~d}else s.childLanes=0,s.child=null;return OS(n,s,d,c)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&tv(s,_!==null?_.cachePool:null),_!==null?kE(s,_):Lb(),yS(s);else return s.lanes=s.childLanes=536870912,OS(n,s,_!==null?_.baseLanes|c:c,c)}else _!==null?(tv(s,_.cachePool),kE(s,_),Ko(),s.memoizedState=null):(n!==null&&tv(s,null),Lb(),Ko());return Rn(n,s,v,c),s.child}function OS(n,s,c,d){var v=Db();return v=v===null?null:{parent:fn._currentValue,pool:v},s.memoizedState={baseLanes:c,cachePool:v},n!==null&&tv(s,null),Lb(),yS(s),n!==null&&Rd(n,s,d,!0),null}function vv(n,s){var c=s.ref;if(c===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(n===null||n.ref!==c)&&(s.flags|=4194816)}}function e2(n,s,c,d,v){return yu(s),c=Pb(n,s,c,d,void 0,v),d=zb(),n!==null&&!bn?(Fb(n,s,v),qa(n,s,v)):(Ke&&d&&wb(s),s.flags|=1,Rn(n,s,c,v),s.child)}function MS(n,s,c,d,v,_){return yu(s),s.updateQueue=null,c=OE(s,d,c,v),NE(n),d=zb(),n!==null&&!bn?(Fb(n,s,_),qa(n,s,_)):(Ke&&d&&wb(s),s.flags|=1,Rn(n,s,c,_),s.child)}function LS(n,s,c,d,v){if(yu(s),s.stateNode===null){var _=nh,B=c.contextType;typeof B=="object"&&B!==null&&(_=$n(B)),_=new c(d,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Jb,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=d,_.state=s.memoizedState,_.refs={},kb(s),B=c.contextType,_.context=typeof B=="object"&&B!==null?$n(B):nh,_.state=s.memoizedState,B=c.getDerivedStateFromProps,typeof B=="function"&&(Qb(s,c,B,d),_.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(B=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),B!==_.state&&Jb.enqueueReplaceState(_,_.state,null),Bd(s,d,_,v),Id(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),d=!0}else if(n===null){_=s.stateNode;var j=s.memoizedProps,Q=Au(c,j);_.props=Q;var vt=_.context,St=c.contextType;B=nh,typeof St=="object"&&St!==null&&(B=$n(St));var Rt=c.getDerivedStateFromProps;St=typeof Rt=="function"||typeof _.getSnapshotBeforeUpdate=="function",j=s.pendingProps!==j,St||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(j||vt!==B)&&wS(s,_,d,B),Vo=!1;var yt=s.memoizedState;_.state=yt,Bd(s,d,_,v),Id(),vt=s.memoizedState,j||yt!==vt||Vo?(typeof Rt=="function"&&(Qb(s,c,Rt,d),vt=s.memoizedState),(Q=Vo||bS(s,c,Q,d,yt,vt,B))?(St||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=vt),_.props=d,_.state=vt,_.context=B,d=Q):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{_=s.stateNode,Nb(n,s),B=s.memoizedProps,St=Au(c,B),_.props=St,Rt=s.pendingProps,yt=_.context,vt=c.contextType,Q=nh,typeof vt=="object"&&vt!==null&&(Q=$n(vt)),j=c.getDerivedStateFromProps,(vt=typeof j=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(B!==Rt||yt!==Q)&&wS(s,_,d,Q),Vo=!1,yt=s.memoizedState,_.state=yt,Bd(s,d,_,v),Id();var wt=s.memoizedState;B!==Rt||yt!==wt||Vo||n!==null&&n.dependencies!==null&&Qm(n.dependencies)?(typeof j=="function"&&(Qb(s,c,j,d),wt=s.memoizedState),(St=Vo||bS(s,c,St,d,yt,wt,Q)||n!==null&&n.dependencies!==null&&Qm(n.dependencies))?(vt||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(d,wt,Q),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(d,wt,Q)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||B===n.memoizedProps&&yt===n.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||B===n.memoizedProps&&yt===n.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=wt),_.props=d,_.state=wt,_.context=Q,d=St):(typeof _.componentDidUpdate!="function"||B===n.memoizedProps&&yt===n.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||B===n.memoizedProps&&yt===n.memoizedState||(s.flags|=1024),d=!1)}return _=d,vv(n,s),d=(s.flags&128)!==0,_||d?(_=s.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,n!==null&&d?(s.child=dh(s,n.child,null,v),s.child=dh(s,null,c,v)):Rn(n,s,c,v),s.memoizedState=_.state,n=s.child):n=qa(n,s,v),n}function IS(n,s,c,d){return Td(),s.flags|=256,Rn(n,s,c,d),s.child}var i2={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function n2(n){return{baseLanes:n,cachePool:_E()}}function r2(n,s,c){return n=n!==null?n.childLanes&~c:0,s&&(n|=ls),n}function BS(n,s,c){var d=s.pendingProps,v=!1,_=(s.flags&128)!==0,B;if((B=_)||(B=n!==null&&n.memoizedState===null?!1:(dn.current&2)!==0),B&&(v=!0,s.flags&=-129),B=(s.flags&32)!==0,s.flags&=-33,n===null){if(Ke){if(v?Xo(s):Ko(),Ke){var j=ji,Q;if(Q=j){t:{for(Q=j,j=ta;Q.nodeType!==8;){if(!j){j=null;break t}if(Q=Os(Q.nextSibling),Q===null){j=null;break t}}j=Q}j!==null?(s.memoizedState={dehydrated:j,treeContext:du!==null?{id:Pa,overflow:za}:null,retryLane:536870912,hydrationErrors:null},Q=Rr(18,null,null,0),Q.stateNode=j,Q.return=s,s.child=Q,ir=s,ji=null,Q=!0):Q=!1}Q||mu(s)}if(j=s.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return H2(j)?s.lanes=32:s.lanes=536870912,null;ja(s)}return j=d.children,d=d.fallback,v?(Ko(),v=s.mode,j=yv({mode:"hidden",children:j},v),d=fu(d,v,c,null),j.return=s,d.return=s,j.sibling=d,s.child=j,v=s.child,v.memoizedState=n2(c),v.childLanes=r2(n,B,c),s.memoizedState=i2,d):(Xo(s),s2(s,j))}if(Q=n.memoizedState,Q!==null&&(j=Q.dehydrated,j!==null)){if(_)s.flags&256?(Xo(s),s.flags&=-257,s=a2(n,s,c)):s.memoizedState!==null?(Ko(),s.child=n.child,s.flags|=128,s=null):(Ko(),v=d.fallback,j=s.mode,d=yv({mode:"visible",children:d.children},j),v=fu(v,j,c,null),v.flags|=2,d.return=s,v.return=s,d.sibling=v,s.child=d,dh(s,n.child,null,c),d=s.child,d.memoizedState=n2(c),d.childLanes=r2(n,B,c),s.memoizedState=i2,s=v);else if(Xo(s),H2(j)){if(B=j.nextSibling&&j.nextSibling.dataset,B)var vt=B.dgst;B=vt,d=Error(i(419)),d.stack="",d.digest=B,Dd({value:d,source:null,stack:null}),s=a2(n,s,c)}else if(bn||Rd(n,s,c,!1),B=(c&n.childLanes)!==0,bn||B){if(B=Ei,B!==null&&(d=c&-c,d=(d&42)!==0?1:at(d),d=(d&(B.suspendedLanes|c))!==0?0:d,d!==0&&d!==Q.retryLane))throw Q.retryLane=d,ih(n,d),Lr(B,n,d),TS;j.data==="$?"||S2(),s=a2(n,s,c)}else j.data==="$?"?(s.flags|=192,s.child=n.child,s=null):(n=Q.treeContext,ji=Os(j.nextSibling),ir=s,Ke=!0,gu=null,ta=!1,n!==null&&(ss[as++]=Pa,ss[as++]=za,ss[as++]=du,Pa=n.id,za=n.overflow,du=s),s=s2(s,d.children),s.flags|=4096);return s}return v?(Ko(),v=d.fallback,j=s.mode,Q=n.child,vt=Q.sibling,d=Ba(Q,{mode:"hidden",children:d.children}),d.subtreeFlags=Q.subtreeFlags&65011712,vt!==null?v=Ba(vt,v):(v=fu(v,j,c,null),v.flags|=2),v.return=s,d.return=s,d.sibling=v,s.child=d,d=v,v=s.child,j=n.child.memoizedState,j===null?j=n2(c):(Q=j.cachePool,Q!==null?(vt=fn._currentValue,Q=Q.parent!==vt?{parent:vt,pool:vt}:Q):Q=_E(),j={baseLanes:j.baseLanes|c,cachePool:Q}),v.memoizedState=j,v.childLanes=r2(n,B,c),s.memoizedState=i2,d):(Xo(s),c=n.child,n=c.sibling,c=Ba(c,{mode:"visible",children:d.children}),c.return=s,c.sibling=null,n!==null&&(B=s.deletions,B===null?(s.deletions=[n],s.flags|=16):B.push(n)),s.child=c,s.memoizedState=null,c)}function s2(n,s){return s=yv({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function yv(n,s){return n=Rr(22,n,null,s),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function a2(n,s,c){return dh(s,n.child,null,c),n=s2(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function PS(n,s,c){n.lanes|=s;var d=n.alternate;d!==null&&(d.lanes|=s),Sb(n.return,s,c)}function o2(n,s,c,d,v){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:v}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=d,_.tail=c,_.tailMode=v)}function zS(n,s,c){var d=s.pendingProps,v=d.revealOrder,_=d.tail;if(Rn(n,s,d.children,c),d=dn.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&PS(n,c,s);else if(n.tag===19)PS(n,c,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break t;for(;n.sibling===null;){if(n.return===null||n.return===s)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}d&=1}switch(At(dn,d),v){case"forwards":for(c=s.child,v=null;c!==null;)n=c.alternate,n!==null&&pv(n)===null&&(v=c),c=c.sibling;c=v,c===null?(v=s.child,s.child=null):(v=c.sibling,c.sibling=null),o2(s,!1,v,c,_);break;case"backwards":for(c=null,v=s.child,s.child=null;v!==null;){if(n=v.alternate,n!==null&&pv(n)===null){s.child=v;break}n=v.sibling,v.sibling=c,c=v,v=n}o2(s,!0,c,null,_);break;case"together":o2(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function qa(n,s,c){if(n!==null&&(s.dependencies=n.dependencies),el|=s.lanes,(c&s.childLanes)===0)if(n!==null){if(Rd(n,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,c=Ba(n,n.pendingProps),s.child=c,c.return=s;n.sibling!==null;)n=n.sibling,c=c.sibling=Ba(n,n.pendingProps),c.return=s;c.sibling=null}return s.child}function l2(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Qm(n)))}function BO(n,s,c){switch(s.tag){case 3:zt(s,s.stateNode.containerInfo),Go(s,fn,n.memoizedState.cache),Td();break;case 27:case 5:Te(s);break;case 4:zt(s,s.stateNode.containerInfo);break;case 10:Go(s,s.type,s.memoizedProps.value);break;case 13:var d=s.memoizedState;if(d!==null)return d.dehydrated!==null?(Xo(s),s.flags|=128,null):(c&s.child.childLanes)!==0?BS(n,s,c):(Xo(s),n=qa(n,s,c),n!==null?n.sibling:null);Xo(s);break;case 19:var v=(n.flags&128)!==0;if(d=(c&s.childLanes)!==0,d||(Rd(n,s,c,!1),d=(c&s.childLanes)!==0),v){if(d)return zS(n,s,c);s.flags|=128}if(v=s.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),At(dn,dn.current),d)break;return null;case 22:case 23:return s.lanes=0,NS(n,s,c);case 24:Go(s,fn,n.memoizedState.cache)}return qa(n,s,c)}function FS(n,s,c){if(n!==null)if(n.memoizedProps!==s.pendingProps)bn=!0;else{if(!l2(n,c)&&(s.flags&128)===0)return bn=!1,BO(n,s,c);bn=(n.flags&131072)!==0}else bn=!1,Ke&&(s.flags&1048576)!==0&&gE(s,Zm,s.index);switch(s.lanes=0,s.tag){case 16:t:{n=s.pendingProps;var d=s.elementType,v=d._init;if(d=v(d._payload),s.type=d,typeof d=="function")vb(d)?(n=Au(d,n),s.tag=1,s=LS(null,s,d,n,c)):(s.tag=0,s=e2(null,s,d,n,c));else{if(d!=null){if(v=d.$$typeof,v===N){s.tag=11,s=DS(null,s,d,n,c);break t}else if(v===I){s.tag=14,s=RS(null,s,d,n,c);break t}}throw s=ft(d)||d,Error(i(306,s,""))}}return s;case 0:return e2(n,s,s.type,s.pendingProps,c);case 1:return d=s.type,v=Au(d,s.pendingProps),LS(n,s,d,v,c);case 3:t:{if(zt(s,s.stateNode.containerInfo),n===null)throw Error(i(387));d=s.pendingProps;var _=s.memoizedState;v=_.element,Nb(n,s),Bd(s,d,null,c);var B=s.memoizedState;if(d=B.cache,Go(s,fn,d),d!==_.cache&&xb(s,[fn],c,!0),Id(),d=B.element,_.isDehydrated)if(_={element:d,isDehydrated:!1,cache:B.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=IS(n,s,d,c);break t}else if(d!==v){v=ns(Error(i(424)),s),Dd(v),s=IS(n,s,d,c);break t}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ji=Os(n.firstChild),ir=s,Ke=!0,gu=null,ta=!0,c=vS(s,null,d,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Td(),d===v){s=qa(n,s,c);break t}Rn(n,s,d,c)}s=s.child}return s;case 26:return vv(n,s),n===null?(c=qx(s.type,null,s.pendingProps,null))?s.memoizedState=c:Ke||(c=s.type,n=s.pendingProps,d=Ov(Ht.current).createElement(c),d[Ft]=s,d[It]=n,Nn(d,c,n),qe(d),s.stateNode=d):s.memoizedState=qx(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Te(s),n===null&&Ke&&(d=s.stateNode=Ux(s.type,s.pendingProps,Ht.current),ir=s,ta=!0,v=ji,sl(s.type)?(j2=v,ji=Os(d.firstChild)):ji=v),Rn(n,s,s.pendingProps.children,c),vv(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Ke&&((v=d=ji)&&(d=c3(d,s.type,s.pendingProps,ta),d!==null?(s.stateNode=d,ir=s,ji=Os(d.firstChild),ta=!1,v=!0):v=!1),v||mu(s)),Te(s),v=s.type,_=s.pendingProps,B=n!==null?n.memoizedProps:null,d=_.children,z2(v,_)?d=null:B!==null&&z2(v,B)&&(s.flags|=32),s.memoizedState!==null&&(v=Pb(n,s,DO,null,null,c),rp._currentValue=v),vv(n,s),Rn(n,s,d,c),s.child;case 6:return n===null&&Ke&&((n=c=ji)&&(c=h3(c,s.pendingProps,ta),c!==null?(s.stateNode=c,ir=s,ji=null,n=!0):n=!1),n||mu(s)),null;case 13:return BS(n,s,c);case 4:return zt(s,s.stateNode.containerInfo),d=s.pendingProps,n===null?s.child=dh(s,null,d,c):Rn(n,s,d,c),s.child;case 11:return DS(n,s,s.type,s.pendingProps,c);case 7:return Rn(n,s,s.pendingProps,c),s.child;case 8:return Rn(n,s,s.pendingProps.children,c),s.child;case 12:return Rn(n,s,s.pendingProps.children,c),s.child;case 10:return d=s.pendingProps,Go(s,s.type,d.value),Rn(n,s,d.children,c),s.child;case 9:return v=s.type._context,d=s.pendingProps.children,yu(s),v=$n(v),d=d(v),s.flags|=1,Rn(n,s,d,c),s.child;case 14:return RS(n,s,s.type,s.pendingProps,c);case 15:return kS(n,s,s.type,s.pendingProps,c);case 19:return zS(n,s,c);case 31:return d=s.pendingProps,c=s.mode,d={mode:d.mode,children:d.children},n===null?(c=yv(d,c),c.ref=s.ref,s.child=c,c.return=s,s=c):(c=Ba(n.child,d),c.ref=s.ref,s.child=c,c.return=s,s=c),s;case 22:return NS(n,s,c);case 24:return yu(s),d=$n(fn),n===null?(v=Db(),v===null&&(v=Ei,_=Cb(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=c),v=_),s.memoizedState={parent:d,cache:v},kb(s),Go(s,fn,v)):((n.lanes&c)!==0&&(Nb(n,s),Bd(s,null,null,c),Id()),v=n.memoizedState,_=s.memoizedState,v.parent!==d?(v={parent:d,cache:d},s.memoizedState=v,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=v),Go(s,fn,d)):(d=_.cache,Go(s,fn,d),d!==v.cache&&xb(s,[fn],c,!0))),Rn(n,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Ga(n){n.flags|=4}function US(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Yx(s)){if(s=os.current,s!==null&&((je&4194048)===je?ea!==null:(je&62914560)!==je&&(je&536870912)===0||s!==ea))throw Md=Rb,EE;n.flags|=8192}}function bv(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?nt():536870912,n.lanes|=s,vh|=s)}function qd(n,s){if(!Ke)switch(n.tailMode){case"hidden":s=n.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?n.tail=null:c.sibling=null;break;case"collapsed":c=n.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function Pi(n){var s=n.alternate!==null&&n.alternate.child===n.child,c=0,d=0;if(s)for(var v=n.child;v!==null;)c|=v.lanes|v.childLanes,d|=v.subtreeFlags&65011712,d|=v.flags&65011712,v.return=n,v=v.sibling;else for(v=n.child;v!==null;)c|=v.lanes|v.childLanes,d|=v.subtreeFlags,d|=v.flags,v.return=n,v=v.sibling;return n.subtreeFlags|=d,n.childLanes=c,s}function PO(n,s,c){var d=s.pendingProps;switch(Ab(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pi(s),null;case 1:return Pi(s),null;case 3:return c=s.stateNode,d=null,n!==null&&(d=n.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),Ua(fn),ve(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(Cd(s)?Ga(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,yE())),Pi(s),null;case 26:return c=s.memoizedState,n===null?(Ga(s),c!==null?(Pi(s),US(s,c)):(Pi(s),s.flags&=-16777217)):c?c!==n.memoizedState?(Ga(s),Pi(s),US(s,c)):(Pi(s),s.flags&=-16777217):(n.memoizedProps!==d&&Ga(s),Pi(s),s.flags&=-16777217),null;case 27:oe(s),c=Ht.current;var v=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==d&&Ga(s);else{if(!d){if(s.stateNode===null)throw Error(i(166));return Pi(s),null}n=Dt.current,Cd(s)?mE(s):(n=Ux(v,d,c),s.stateNode=n,Ga(s))}return Pi(s),null;case 5:if(oe(s),c=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==d&&Ga(s);else{if(!d){if(s.stateNode===null)throw Error(i(166));return Pi(s),null}if(n=Dt.current,Cd(s))mE(s);else{switch(v=Ov(Ht.current),n){case 1:n=v.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:n=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":n=v.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":n=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":n=v.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof d.is=="string"?v.createElement("select",{is:d.is}):v.createElement("select"),d.multiple?n.multiple=!0:d.size&&(n.size=d.size);break;default:n=typeof d.is=="string"?v.createElement(c,{is:d.is}):v.createElement(c)}}n[Ft]=s,n[It]=d;t:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)n.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break t;for(;v.sibling===null;){if(v.return===null||v.return===s)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=n;t:switch(Nn(n,c,d),c){case"button":case"input":case"select":case"textarea":n=!!d.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&Ga(s)}}return Pi(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==d&&Ga(s);else{if(typeof d!="string"&&s.stateNode===null)throw Error(i(166));if(n=Ht.current,Cd(s)){if(n=s.stateNode,c=s.memoizedProps,d=null,v=ir,v!==null)switch(v.tag){case 27:case 5:d=v.memoizedProps}n[Ft]=s,n=!!(n.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||Mx(n.nodeValue,c)),n||mu(s)}else n=Ov(n).createTextNode(d),n[Ft]=s,s.stateNode=n}return Pi(s),null;case 13:if(d=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(v=Cd(s),d!==null&&d.dehydrated!==null){if(n===null){if(!v)throw Error(i(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[Ft]=s}else Td(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Pi(s),v=!1}else v=yE(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=v),v=!0;if(!v)return s.flags&256?(ja(s),s):(ja(s),null)}if(ja(s),(s.flags&128)!==0)return s.lanes=c,s;if(c=d!==null,n=n!==null&&n.memoizedState!==null,c){d=s.child,v=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(v=d.alternate.memoizedState.cachePool.pool);var _=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(_=d.memoizedState.cachePool.pool),_!==v&&(d.flags|=2048)}return c!==n&&c&&(s.child.flags|=8192),bv(s,s.updateQueue),Pi(s),null;case 4:return ve(),n===null&&M2(s.stateNode.containerInfo),Pi(s),null;case 10:return Ua(s.type),Pi(s),null;case 19:if(gt(dn),v=s.memoizedState,v===null)return Pi(s),null;if(d=(s.flags&128)!==0,_=v.rendering,_===null)if(d)qd(v,!1);else{if(qi!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(_=pv(n),_!==null){for(s.flags|=128,qd(v,!1),n=_.updateQueue,s.updateQueue=n,bv(s,n),s.subtreeFlags=0,n=c,c=s.child;c!==null;)pE(c,n),c=c.sibling;return At(dn,dn.current&1|2),s.child}n=n.sibling}v.tail!==null&&ue()>_v&&(s.flags|=128,d=!0,qd(v,!1),s.lanes=4194304)}else{if(!d)if(n=pv(_),n!==null){if(s.flags|=128,d=!0,n=n.updateQueue,s.updateQueue=n,bv(s,n),qd(v,!0),v.tail===null&&v.tailMode==="hidden"&&!_.alternate&&!Ke)return Pi(s),null}else 2*ue()-v.renderingStartTime>_v&&c!==536870912&&(s.flags|=128,d=!0,qd(v,!1),s.lanes=4194304);v.isBackwards?(_.sibling=s.child,s.child=_):(n=v.last,n!==null?n.sibling=_:s.child=_,v.last=_)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=ue(),s.sibling=null,n=dn.current,At(dn,d?n&1|2:n&1),s):(Pi(s),null);case 22:case 23:return ja(s),Ib(),d=s.memoizedState!==null,n!==null?n.memoizedState!==null!==d&&(s.flags|=8192):d&&(s.flags|=8192),d?(c&536870912)!==0&&(s.flags&128)===0&&(Pi(s),s.subtreeFlags&6&&(s.flags|=8192)):Pi(s),c=s.updateQueue,c!==null&&bv(s,c.retryQueue),c=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==c&&(s.flags|=2048),n!==null&&gt(bu),null;case 24:return c=null,n!==null&&(c=n.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Ua(fn),Pi(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function zO(n,s){switch(Ab(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Ua(fn),ve(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return oe(s),null;case 13:if(ja(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Td()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return gt(dn),null;case 4:return ve(),null;case 10:return Ua(s.type),null;case 22:case 23:return ja(s),Ib(),n!==null&&gt(bu),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Ua(fn),null;case 25:return null;default:return null}}function HS(n,s){switch(Ab(s),s.tag){case 3:Ua(fn),ve();break;case 26:case 27:case 5:oe(s);break;case 4:ve();break;case 13:ja(s);break;case 19:gt(dn);break;case 10:Ua(s.type);break;case 22:case 23:ja(s),Ib(),n!==null&&gt(bu);break;case 24:Ua(fn)}}function Gd(n,s){try{var c=s.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var v=d.next;c=v;do{if((c.tag&n)===n){d=void 0;var _=c.create,B=c.inst;d=_(),B.destroy=d}c=c.next}while(c!==v)}}catch(j){bi(s,s.return,j)}}function Zo(n,s,c){try{var d=s.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var _=v.next;d=_;do{if((d.tag&n)===n){var B=d.inst,j=B.destroy;if(j!==void 0){B.destroy=void 0,v=s;var Q=c,vt=j;try{vt()}catch(St){bi(v,Q,St)}}}d=d.next}while(d!==_)}}catch(St){bi(s,s.return,St)}}function jS(n){var s=n.updateQueue;if(s!==null){var c=n.stateNode;try{RE(s,c)}catch(d){bi(n,n.return,d)}}}function qS(n,s,c){c.props=Au(n.type,n.memoizedProps),c.state=n.memoizedState;try{c.componentWillUnmount()}catch(d){bi(n,s,d)}}function Vd(n,s){try{var c=n.ref;if(c!==null){switch(n.tag){case 26:case 27:case 5:var d=n.stateNode;break;case 30:d=n.stateNode;break;default:d=n.stateNode}typeof c=="function"?n.refCleanup=c(d):c.current=d}}catch(v){bi(n,s,v)}}function ia(n,s){var c=n.ref,d=n.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(v){bi(n,s,v)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(v){bi(n,s,v)}else c.current=null}function GS(n){var s=n.type,c=n.memoizedProps,d=n.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break t;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(v){bi(n,n.return,v)}}function u2(n,s,c){try{var d=n.stateNode;s3(d,n.type,c,s),d[It]=s}catch(v){bi(n,n.return,v)}}function VS(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&sl(n.type)||n.tag===4}function c2(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||VS(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&sl(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function h2(n,s,c){var d=n.tag;if(d===5||d===6)n=n.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(n,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(n),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=Nv));else if(d!==4&&(d===27&&sl(n.type)&&(c=n.stateNode,s=null),n=n.child,n!==null))for(h2(n,s,c),n=n.sibling;n!==null;)h2(n,s,c),n=n.sibling}function wv(n,s,c){var d=n.tag;if(d===5||d===6)n=n.stateNode,s?c.insertBefore(n,s):c.appendChild(n);else if(d!==4&&(d===27&&sl(n.type)&&(c=n.stateNode),n=n.child,n!==null))for(wv(n,s,c),n=n.sibling;n!==null;)wv(n,s,c),n=n.sibling}function $S(n){var s=n.stateNode,c=n.memoizedProps;try{for(var d=n.type,v=s.attributes;v.length;)s.removeAttributeNode(v[0]);Nn(s,d,c),s[Ft]=n,s[It]=c}catch(_){bi(n,n.return,_)}}var Va=!1,Xi=!1,f2=!1,WS=typeof WeakSet=="function"?WeakSet:Set,wn=null;function FO(n,s){if(n=n.containerInfo,B2=zv,n=rE(n),cb(n)){if("selectionStart"in n)var c={start:n.selectionStart,end:n.selectionEnd};else t:{c=(c=n.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var v=d.anchorOffset,_=d.focusNode;d=d.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break t}var B=0,j=-1,Q=-1,vt=0,St=0,Rt=n,yt=null;e:for(;;){for(var wt;Rt!==c||v!==0&&Rt.nodeType!==3||(j=B+v),Rt!==_||d!==0&&Rt.nodeType!==3||(Q=B+d),Rt.nodeType===3&&(B+=Rt.nodeValue.length),(wt=Rt.firstChild)!==null;)yt=Rt,Rt=wt;for(;;){if(Rt===n)break e;if(yt===c&&++vt===v&&(j=B),yt===_&&++St===d&&(Q=B),(wt=Rt.nextSibling)!==null)break;Rt=yt,yt=Rt.parentNode}Rt=wt}c=j===-1||Q===-1?null:{start:j,end:Q}}else c=null}c=c||{start:0,end:0}}else c=null;for(P2={focusedElem:n,selectionRange:c},zv=!1,wn=s;wn!==null;)if(s=wn,n=s.child,(s.subtreeFlags&1024)!==0&&n!==null)n.return=s,wn=n;else for(;wn!==null;){switch(s=wn,_=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&_!==null){n=void 0,c=s,v=_.memoizedProps,_=_.memoizedState,d=c.stateNode;try{var me=Au(c.type,v,c.elementType===c.type);n=d.getSnapshotBeforeUpdate(me,_),d.__reactInternalSnapshotBeforeUpdate=n}catch(ce){bi(c,c.return,ce)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,c=n.nodeType,c===9)U2(n);else if(c===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":U2(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,wn=n;break}wn=s.return}}function YS(n,s,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:Qo(n,c),d&4&&Gd(5,c);break;case 1:if(Qo(n,c),d&4)if(n=c.stateNode,s===null)try{n.componentDidMount()}catch(B){bi(c,c.return,B)}else{var v=Au(c.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(v,s,n.__reactInternalSnapshotBeforeUpdate)}catch(B){bi(c,c.return,B)}}d&64&&jS(c),d&512&&Vd(c,c.return);break;case 3:if(Qo(n,c),d&64&&(n=c.updateQueue,n!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{RE(n,s)}catch(B){bi(c,c.return,B)}}break;case 27:s===null&&d&4&&$S(c);case 26:case 5:Qo(n,c),s===null&&d&4&&GS(c),d&512&&Vd(c,c.return);break;case 12:Qo(n,c);break;case 13:Qo(n,c),d&4&&ZS(n,c),d&64&&(n=c.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(c=YO.bind(null,c),f3(n,c))));break;case 22:if(d=c.memoizedState!==null||Va,!d){s=s!==null&&s.memoizedState!==null||Xi,v=Va;var _=Xi;Va=d,(Xi=s)&&!_?Jo(n,c,(c.subtreeFlags&8772)!==0):Qo(n,c),Va=v,Xi=_}break;case 30:break;default:Qo(n,c)}}function XS(n){var s=n.alternate;s!==null&&(n.alternate=null,XS(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Ci(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ri=null,yr=!1;function $a(n,s,c){for(c=c.child;c!==null;)KS(n,s,c),c=c.sibling}function KS(n,s,c){if(De&&typeof De.onCommitFiberUnmount=="function")try{De.onCommitFiberUnmount(ni,c)}catch{}switch(c.tag){case 26:Xi||ia(c,s),$a(n,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Xi||ia(c,s);var d=Ri,v=yr;sl(c.type)&&(Ri=c.stateNode,yr=!1),$a(n,s,c),tp(c.stateNode),Ri=d,yr=v;break;case 5:Xi||ia(c,s);case 6:if(d=Ri,v=yr,Ri=null,$a(n,s,c),Ri=d,yr=v,Ri!==null)if(yr)try{(Ri.nodeType===9?Ri.body:Ri.nodeName==="HTML"?Ri.ownerDocument.body:Ri).removeChild(c.stateNode)}catch(_){bi(c,s,_)}else try{Ri.removeChild(c.stateNode)}catch(_){bi(c,s,_)}break;case 18:Ri!==null&&(yr?(n=Ri,zx(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,c.stateNode),lp(n)):zx(Ri,c.stateNode));break;case 4:d=Ri,v=yr,Ri=c.stateNode.containerInfo,yr=!0,$a(n,s,c),Ri=d,yr=v;break;case 0:case 11:case 14:case 15:Xi||Zo(2,c,s),Xi||Zo(4,c,s),$a(n,s,c);break;case 1:Xi||(ia(c,s),d=c.stateNode,typeof d.componentWillUnmount=="function"&&qS(c,s,d)),$a(n,s,c);break;case 21:$a(n,s,c);break;case 22:Xi=(d=Xi)||c.memoizedState!==null,$a(n,s,c),Xi=d;break;default:$a(n,s,c)}}function ZS(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{lp(n)}catch(c){bi(s,s.return,c)}}function UO(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new WS),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new WS),s;default:throw Error(i(435,n.tag))}}function d2(n,s){var c=UO(n);s.forEach(function(d){var v=XO.bind(null,n,d);c.has(d)||(c.add(d),d.then(v,v))})}function kr(n,s){var c=s.deletions;if(c!==null)for(var d=0;d<c.length;d++){var v=c[d],_=n,B=s,j=B;t:for(;j!==null;){switch(j.tag){case 27:if(sl(j.type)){Ri=j.stateNode,yr=!1;break t}break;case 5:Ri=j.stateNode,yr=!1;break t;case 3:case 4:Ri=j.stateNode.containerInfo,yr=!0;break t}j=j.return}if(Ri===null)throw Error(i(160));KS(_,B,v),Ri=null,yr=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)QS(s,n),s=s.sibling}var Ns=null;function QS(n,s){var c=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:kr(s,n),Nr(n),d&4&&(Zo(3,n,n.return),Gd(3,n),Zo(5,n,n.return));break;case 1:kr(s,n),Nr(n),d&512&&(Xi||c===null||ia(c,c.return)),d&64&&Va&&(n=n.updateQueue,n!==null&&(d=n.callbacks,d!==null&&(c=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var v=Ns;if(kr(s,n),Nr(n),d&512&&(Xi||c===null||ia(c,c.return)),d&4){var _=c!==null?c.memoizedState:null;if(d=n.memoizedState,c===null)if(d===null)if(n.stateNode===null){t:{d=n.type,c=n.memoizedProps,v=v.ownerDocument||v;e:switch(d){case"title":_=v.getElementsByTagName("title")[0],(!_||_[Ae]||_[Ft]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(d),v.head.insertBefore(_,v.querySelector("head > title"))),Nn(_,d,c),_[Ft]=n,qe(_),d=_;break t;case"link":var B=$x("link","href",v).get(d+(c.href||""));if(B){for(var j=0;j<B.length;j++)if(_=B[j],_.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&_.getAttribute("rel")===(c.rel==null?null:c.rel)&&_.getAttribute("title")===(c.title==null?null:c.title)&&_.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){B.splice(j,1);break e}}_=v.createElement(d),Nn(_,d,c),v.head.appendChild(_);break;case"meta":if(B=$x("meta","content",v).get(d+(c.content||""))){for(j=0;j<B.length;j++)if(_=B[j],_.getAttribute("content")===(c.content==null?null:""+c.content)&&_.getAttribute("name")===(c.name==null?null:c.name)&&_.getAttribute("property")===(c.property==null?null:c.property)&&_.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&_.getAttribute("charset")===(c.charSet==null?null:c.charSet)){B.splice(j,1);break e}}_=v.createElement(d),Nn(_,d,c),v.head.appendChild(_);break;default:throw Error(i(468,d))}_[Ft]=n,qe(_),d=_}n.stateNode=d}else Wx(v,n.type,n.stateNode);else n.stateNode=Vx(v,d,n.memoizedProps);else _!==d?(_===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):_.count--,d===null?Wx(v,n.type,n.stateNode):Vx(v,d,n.memoizedProps)):d===null&&n.stateNode!==null&&u2(n,n.memoizedProps,c.memoizedProps)}break;case 27:kr(s,n),Nr(n),d&512&&(Xi||c===null||ia(c,c.return)),c!==null&&d&4&&u2(n,n.memoizedProps,c.memoizedProps);break;case 5:if(kr(s,n),Nr(n),d&512&&(Xi||c===null||ia(c,c.return)),n.flags&32){v=n.stateNode;try{yi(v,"")}catch(wt){bi(n,n.return,wt)}}d&4&&n.stateNode!=null&&(v=n.memoizedProps,u2(n,v,c!==null?c.memoizedProps:v)),d&1024&&(f2=!0);break;case 6:if(kr(s,n),Nr(n),d&4){if(n.stateNode===null)throw Error(i(162));d=n.memoizedProps,c=n.stateNode;try{c.nodeValue=d}catch(wt){bi(n,n.return,wt)}}break;case 3:if(Iv=null,v=Ns,Ns=Mv(s.containerInfo),kr(s,n),Ns=v,Nr(n),d&4&&c!==null&&c.memoizedState.isDehydrated)try{lp(s.containerInfo)}catch(wt){bi(n,n.return,wt)}f2&&(f2=!1,JS(n));break;case 4:d=Ns,Ns=Mv(n.stateNode.containerInfo),kr(s,n),Nr(n),Ns=d;break;case 12:kr(s,n),Nr(n);break;case 13:kr(s,n),Nr(n),n.child.flags&8192&&n.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(b2=ue()),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,d2(n,d)));break;case 22:v=n.memoizedState!==null;var Q=c!==null&&c.memoizedState!==null,vt=Va,St=Xi;if(Va=vt||v,Xi=St||Q,kr(s,n),Xi=St,Va=vt,Nr(n),d&8192)t:for(s=n.stateNode,s._visibility=v?s._visibility&-2:s._visibility|1,v&&(c===null||Q||Va||Xi||_u(n)),c=null,s=n;;){if(s.tag===5||s.tag===26){if(c===null){Q=c=s;try{if(_=Q.stateNode,v)B=_.style,typeof B.setProperty=="function"?B.setProperty("display","none","important"):B.display="none";else{j=Q.stateNode;var Rt=Q.memoizedProps.style,yt=Rt!=null&&Rt.hasOwnProperty("display")?Rt.display:null;j.style.display=yt==null||typeof yt=="boolean"?"":(""+yt).trim()}}catch(wt){bi(Q,Q.return,wt)}}}else if(s.tag===6){if(c===null){Q=s;try{Q.stateNode.nodeValue=v?"":Q.memoizedProps}catch(wt){bi(Q,Q.return,wt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break t;for(;s.sibling===null;){if(s.return===null||s.return===n)break t;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}d&4&&(d=n.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,d2(n,c))));break;case 19:kr(s,n),Nr(n),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,d2(n,d)));break;case 30:break;case 21:break;default:kr(s,n),Nr(n)}}function Nr(n){var s=n.flags;if(s&2){try{for(var c,d=n.return;d!==null;){if(VS(d)){c=d;break}d=d.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var v=c.stateNode,_=c2(n);wv(n,_,v);break;case 5:var B=c.stateNode;c.flags&32&&(yi(B,""),c.flags&=-33);var j=c2(n);wv(n,j,B);break;case 3:case 4:var Q=c.stateNode.containerInfo,vt=c2(n);h2(n,vt,Q);break;default:throw Error(i(161))}}catch(St){bi(n,n.return,St)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function JS(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;JS(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Qo(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)YS(n,s.alternate,s),s=s.sibling}function _u(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Zo(4,s,s.return),_u(s);break;case 1:ia(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&qS(s,s.return,c),_u(s);break;case 27:tp(s.stateNode);case 26:case 5:ia(s,s.return),_u(s);break;case 22:s.memoizedState===null&&_u(s);break;case 30:_u(s);break;default:_u(s)}n=n.sibling}}function Jo(n,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var d=s.alternate,v=n,_=s,B=_.flags;switch(_.tag){case 0:case 11:case 15:Jo(v,_,c),Gd(4,_);break;case 1:if(Jo(v,_,c),d=_,v=d.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(vt){bi(d,d.return,vt)}if(d=_,v=d.updateQueue,v!==null){var j=d.stateNode;try{var Q=v.shared.hiddenCallbacks;if(Q!==null)for(v.shared.hiddenCallbacks=null,v=0;v<Q.length;v++)DE(Q[v],j)}catch(vt){bi(d,d.return,vt)}}c&&B&64&&jS(_),Vd(_,_.return);break;case 27:$S(_);case 26:case 5:Jo(v,_,c),c&&d===null&&B&4&&GS(_),Vd(_,_.return);break;case 12:Jo(v,_,c);break;case 13:Jo(v,_,c),c&&B&4&&ZS(v,_);break;case 22:_.memoizedState===null&&Jo(v,_,c),Vd(_,_.return);break;case 30:break;default:Jo(v,_,c)}s=s.sibling}}function p2(n,s){var c=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==c&&(n!=null&&n.refCount++,c!=null&&kd(c))}function g2(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&kd(n))}function na(n,s,c,d){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)tx(n,s,c,d),s=s.sibling}function tx(n,s,c,d){var v=s.flags;switch(s.tag){case 0:case 11:case 15:na(n,s,c,d),v&2048&&Gd(9,s);break;case 1:na(n,s,c,d);break;case 3:na(n,s,c,d),v&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&kd(n)));break;case 12:if(v&2048){na(n,s,c,d),n=s.stateNode;try{var _=s.memoizedProps,B=_.id,j=_.onPostCommit;typeof j=="function"&&j(B,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(Q){bi(s,s.return,Q)}}else na(n,s,c,d);break;case 13:na(n,s,c,d);break;case 23:break;case 22:_=s.stateNode,B=s.alternate,s.memoizedState!==null?_._visibility&2?na(n,s,c,d):$d(n,s):_._visibility&2?na(n,s,c,d):(_._visibility|=2,ph(n,s,c,d,(s.subtreeFlags&10256)!==0)),v&2048&&p2(B,s);break;case 24:na(n,s,c,d),v&2048&&g2(s.alternate,s);break;default:na(n,s,c,d)}}function ph(n,s,c,d,v){for(v=v&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var _=n,B=s,j=c,Q=d,vt=B.flags;switch(B.tag){case 0:case 11:case 15:ph(_,B,j,Q,v),Gd(8,B);break;case 23:break;case 22:var St=B.stateNode;B.memoizedState!==null?St._visibility&2?ph(_,B,j,Q,v):$d(_,B):(St._visibility|=2,ph(_,B,j,Q,v)),v&&vt&2048&&p2(B.alternate,B);break;case 24:ph(_,B,j,Q,v),v&&vt&2048&&g2(B.alternate,B);break;default:ph(_,B,j,Q,v)}s=s.sibling}}function $d(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=n,d=s,v=d.flags;switch(d.tag){case 22:$d(c,d),v&2048&&p2(d.alternate,d);break;case 24:$d(c,d),v&2048&&g2(d.alternate,d);break;default:$d(c,d)}s=s.sibling}}var Wd=8192;function gh(n){if(n.subtreeFlags&Wd)for(n=n.child;n!==null;)ex(n),n=n.sibling}function ex(n){switch(n.tag){case 26:gh(n),n.flags&Wd&&n.memoizedState!==null&&x3(Ns,n.memoizedState,n.memoizedProps);break;case 5:gh(n);break;case 3:case 4:var s=Ns;Ns=Mv(n.stateNode.containerInfo),gh(n),Ns=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=Wd,Wd=16777216,gh(n),Wd=s):gh(n));break;default:gh(n)}}function ix(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Yd(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var d=s[c];wn=d,rx(d,n)}ix(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)nx(n),n=n.sibling}function nx(n){switch(n.tag){case 0:case 11:case 15:Yd(n),n.flags&2048&&Zo(9,n,n.return);break;case 3:Yd(n);break;case 12:Yd(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Av(n)):Yd(n);break;default:Yd(n)}}function Av(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var d=s[c];wn=d,rx(d,n)}ix(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Zo(8,s,s.return),Av(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,Av(s));break;default:Av(s)}n=n.sibling}}function rx(n,s){for(;wn!==null;){var c=wn;switch(c.tag){case 0:case 11:case 15:Zo(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:kd(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,wn=d;else t:for(c=n;wn!==null;){d=wn;var v=d.sibling,_=d.return;if(XS(d),d===c){wn=null;break t}if(v!==null){v.return=_,wn=v;break t}wn=_}}}var HO={getCacheForType:function(n){var s=$n(fn),c=s.data.get(n);return c===void 0&&(c=n(),s.data.set(n,c)),c}},jO=typeof WeakMap=="function"?WeakMap:Map,ai=0,Ei=null,Me=null,je=0,oi=0,Or=null,tl=!1,mh=!1,m2=!1,Wa=0,qi=0,el=0,Eu=0,v2=0,ls=0,vh=0,Xd=null,br=null,y2=!1,b2=0,_v=1/0,Ev=null,il=null,kn=0,nl=null,yh=null,bh=0,w2=0,A2=null,sx=null,Kd=0,_2=null;function Mr(){if((ai&2)!==0&&je!==0)return je&-je;if(X.T!==null){var n=ah;return n!==0?n:R2()}return H()}function ax(){ls===0&&(ls=(je&536870912)===0||Ke?$t():536870912);var n=os.current;return n!==null&&(n.flags|=32),ls}function Lr(n,s,c){(n===Ei&&(oi===2||oi===9)||n.cancelPendingCommit!==null)&&(wh(n,0),rl(n,je,ls,!1)),S(n,c),((ai&2)===0||n!==Ei)&&(n===Ei&&((ai&2)===0&&(Eu|=c),qi===4&&rl(n,je,ls,!1)),ra(n))}function ox(n,s,c){if((ai&6)!==0)throw Error(i(327));var d=!c&&(s&124)===0&&(s&n.expiredLanes)===0||Ct(n,s),v=d?VO(n,s):x2(n,s,!0),_=d;do{if(v===0){mh&&!d&&rl(n,s,0,!1);break}else{if(c=n.current.alternate,_&&!qO(c)){v=x2(n,s,!1),_=!1;continue}if(v===2){if(_=s,n.errorRecoveryDisabledLanes&_)var B=0;else B=n.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){s=B;t:{var j=n;v=Xd;var Q=j.current.memoizedState.isDehydrated;if(Q&&(wh(j,B).flags|=256),B=x2(j,B,!1),B!==2){if(m2&&!Q){j.errorRecoveryDisabledLanes|=_,Eu|=_,v=4;break t}_=br,br=v,_!==null&&(br===null?br=_:br.push.apply(br,_))}v=B}if(_=!1,v!==2)continue}}if(v===1){wh(n,0),rl(n,s,0,!0);break}t:{switch(d=n,_=v,_){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:rl(d,s,ls,!tl);break t;case 2:br=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(v=b2+300-ue(),10<v)){if(rl(d,s,ls,!tl),V(d,0,!0)!==0)break t;d.timeoutHandle=Bx(lx.bind(null,d,c,br,Ev,y2,s,ls,Eu,vh,tl,_,2,-0,0),v);break t}lx(d,c,br,Ev,y2,s,ls,Eu,vh,tl,_,0,-0,0)}}break}while(!0);ra(n)}function lx(n,s,c,d,v,_,B,j,Q,vt,St,Rt,yt,wt){if(n.timeoutHandle=-1,Rt=s.subtreeFlags,(Rt&8192||(Rt&16785408)===16785408)&&(np={stylesheets:null,count:0,unsuspend:S3},ex(s),Rt=C3(),Rt!==null)){n.cancelPendingCommit=Rt(gx.bind(null,n,s,_,c,d,v,B,j,Q,St,1,yt,wt)),rl(n,_,B,!vt);return}gx(n,s,_,c,d,v,B,j,Q)}function qO(n){for(var s=n;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var v=c[d],_=v.getSnapshot;v=v.value;try{if(!Dr(_(),v))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function rl(n,s,c,d){s&=~v2,s&=~Eu,n.suspendedLanes|=s,n.pingedLanes&=~s,d&&(n.warmLanes|=s),d=n.expirationTimes;for(var v=s;0<v;){var _=31-Xe(v),B=1<<_;d[_]=-1,v&=~B}c!==0&&st(n,c,s)}function Sv(){return(ai&6)===0?(Zd(0),!1):!0}function E2(){if(Me!==null){if(oi===0)var n=Me.return;else n=Me,Fa=vu=null,Ub(n),fh=null,Hd=0,n=Me;for(;n!==null;)HS(n.alternate,n),n=n.return;Me=null}}function wh(n,s){var c=n.timeoutHandle;c!==-1&&(n.timeoutHandle=-1,o3(c)),c=n.cancelPendingCommit,c!==null&&(n.cancelPendingCommit=null,c()),E2(),Ei=n,Me=c=Ba(n.current,null),je=s,oi=0,Or=null,tl=!1,mh=Ct(n,s),m2=!1,vh=ls=v2=Eu=el=qi=0,br=Xd=null,y2=!1,(s&8)!==0&&(s|=s&32);var d=n.entangledLanes;if(d!==0)for(n=n.entanglements,d&=s;0<d;){var v=31-Xe(d),_=1<<v;s|=n[v],d&=~_}return Wa=s,$m(),c}function ux(n,s){Re=null,X.H=hv,s===Od||s===ev?(s=CE(),oi=3):s===EE?(s=CE(),oi=4):oi=s===TS?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Or=s,Me===null&&(qi=1,mv(n,ns(s,n.current)))}function cx(){var n=X.H;return X.H=hv,n===null?hv:n}function hx(){var n=X.A;return X.A=HO,n}function S2(){qi=4,tl||(je&4194048)!==je&&os.current!==null||(mh=!0),(el&134217727)===0&&(Eu&134217727)===0||Ei===null||rl(Ei,je,ls,!1)}function x2(n,s,c){var d=ai;ai|=2;var v=cx(),_=hx();(Ei!==n||je!==s)&&(Ev=null,wh(n,s)),s=!1;var B=qi;t:do try{if(oi!==0&&Me!==null){var j=Me,Q=Or;switch(oi){case 8:E2(),B=6;break t;case 3:case 2:case 9:case 6:os.current===null&&(s=!0);var vt=oi;if(oi=0,Or=null,Ah(n,j,Q,vt),c&&mh){B=0;break t}break;default:vt=oi,oi=0,Or=null,Ah(n,j,Q,vt)}}GO(),B=qi;break}catch(St){ux(n,St)}while(!0);return s&&n.shellSuspendCounter++,Fa=vu=null,ai=d,X.H=v,X.A=_,Me===null&&(Ei=null,je=0,$m()),B}function GO(){for(;Me!==null;)fx(Me)}function VO(n,s){var c=ai;ai|=2;var d=cx(),v=hx();Ei!==n||je!==s?(Ev=null,_v=ue()+500,wh(n,s)):mh=Ct(n,s);t:do try{if(oi!==0&&Me!==null){s=Me;var _=Or;e:switch(oi){case 1:oi=0,Or=null,Ah(n,s,_,1);break;case 2:case 9:if(SE(_)){oi=0,Or=null,dx(s);break}s=function(){oi!==2&&oi!==9||Ei!==n||(oi=7),ra(n)},_.then(s,s);break t;case 3:oi=7;break t;case 4:oi=5;break t;case 7:SE(_)?(oi=0,Or=null,dx(s)):(oi=0,Or=null,Ah(n,s,_,7));break;case 5:var B=null;switch(Me.tag){case 26:B=Me.memoizedState;case 5:case 27:var j=Me;if(!B||Yx(B)){oi=0,Or=null;var Q=j.sibling;if(Q!==null)Me=Q;else{var vt=j.return;vt!==null?(Me=vt,xv(vt)):Me=null}break e}}oi=0,Or=null,Ah(n,s,_,5);break;case 6:oi=0,Or=null,Ah(n,s,_,6);break;case 8:E2(),qi=6;break t;default:throw Error(i(462))}}$O();break}catch(St){ux(n,St)}while(!0);return Fa=vu=null,X.H=d,X.A=v,ai=c,Me!==null?0:(Ei=null,je=0,$m(),qi)}function $O(){for(;Me!==null&&!Ue();)fx(Me)}function fx(n){var s=FS(n.alternate,n,Wa);n.memoizedProps=n.pendingProps,s===null?xv(n):Me=s}function dx(n){var s=n,c=s.alternate;switch(s.tag){case 15:case 0:s=MS(c,s,s.pendingProps,s.type,void 0,je);break;case 11:s=MS(c,s,s.pendingProps,s.type.render,s.ref,je);break;case 5:Ub(s);default:HS(c,s),s=Me=pE(s,Wa),s=FS(c,s,Wa)}n.memoizedProps=n.pendingProps,s===null?xv(n):Me=s}function Ah(n,s,c,d){Fa=vu=null,Ub(s),fh=null,Hd=0;var v=s.return;try{if(IO(n,v,s,c,je)){qi=1,mv(n,ns(c,n.current)),Me=null;return}}catch(_){if(v!==null)throw Me=v,_;qi=1,mv(n,ns(c,n.current)),Me=null;return}s.flags&32768?(Ke||d===1?n=!0:mh||(je&536870912)!==0?n=!1:(tl=n=!0,(d===2||d===9||d===3||d===6)&&(d=os.current,d!==null&&d.tag===13&&(d.flags|=16384))),px(s,n)):xv(s)}function xv(n){var s=n;do{if((s.flags&32768)!==0){px(s,tl);return}n=s.return;var c=PO(s.alternate,s,Wa);if(c!==null){Me=c;return}if(s=s.sibling,s!==null){Me=s;return}Me=s=n}while(s!==null);qi===0&&(qi=5)}function px(n,s){do{var c=zO(n.alternate,n);if(c!==null){c.flags&=32767,Me=c;return}if(c=n.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(n=n.sibling,n!==null)){Me=n;return}Me=n=c}while(n!==null);qi=6,Me=null}function gx(n,s,c,d,v,_,B,j,Q){n.cancelPendingCommit=null;do Cv();while(kn!==0);if((ai&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(_=s.lanes|s.childLanes,_|=gb,q(n,c,_,B,j,Q),n===Ei&&(Me=Ei=null,je=0),yh=s,nl=n,bh=c,w2=_,A2=v,sx=d,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,KO(Jt,function(){return wx(),null})):(n.callbackNode=null,n.callbackPriority=0),d=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||d){d=X.T,X.T=null,v=Z.p,Z.p=2,B=ai,ai|=4;try{FO(n,s,c)}finally{ai=B,Z.p=v,X.T=d}}kn=1,mx(),vx(),yx()}}function mx(){if(kn===1){kn=0;var n=nl,s=yh,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=X.T,X.T=null;var d=Z.p;Z.p=2;var v=ai;ai|=4;try{QS(s,n);var _=P2,B=rE(n.containerInfo),j=_.focusedElem,Q=_.selectionRange;if(B!==j&&j&&j.ownerDocument&&nE(j.ownerDocument.documentElement,j)){if(Q!==null&&cb(j)){var vt=Q.start,St=Q.end;if(St===void 0&&(St=vt),"selectionStart"in j)j.selectionStart=vt,j.selectionEnd=Math.min(St,j.value.length);else{var Rt=j.ownerDocument||document,yt=Rt&&Rt.defaultView||window;if(yt.getSelection){var wt=yt.getSelection(),me=j.textContent.length,ce=Math.min(Q.start,me),hi=Q.end===void 0?ce:Math.min(Q.end,me);!wt.extend&&ce>hi&&(B=hi,hi=ce,ce=B);var ut=iE(j,ce),rt=iE(j,hi);if(ut&&rt&&(wt.rangeCount!==1||wt.anchorNode!==ut.node||wt.anchorOffset!==ut.offset||wt.focusNode!==rt.node||wt.focusOffset!==rt.offset)){var mt=Rt.createRange();mt.setStart(ut.node,ut.offset),wt.removeAllRanges(),ce>hi?(wt.addRange(mt),wt.extend(rt.node,rt.offset)):(mt.setEnd(rt.node,rt.offset),wt.addRange(mt))}}}}for(Rt=[],wt=j;wt=wt.parentNode;)wt.nodeType===1&&Rt.push({element:wt,left:wt.scrollLeft,top:wt.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<Rt.length;j++){var Tt=Rt[j];Tt.element.scrollLeft=Tt.left,Tt.element.scrollTop=Tt.top}}zv=!!B2,P2=B2=null}finally{ai=v,Z.p=d,X.T=c}}n.current=s,kn=2}}function vx(){if(kn===2){kn=0;var n=nl,s=yh,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=X.T,X.T=null;var d=Z.p;Z.p=2;var v=ai;ai|=4;try{YS(n,s.alternate,s)}finally{ai=v,Z.p=d,X.T=c}}kn=3}}function yx(){if(kn===4||kn===3){kn=0,ke();var n=nl,s=yh,c=bh,d=sx;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?kn=5:(kn=0,yh=nl=null,bx(n,n.pendingLanes));var v=n.pendingLanes;if(v===0&&(il=null),pt(c),s=s.stateNode,De&&typeof De.onCommitFiberRoot=="function")try{De.onCommitFiberRoot(ni,s,void 0,(s.current.flags&128)===128)}catch{}if(d!==null){s=X.T,v=Z.p,Z.p=2,X.T=null;try{for(var _=n.onRecoverableError,B=0;B<d.length;B++){var j=d[B];_(j.value,{componentStack:j.stack})}}finally{X.T=s,Z.p=v}}(bh&3)!==0&&Cv(),ra(n),v=n.pendingLanes,(c&4194090)!==0&&(v&42)!==0?n===_2?Kd++:(Kd=0,_2=n):Kd=0,Zd(0)}}function bx(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,kd(s)))}function Cv(n){return mx(),vx(),yx(),wx()}function wx(){if(kn!==5)return!1;var n=nl,s=w2;w2=0;var c=pt(bh),d=X.T,v=Z.p;try{Z.p=32>c?32:c,X.T=null,c=A2,A2=null;var _=nl,B=bh;if(kn=0,yh=nl=null,bh=0,(ai&6)!==0)throw Error(i(331));var j=ai;if(ai|=4,nx(_.current),tx(_,_.current,B,c),ai=j,Zd(0,!1),De&&typeof De.onPostCommitFiberRoot=="function")try{De.onPostCommitFiberRoot(ni,_)}catch{}return!0}finally{Z.p=v,X.T=d,bx(n,s)}}function Ax(n,s,c){s=ns(c,s),s=t2(n.stateNode,s,2),n=Wo(n,s,2),n!==null&&(S(n,2),ra(n))}function bi(n,s,c){if(n.tag===3)Ax(n,n,c);else for(;s!==null;){if(s.tag===3){Ax(s,n,c);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(il===null||!il.has(d))){n=ns(c,n),c=xS(2),d=Wo(s,c,2),d!==null&&(CS(c,d,s,n),S(d,2),ra(d));break}}s=s.return}}function C2(n,s,c){var d=n.pingCache;if(d===null){d=n.pingCache=new jO;var v=new Set;d.set(s,v)}else v=d.get(s),v===void 0&&(v=new Set,d.set(s,v));v.has(c)||(m2=!0,v.add(c),n=WO.bind(null,n,s,c),s.then(n,n))}function WO(n,s,c){var d=n.pingCache;d!==null&&d.delete(s),n.pingedLanes|=n.suspendedLanes&c,n.warmLanes&=~c,Ei===n&&(je&c)===c&&(qi===4||qi===3&&(je&62914560)===je&&300>ue()-b2?(ai&2)===0&&wh(n,0):v2|=c,vh===je&&(vh=0)),ra(n)}function _x(n,s){s===0&&(s=nt()),n=ih(n,s),n!==null&&(S(n,s),ra(n))}function YO(n){var s=n.memoizedState,c=0;s!==null&&(c=s.retryLane),_x(n,c)}function XO(n,s){var c=0;switch(n.tag){case 13:var d=n.stateNode,v=n.memoizedState;v!==null&&(c=v.retryLane);break;case 19:d=n.stateNode;break;case 22:d=n.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(s),_x(n,c)}function KO(n,s){return de(n,s)}var Tv=null,_h=null,T2=!1,Dv=!1,D2=!1,Su=0;function ra(n){n!==_h&&n.next===null&&(_h===null?Tv=_h=n:_h=_h.next=n),Dv=!0,T2||(T2=!0,QO())}function Zd(n,s){if(!D2&&Dv){D2=!0;do for(var c=!1,d=Tv;d!==null;){if(n!==0){var v=d.pendingLanes;if(v===0)var _=0;else{var B=d.suspendedLanes,j=d.pingedLanes;_=(1<<31-Xe(42|n)+1)-1,_&=v&~(B&~j),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(c=!0,Cx(d,_))}else _=je,_=V(d,d===Ei?_:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(_&3)===0||Ct(d,_)||(c=!0,Cx(d,_));d=d.next}while(c);D2=!1}}function ZO(){Ex()}function Ex(){Dv=T2=!1;var n=0;Su!==0&&(a3()&&(n=Su),Su=0);for(var s=ue(),c=null,d=Tv;d!==null;){var v=d.next,_=Sx(d,s);_===0?(d.next=null,c===null?Tv=v:c.next=v,v===null&&(_h=c)):(c=d,(n!==0||(_&3)!==0)&&(Dv=!0)),d=v}Zd(n)}function Sx(n,s){for(var c=n.suspendedLanes,d=n.pingedLanes,v=n.expirationTimes,_=n.pendingLanes&-62914561;0<_;){var B=31-Xe(_),j=1<<B,Q=v[B];Q===-1?((j&c)===0||(j&d)!==0)&&(v[B]=Lt(j,s)):Q<=s&&(n.expiredLanes|=j),_&=~j}if(s=Ei,c=je,c=V(n,n===s?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),d=n.callbackNode,c===0||n===s&&(oi===2||oi===9)||n.cancelPendingCommit!==null)return d!==null&&d!==null&&ye(d),n.callbackNode=null,n.callbackPriority=0;if((c&3)===0||Ct(n,c)){if(s=c&-c,s===n.callbackPriority)return s;switch(d!==null&&ye(d),pt(c)){case 2:case 8:c=re;break;case 32:c=Jt;break;case 268435456:c=ne;break;default:c=Jt}return d=xx.bind(null,n),c=de(c,d),n.callbackPriority=s,n.callbackNode=c,s}return d!==null&&d!==null&&ye(d),n.callbackPriority=2,n.callbackNode=null,2}function xx(n,s){if(kn!==0&&kn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var c=n.callbackNode;if(Cv()&&n.callbackNode!==c)return null;var d=je;return d=V(n,n===Ei?d:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),d===0?null:(ox(n,d,s),Sx(n,ue()),n.callbackNode!=null&&n.callbackNode===c?xx.bind(null,n):null)}function Cx(n,s){if(Cv())return null;ox(n,s,!0)}function QO(){l3(function(){(ai&6)!==0?de(Xt,ZO):Ex()})}function R2(){return Su===0&&(Su=$t()),Su}function Tx(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:pd(""+n)}function Dx(n,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,n.id&&c.setAttribute("form",n.id),s.parentNode.insertBefore(c,s),n=new FormData(n),c.parentNode.removeChild(c),n}function JO(n,s,c,d,v){if(s==="submit"&&c&&c.stateNode===v){var _=Tx((v[It]||null).action),B=d.submitter;B&&(s=(s=B[It]||null)?Tx(s.formAction):B.getAttribute("formAction"),s!==null&&(_=s,B=null));var j=new qm("action","action",null,d,v);n.push({event:j,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Su!==0){var Q=B?Dx(v,B):new FormData(v);Xb(c,{pending:!0,data:Q,method:v.method,action:_},null,Q)}}else typeof _=="function"&&(j.preventDefault(),Q=B?Dx(v,B):new FormData(v),Xb(c,{pending:!0,data:Q,method:v.method,action:_},_,Q))},currentTarget:v}]})}}for(var k2=0;k2<pb.length;k2++){var N2=pb[k2],t3=N2.toLowerCase(),e3=N2[0].toUpperCase()+N2.slice(1);ks(t3,"on"+e3)}ks(oE,"onAnimationEnd"),ks(lE,"onAnimationIteration"),ks(uE,"onAnimationStart"),ks("dblclick","onDoubleClick"),ks("focusin","onFocus"),ks("focusout","onBlur"),ks(yO,"onTransitionRun"),ks(bO,"onTransitionStart"),ks(wO,"onTransitionCancel"),ks(cE,"onTransitionEnd"),Ds("onMouseEnter",["mouseout","mouseover"]),Ds("onMouseLeave",["mouseout","mouseover"]),Ds("onPointerEnter",["pointerout","pointerover"]),Ds("onPointerLeave",["pointerout","pointerover"]),en("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),en("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),en("onBeforeInput",["compositionend","keypress","textInput","paste"]),en("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qd));function Rx(n,s){s=(s&4)!==0;for(var c=0;c<n.length;c++){var d=n[c],v=d.event;d=d.listeners;t:{var _=void 0;if(s)for(var B=d.length-1;0<=B;B--){var j=d[B],Q=j.instance,vt=j.currentTarget;if(j=j.listener,Q!==_&&v.isPropagationStopped())break t;_=j,v.currentTarget=vt;try{_(v)}catch(St){gv(St)}v.currentTarget=null,_=Q}else for(B=0;B<d.length;B++){if(j=d[B],Q=j.instance,vt=j.currentTarget,j=j.listener,Q!==_&&v.isPropagationStopped())break t;_=j,v.currentTarget=vt;try{_(v)}catch(St){gv(St)}v.currentTarget=null,_=Q}}}}function Le(n,s){var c=s[ge];c===void 0&&(c=s[ge]=new Set);var d=n+"__bubble";c.has(d)||(kx(s,n,2,!1),c.add(d))}function O2(n,s,c){var d=0;s&&(d|=4),kx(c,n,d,s)}var Rv="_reactListening"+Math.random().toString(36).slice(2);function M2(n){if(!n[Rv]){n[Rv]=!0,Hi.forEach(function(c){c!=="selectionchange"&&(i3.has(c)||O2(c,!1,n),O2(c,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Rv]||(s[Rv]=!0,O2("selectionchange",!1,s))}}function kx(n,s,c,d){switch(tC(s)){case 2:var v=R3;break;case 8:v=k3;break;default:v=W2}c=v.bind(null,s,c,n),v=void 0,!eb||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(v=!0),d?v!==void 0?n.addEventListener(s,c,{capture:!0,passive:v}):n.addEventListener(s,c,!0):v!==void 0?n.addEventListener(s,c,{passive:v}):n.addEventListener(s,c,!1)}function L2(n,s,c,d,v){var _=d;if((s&1)===0&&(s&2)===0&&d!==null)t:for(;;){if(d===null)return;var B=d.tag;if(B===3||B===4){var j=d.stateNode.containerInfo;if(j===v)break;if(B===4)for(B=d.return;B!==null;){var Q=B.tag;if((Q===3||Q===4)&&B.stateNode.containerInfo===v)return;B=B.return}for(;j!==null;){if(B=ti(j),B===null)return;if(Q=B.tag,Q===5||Q===6||Q===26||Q===27){d=_=B;continue t}j=j.parentNode}}d=d.return}P_(function(){var vt=_,St=md(c),Rt=[];t:{var yt=hE.get(n);if(yt!==void 0){var wt=qm,me=n;switch(n){case"keypress":if(Hm(c)===0)break t;case"keydown":case"keyup":wt=KN;break;case"focusin":me="focus",wt=sb;break;case"focusout":me="blur",wt=sb;break;case"beforeblur":case"afterblur":wt=sb;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":wt=U_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":wt=zN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":wt=JN;break;case oE:case lE:case uE:wt=HN;break;case cE:wt=eO;break;case"scroll":case"scrollend":wt=BN;break;case"wheel":wt=nO;break;case"copy":case"cut":case"paste":wt=qN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":wt=j_;break;case"toggle":case"beforetoggle":wt=sO}var ce=(s&4)!==0,hi=!ce&&(n==="scroll"||n==="scrollend"),ut=ce?yt!==null?yt+"Capture":null:yt;ce=[];for(var rt=vt,mt;rt!==null;){var Tt=rt;if(mt=Tt.stateNode,Tt=Tt.tag,Tt!==5&&Tt!==26&&Tt!==27||mt===null||ut===null||(Tt=vd(rt,ut),Tt!=null&&ce.push(Jd(rt,Tt,mt))),hi)break;rt=rt.return}0<ce.length&&(yt=new wt(yt,me,null,c,St),Rt.push({event:yt,listeners:ce}))}}if((s&7)===0){t:{if(yt=n==="mouseover"||n==="pointerover",wt=n==="mouseout"||n==="pointerout",yt&&c!==gd&&(me=c.relatedTarget||c.fromElement)&&(ti(me)||me[jt]))break t;if((wt||yt)&&(yt=St.window===St?St:(yt=St.ownerDocument)?yt.defaultView||yt.parentWindow:window,wt?(me=c.relatedTarget||c.toElement,wt=vt,me=me?ti(me):null,me!==null&&(hi=a(me),ce=me.tag,me!==hi||ce!==5&&ce!==27&&ce!==6)&&(me=null)):(wt=null,me=vt),wt!==me)){if(ce=U_,Tt="onMouseLeave",ut="onMouseEnter",rt="mouse",(n==="pointerout"||n==="pointerover")&&(ce=j_,Tt="onPointerLeave",ut="onPointerEnter",rt="pointer"),hi=wt==null?yt:is(wt),mt=me==null?yt:is(me),yt=new ce(Tt,rt+"leave",wt,c,St),yt.target=hi,yt.relatedTarget=mt,Tt=null,ti(St)===vt&&(ce=new ce(ut,rt+"enter",me,c,St),ce.target=mt,ce.relatedTarget=hi,Tt=ce),hi=Tt,wt&&me)e:{for(ce=wt,ut=me,rt=0,mt=ce;mt;mt=Eh(mt))rt++;for(mt=0,Tt=ut;Tt;Tt=Eh(Tt))mt++;for(;0<rt-mt;)ce=Eh(ce),rt--;for(;0<mt-rt;)ut=Eh(ut),mt--;for(;rt--;){if(ce===ut||ut!==null&&ce===ut.alternate)break e;ce=Eh(ce),ut=Eh(ut)}ce=null}else ce=null;wt!==null&&Nx(Rt,yt,wt,ce,!1),me!==null&&hi!==null&&Nx(Rt,hi,me,ce,!0)}}t:{if(yt=vt?is(vt):window,wt=yt.nodeName&&yt.nodeName.toLowerCase(),wt==="select"||wt==="input"&&yt.type==="file")var ie=K_;else if(Y_(yt))if(Z_)ie=gO;else{ie=dO;var Ne=fO}else wt=yt.nodeName,!wt||wt.toLowerCase()!=="input"||yt.type!=="checkbox"&&yt.type!=="radio"?vt&&lu(vt.elementType)&&(ie=K_):ie=pO;if(ie&&(ie=ie(n,vt))){X_(Rt,ie,c,St);break t}Ne&&Ne(n,yt,vt),n==="focusout"&&vt&&yt.type==="number"&&vt.memoizedProps.value!=null&&ee(yt,"number",yt.value)}switch(Ne=vt?is(vt):window,n){case"focusin":(Y_(Ne)||Ne.contentEditable==="true")&&(Jc=Ne,hb=vt,xd=null);break;case"focusout":xd=hb=Jc=null;break;case"mousedown":fb=!0;break;case"contextmenu":case"mouseup":case"dragend":fb=!1,sE(Rt,c,St);break;case"selectionchange":if(vO)break;case"keydown":case"keyup":sE(Rt,c,St)}var ae;if(ob)t:{switch(n){case"compositionstart":var pe="onCompositionStart";break t;case"compositionend":pe="onCompositionEnd";break t;case"compositionupdate":pe="onCompositionUpdate";break t}pe=void 0}else Qc?$_(n,c)&&(pe="onCompositionEnd"):n==="keydown"&&c.keyCode===229&&(pe="onCompositionStart");pe&&(q_&&c.locale!=="ko"&&(Qc||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&Qc&&(ae=z_()):(qo=St,ib="value"in qo?qo.value:qo.textContent,Qc=!0)),Ne=kv(vt,pe),0<Ne.length&&(pe=new H_(pe,n,null,c,St),Rt.push({event:pe,listeners:Ne}),ae?pe.data=ae:(ae=W_(c),ae!==null&&(pe.data=ae)))),(ae=oO?lO(n,c):uO(n,c))&&(pe=kv(vt,"onBeforeInput"),0<pe.length&&(Ne=new H_("onBeforeInput","beforeinput",null,c,St),Rt.push({event:Ne,listeners:pe}),Ne.data=ae)),JO(Rt,n,vt,c,St)}Rx(Rt,s)})}function Jd(n,s,c){return{instance:n,listener:s,currentTarget:c}}function kv(n,s){for(var c=s+"Capture",d=[];n!==null;){var v=n,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=vd(n,c),v!=null&&d.unshift(Jd(n,v,_)),v=vd(n,s),v!=null&&d.push(Jd(n,v,_))),n.tag===3)return d;n=n.return}return[]}function Eh(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Nx(n,s,c,d,v){for(var _=s._reactName,B=[];c!==null&&c!==d;){var j=c,Q=j.alternate,vt=j.stateNode;if(j=j.tag,Q!==null&&Q===d)break;j!==5&&j!==26&&j!==27||vt===null||(Q=vt,v?(vt=vd(c,_),vt!=null&&B.unshift(Jd(c,vt,Q))):v||(vt=vd(c,_),vt!=null&&B.push(Jd(c,vt,Q)))),c=c.return}B.length!==0&&n.push({event:s,listeners:B})}var n3=/\r\n?/g,r3=/\u0000|\uFFFD/g;function Ox(n){return(typeof n=="string"?n:""+n).replace(n3,`
`).replace(r3,"")}function Mx(n,s){return s=Ox(s),Ox(n)===s}function Nv(){}function ci(n,s,c,d,v,_){switch(c){case"children":typeof d=="string"?s==="body"||s==="textarea"&&d===""||yi(n,d):(typeof d=="number"||typeof d=="bigint")&&s!=="body"&&yi(n,""+d);break;case"className":Kc(n,"class",d);break;case"tabIndex":Kc(n,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Kc(n,c,d);break;case"style":jo(n,d,_);break;case"data":if(s!=="object"){Kc(n,"data",d);break}case"src":case"href":if(d===""&&(s!=="a"||c!=="href")){n.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){n.removeAttribute(c);break}d=pd(""+d),n.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){n.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(c==="formAction"?(s!=="input"&&ci(n,s,"name",v.name,v,null),ci(n,s,"formEncType",v.formEncType,v,null),ci(n,s,"formMethod",v.formMethod,v,null),ci(n,s,"formTarget",v.formTarget,v,null)):(ci(n,s,"encType",v.encType,v,null),ci(n,s,"method",v.method,v,null),ci(n,s,"target",v.target,v,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){n.removeAttribute(c);break}d=pd(""+d),n.setAttribute(c,d);break;case"onClick":d!=null&&(n.onclick=Nv);break;case"onScroll":d!=null&&Le("scroll",n);break;case"onScrollEnd":d!=null&&Le("scrollend",n);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(c=d.__html,c!=null){if(v.children!=null)throw Error(i(60));n.innerHTML=c}}break;case"multiple":n.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":n.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){n.removeAttribute("xlink:href");break}c=pd(""+d),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(c,""+d):n.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(c,""):n.removeAttribute(c);break;case"capture":case"download":d===!0?n.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(c,d):n.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?n.setAttribute(c,d):n.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?n.removeAttribute(c):n.setAttribute(c,d);break;case"popover":Le("beforetoggle",n),Le("toggle",n),Rs(n,"popover",d);break;case"xlinkActuate":gr(n,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":gr(n,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":gr(n,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":gr(n,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":gr(n,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":gr(n,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":gr(n,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":gr(n,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":gr(n,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Rs(n,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Jy.get(c)||c,Rs(n,c,d))}}function I2(n,s,c,d,v,_){switch(c){case"style":jo(n,d,_);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(c=d.__html,c!=null){if(v.children!=null)throw Error(i(60));n.innerHTML=c}}break;case"children":typeof d=="string"?yi(n,d):(typeof d=="number"||typeof d=="bigint")&&yi(n,""+d);break;case"onScroll":d!=null&&Le("scroll",n);break;case"onScrollEnd":d!=null&&Le("scrollend",n);break;case"onClick":d!=null&&(n.onclick=Nv);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pr.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(v=c.endsWith("Capture"),s=c.slice(2,v?c.length-7:void 0),_=n[It]||null,_=_!=null?_[c]:null,typeof _=="function"&&n.removeEventListener(s,_,v),typeof d=="function")){typeof _!="function"&&_!==null&&(c in n?n[c]=null:n.hasAttribute(c)&&n.removeAttribute(c)),n.addEventListener(s,d,v);break t}c in n?n[c]=d:d===!0?n.setAttribute(c,""):Rs(n,c,d)}}}function Nn(n,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",n),Le("load",n);var d=!1,v=!1,_;for(_ in c)if(c.hasOwnProperty(_)){var B=c[_];if(B!=null)switch(_){case"src":d=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ci(n,s,_,B,c,null)}}v&&ci(n,s,"srcSet",c.srcSet,c,null),d&&ci(n,s,"src",c.src,c,null);return;case"input":Le("invalid",n);var j=_=B=v=null,Q=null,vt=null;for(d in c)if(c.hasOwnProperty(d)){var St=c[d];if(St!=null)switch(d){case"name":v=St;break;case"type":B=St;break;case"checked":Q=St;break;case"defaultChecked":vt=St;break;case"value":_=St;break;case"defaultValue":j=St;break;case"children":case"dangerouslySetInnerHTML":if(St!=null)throw Error(i(137,s));break;default:ci(n,s,d,St,c,null)}}Ut(n,_,j,Q,vt,B,v,!1),ht(n);return;case"select":Le("invalid",n),d=B=_=null;for(v in c)if(c.hasOwnProperty(v)&&(j=c[v],j!=null))switch(v){case"value":_=j;break;case"defaultValue":B=j;break;case"multiple":d=j;default:ci(n,s,v,j,c,null)}s=_,c=B,n.multiple=!!d,s!=null?be(n,!!d,s,!1):c!=null&&be(n,!!d,c,!0);return;case"textarea":Le("invalid",n),_=v=d=null;for(B in c)if(c.hasOwnProperty(B)&&(j=c[B],j!=null))switch(B){case"value":d=j;break;case"defaultValue":v=j;break;case"children":_=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(i(91));break;default:ci(n,s,B,j,c,null)}We(n,d,v,_),ht(n);return;case"option":for(Q in c)if(c.hasOwnProperty(Q)&&(d=c[Q],d!=null))switch(Q){case"selected":n.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:ci(n,s,Q,d,c,null)}return;case"dialog":Le("beforetoggle",n),Le("toggle",n),Le("cancel",n),Le("close",n);break;case"iframe":case"object":Le("load",n);break;case"video":case"audio":for(d=0;d<Qd.length;d++)Le(Qd[d],n);break;case"image":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"embed":case"source":case"link":Le("error",n),Le("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(vt in c)if(c.hasOwnProperty(vt)&&(d=c[vt],d!=null))switch(vt){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ci(n,s,vt,d,c,null)}return;default:if(lu(s)){for(St in c)c.hasOwnProperty(St)&&(d=c[St],d!==void 0&&I2(n,s,St,d,c,void 0));return}}for(j in c)c.hasOwnProperty(j)&&(d=c[j],d!=null&&ci(n,s,j,d,c,null))}function s3(n,s,c,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,B=null,j=null,Q=null,vt=null,St=null;for(wt in c){var Rt=c[wt];if(c.hasOwnProperty(wt)&&Rt!=null)switch(wt){case"checked":break;case"value":break;case"defaultValue":Q=Rt;default:d.hasOwnProperty(wt)||ci(n,s,wt,null,d,Rt)}}for(var yt in d){var wt=d[yt];if(Rt=c[yt],d.hasOwnProperty(yt)&&(wt!=null||Rt!=null))switch(yt){case"type":_=wt;break;case"name":v=wt;break;case"checked":vt=wt;break;case"defaultChecked":St=wt;break;case"value":B=wt;break;case"defaultValue":j=wt;break;case"children":case"dangerouslySetInnerHTML":if(wt!=null)throw Error(i(137,s));break;default:wt!==Rt&&ci(n,s,yt,wt,d,Rt)}}Pt(n,B,j,Q,vt,St,_,v);return;case"select":wt=B=j=yt=null;for(_ in c)if(Q=c[_],c.hasOwnProperty(_)&&Q!=null)switch(_){case"value":break;case"multiple":wt=Q;default:d.hasOwnProperty(_)||ci(n,s,_,null,d,Q)}for(v in d)if(_=d[v],Q=c[v],d.hasOwnProperty(v)&&(_!=null||Q!=null))switch(v){case"value":yt=_;break;case"defaultValue":j=_;break;case"multiple":B=_;default:_!==Q&&ci(n,s,v,_,d,Q)}s=j,c=B,d=wt,yt!=null?be(n,!!c,yt,!1):!!d!=!!c&&(s!=null?be(n,!!c,s,!0):be(n,!!c,c?[]:"",!1));return;case"textarea":wt=yt=null;for(j in c)if(v=c[j],c.hasOwnProperty(j)&&v!=null&&!d.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:ci(n,s,j,null,d,v)}for(B in d)if(v=d[B],_=c[B],d.hasOwnProperty(B)&&(v!=null||_!=null))switch(B){case"value":yt=v;break;case"defaultValue":wt=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==_&&ci(n,s,B,v,d,_)}Ge(n,yt,wt);return;case"option":for(var me in c)if(yt=c[me],c.hasOwnProperty(me)&&yt!=null&&!d.hasOwnProperty(me))switch(me){case"selected":n.selected=!1;break;default:ci(n,s,me,null,d,yt)}for(Q in d)if(yt=d[Q],wt=c[Q],d.hasOwnProperty(Q)&&yt!==wt&&(yt!=null||wt!=null))switch(Q){case"selected":n.selected=yt&&typeof yt!="function"&&typeof yt!="symbol";break;default:ci(n,s,Q,yt,d,wt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in c)yt=c[ce],c.hasOwnProperty(ce)&&yt!=null&&!d.hasOwnProperty(ce)&&ci(n,s,ce,null,d,yt);for(vt in d)if(yt=d[vt],wt=c[vt],d.hasOwnProperty(vt)&&yt!==wt&&(yt!=null||wt!=null))switch(vt){case"children":case"dangerouslySetInnerHTML":if(yt!=null)throw Error(i(137,s));break;default:ci(n,s,vt,yt,d,wt)}return;default:if(lu(s)){for(var hi in c)yt=c[hi],c.hasOwnProperty(hi)&&yt!==void 0&&!d.hasOwnProperty(hi)&&I2(n,s,hi,void 0,d,yt);for(St in d)yt=d[St],wt=c[St],!d.hasOwnProperty(St)||yt===wt||yt===void 0&&wt===void 0||I2(n,s,St,yt,d,wt);return}}for(var ut in c)yt=c[ut],c.hasOwnProperty(ut)&&yt!=null&&!d.hasOwnProperty(ut)&&ci(n,s,ut,null,d,yt);for(Rt in d)yt=d[Rt],wt=c[Rt],!d.hasOwnProperty(Rt)||yt===wt||yt==null&&wt==null||ci(n,s,Rt,yt,d,wt)}var B2=null,P2=null;function Ov(n){return n.nodeType===9?n:n.ownerDocument}function Lx(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ix(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function z2(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var F2=null;function a3(){var n=window.event;return n&&n.type==="popstate"?n===F2?!1:(F2=n,!0):(F2=null,!1)}var Bx=typeof setTimeout=="function"?setTimeout:void 0,o3=typeof clearTimeout=="function"?clearTimeout:void 0,Px=typeof Promise=="function"?Promise:void 0,l3=typeof queueMicrotask=="function"?queueMicrotask:typeof Px<"u"?function(n){return Px.resolve(null).then(n).catch(u3)}:Bx;function u3(n){setTimeout(function(){throw n})}function sl(n){return n==="head"}function zx(n,s){var c=s,d=0,v=0;do{var _=c.nextSibling;if(n.removeChild(c),_&&_.nodeType===8)if(c=_.data,c==="/$"){if(0<d&&8>d){c=d;var B=n.ownerDocument;if(c&1&&tp(B.documentElement),c&2&&tp(B.body),c&4)for(c=B.head,tp(c),B=c.firstChild;B;){var j=B.nextSibling,Q=B.nodeName;B[Ae]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&B.rel.toLowerCase()==="stylesheet"||c.removeChild(B),B=j}}if(v===0){n.removeChild(_),lp(s);return}v--}else c==="$"||c==="$?"||c==="$!"?v++:d=c.charCodeAt(0)-48;else d=0;c=_}while(c);lp(s)}function U2(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":U2(c),Ci(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}n.removeChild(c)}}function c3(n,s,c,d){for(;n.nodeType===1;){var v=c;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!d&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(d){if(!n[Ae])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(_=n.getAttribute("rel"),_==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(_!==v.rel||n.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||n.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||n.getAttribute("title")!==(v.title==null?null:v.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(_=n.getAttribute("src"),(_!==(v.src==null?null:v.src)||n.getAttribute("type")!==(v.type==null?null:v.type)||n.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&n.getAttribute("name")===_)return n}else return n;if(n=Os(n.nextSibling),n===null)break}return null}function h3(n,s,c){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!c||(n=Os(n.nextSibling),n===null))return null;return n}function H2(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function f3(n,s){var c=n.ownerDocument;if(n.data!=="$?"||c.readyState==="complete")s();else{var d=function(){s(),c.removeEventListener("DOMContentLoaded",d)};c.addEventListener("DOMContentLoaded",d),n._reactRetry=d}}function Os(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}var j2=null;function Fx(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var c=n.data;if(c==="$"||c==="$!"||c==="$?"){if(s===0)return n;s--}else c==="/$"&&s++}n=n.previousSibling}return null}function Ux(n,s,c){switch(s=Ov(c),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function tp(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Ci(n)}var us=new Map,Hx=new Set;function Mv(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ya=Z.d;Z.d={f:d3,r:p3,D:g3,C:m3,L:v3,m:y3,X:w3,S:b3,M:A3};function d3(){var n=Ya.f(),s=Sv();return n||s}function p3(n){var s=Vn(n);s!==null&&s.tag===5&&s.type==="form"?oS(s):Ya.r(n)}var Sh=typeof document>"u"?null:document;function jx(n,s,c){var d=Sh;if(d&&typeof s=="string"&&s){var v=Nt(s);v='link[rel="'+n+'"][href="'+v+'"]',typeof c=="string"&&(v+='[crossorigin="'+c+'"]'),Hx.has(v)||(Hx.add(v),n={rel:n,crossOrigin:c,href:s},d.querySelector(v)===null&&(s=d.createElement("link"),Nn(s,"link",n),qe(s),d.head.appendChild(s)))}}function g3(n){Ya.D(n),jx("dns-prefetch",n,null)}function m3(n,s){Ya.C(n,s),jx("preconnect",n,s)}function v3(n,s,c){Ya.L(n,s,c);var d=Sh;if(d&&n&&s){var v='link[rel="preload"][as="'+Nt(s)+'"]';s==="image"&&c&&c.imageSrcSet?(v+='[imagesrcset="'+Nt(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(v+='[imagesizes="'+Nt(c.imageSizes)+'"]')):v+='[href="'+Nt(n)+'"]';var _=v;switch(s){case"style":_=xh(n);break;case"script":_=Ch(n)}us.has(_)||(n=g({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:n,as:s},c),us.set(_,n),d.querySelector(v)!==null||s==="style"&&d.querySelector(ep(_))||s==="script"&&d.querySelector(ip(_))||(s=d.createElement("link"),Nn(s,"link",n),qe(s),d.head.appendChild(s)))}}function y3(n,s){Ya.m(n,s);var c=Sh;if(c&&n){var d=s&&typeof s.as=="string"?s.as:"script",v='link[rel="modulepreload"][as="'+Nt(d)+'"][href="'+Nt(n)+'"]',_=v;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Ch(n)}if(!us.has(_)&&(n=g({rel:"modulepreload",href:n},s),us.set(_,n),c.querySelector(v)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(ip(_)))return}d=c.createElement("link"),Nn(d,"link",n),qe(d),c.head.appendChild(d)}}}function b3(n,s,c){Ya.S(n,s,c);var d=Sh;if(d&&n){var v=si(d).hoistableStyles,_=xh(n);s=s||"default";var B=v.get(_);if(!B){var j={loading:0,preload:null};if(B=d.querySelector(ep(_)))j.loading=5;else{n=g({rel:"stylesheet",href:n,"data-precedence":s},c),(c=us.get(_))&&q2(n,c);var Q=B=d.createElement("link");qe(Q),Nn(Q,"link",n),Q._p=new Promise(function(vt,St){Q.onload=vt,Q.onerror=St}),Q.addEventListener("load",function(){j.loading|=1}),Q.addEventListener("error",function(){j.loading|=2}),j.loading|=4,Lv(B,s,d)}B={type:"stylesheet",instance:B,count:1,state:j},v.set(_,B)}}}function w3(n,s){Ya.X(n,s);var c=Sh;if(c&&n){var d=si(c).hoistableScripts,v=Ch(n),_=d.get(v);_||(_=c.querySelector(ip(v)),_||(n=g({src:n,async:!0},s),(s=us.get(v))&&G2(n,s),_=c.createElement("script"),qe(_),Nn(_,"link",n),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},d.set(v,_))}}function A3(n,s){Ya.M(n,s);var c=Sh;if(c&&n){var d=si(c).hoistableScripts,v=Ch(n),_=d.get(v);_||(_=c.querySelector(ip(v)),_||(n=g({src:n,async:!0,type:"module"},s),(s=us.get(v))&&G2(n,s),_=c.createElement("script"),qe(_),Nn(_,"link",n),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},d.set(v,_))}}function qx(n,s,c,d){var v=(v=Ht.current)?Mv(v):null;if(!v)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=xh(c.href),c=si(v).hoistableStyles,d=c.get(s),d||(d={type:"style",instance:null,count:0,state:null},c.set(s,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){n=xh(c.href);var _=si(v).hoistableStyles,B=_.get(n);if(B||(v=v.ownerDocument||v,B={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(n,B),(_=v.querySelector(ep(n)))&&!_._p&&(B.instance=_,B.state.loading=5),us.has(n)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},us.set(n,c),_||_3(v,n,c,B.state))),s&&d===null)throw Error(i(528,""));return B}if(s&&d!==null)throw Error(i(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ch(c),c=si(v).hoistableScripts,d=c.get(s),d||(d={type:"script",instance:null,count:0,state:null},c.set(s,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function xh(n){return'href="'+Nt(n)+'"'}function ep(n){return'link[rel="stylesheet"]['+n+"]"}function Gx(n){return g({},n,{"data-precedence":n.precedence,precedence:null})}function _3(n,s,c,d){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?d.loading=1:(s=n.createElement("link"),d.preload=s,s.addEventListener("load",function(){return d.loading|=1}),s.addEventListener("error",function(){return d.loading|=2}),Nn(s,"link",c),qe(s),n.head.appendChild(s))}function Ch(n){return'[src="'+Nt(n)+'"]'}function ip(n){return"script[async]"+n}function Vx(n,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var d=n.querySelector('style[data-href~="'+Nt(c.href)+'"]');if(d)return s.instance=d,qe(d),d;var v=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(n.ownerDocument||n).createElement("style"),qe(d),Nn(d,"style",v),Lv(d,c.precedence,n),s.instance=d;case"stylesheet":v=xh(c.href);var _=n.querySelector(ep(v));if(_)return s.state.loading|=4,s.instance=_,qe(_),_;d=Gx(c),(v=us.get(v))&&q2(d,v),_=(n.ownerDocument||n).createElement("link"),qe(_);var B=_;return B._p=new Promise(function(j,Q){B.onload=j,B.onerror=Q}),Nn(_,"link",d),s.state.loading|=4,Lv(_,c.precedence,n),s.instance=_;case"script":return _=Ch(c.src),(v=n.querySelector(ip(_)))?(s.instance=v,qe(v),v):(d=c,(v=us.get(_))&&(d=g({},c),G2(d,v)),n=n.ownerDocument||n,v=n.createElement("script"),qe(v),Nn(v,"link",d),n.head.appendChild(v),s.instance=v);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(d=s.instance,s.state.loading|=4,Lv(d,c.precedence,n));return s.instance}function Lv(n,s,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=d.length?d[d.length-1]:null,_=v,B=0;B<d.length;B++){var j=d[B];if(j.dataset.precedence===s)_=j;else if(_!==v)break}_?_.parentNode.insertBefore(n,_.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(n,s.firstChild))}function q2(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function G2(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Iv=null;function $x(n,s,c){if(Iv===null){var d=new Map,v=Iv=new Map;v.set(c,d)}else v=Iv,d=v.get(c),d||(d=new Map,v.set(c,d));if(d.has(n))return d;for(d.set(n,null),c=c.getElementsByTagName(n),v=0;v<c.length;v++){var _=c[v];if(!(_[Ae]||_[Ft]||n==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var B=_.getAttribute(s)||"";B=n+B;var j=d.get(B);j?j.push(_):d.set(B,[_])}}return d}function Wx(n,s,c){n=n.ownerDocument||n,n.head.insertBefore(c,s==="title"?n.querySelector("head > title"):null)}function E3(n,s,c){if(c===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Yx(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var np=null;function S3(){}function x3(n,s,c){if(np===null)throw Error(i(475));var d=np;if(s.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var v=xh(c.href),_=n.querySelector(ep(v));if(_){n=_._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(d.count++,d=Bv.bind(d),n.then(d,d)),s.state.loading|=4,s.instance=_,qe(_);return}_=n.ownerDocument||n,c=Gx(c),(v=us.get(v))&&q2(c,v),_=_.createElement("link"),qe(_);var B=_;B._p=new Promise(function(j,Q){B.onload=j,B.onerror=Q}),Nn(_,"link",c),s.instance=_}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(d.count++,s=Bv.bind(d),n.addEventListener("load",s),n.addEventListener("error",s))}}function C3(){if(np===null)throw Error(i(475));var n=np;return n.stylesheets&&n.count===0&&V2(n,n.stylesheets),0<n.count?function(s){var c=setTimeout(function(){if(n.stylesheets&&V2(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(c)}}:null}function Bv(){if(this.count--,this.count===0){if(this.stylesheets)V2(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Pv=null;function V2(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Pv=new Map,s.forEach(T3,n),Pv=null,Bv.call(n))}function T3(n,s){if(!(s.state.loading&4)){var c=Pv.get(n);if(c)var d=c.get(null);else{c=new Map,Pv.set(n,c);for(var v=n.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var B=v[_];(B.nodeName==="LINK"||B.getAttribute("media")!=="not all")&&(c.set(B.dataset.precedence,B),d=B)}d&&c.set(null,d)}v=s.instance,B=v.getAttribute("data-precedence"),_=c.get(B)||d,_===d&&c.set(null,v),c.set(B,v),this.count++,d=Bv.bind(this),v.addEventListener("load",d),v.addEventListener("error",d),_?_.parentNode.insertBefore(v,_.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(v,n.firstChild)),s.state.loading|=4}}var rp={$$typeof:R,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function D3(n,s,c,d,v,_,B,j){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=M(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=M(0),this.hiddenUpdates=M(null),this.identifierPrefix=d,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function Xx(n,s,c,d,v,_,B,j,Q,vt,St,Rt){return n=new D3(n,s,c,B,j,Q,vt,Rt),s=1,_===!0&&(s|=24),_=Rr(3,null,null,s),n.current=_,_.stateNode=n,s=Cb(),s.refCount++,n.pooledCache=s,s.refCount++,_.memoizedState={element:d,isDehydrated:c,cache:s},kb(_),n}function Kx(n){return n?(n=nh,n):nh}function Zx(n,s,c,d,v,_){v=Kx(v),d.context===null?d.context=v:d.pendingContext=v,d=$o(s),d.payload={element:c},_=_===void 0?null:_,_!==null&&(d.callback=_),c=Wo(n,d,s),c!==null&&(Lr(c,n,s),Ld(c,n,s))}function Qx(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var c=n.retryLane;n.retryLane=c!==0&&c<s?c:s}}function $2(n,s){Qx(n,s),(n=n.alternate)&&Qx(n,s)}function Jx(n){if(n.tag===13){var s=ih(n,67108864);s!==null&&Lr(s,n,67108864),$2(n,67108864)}}var zv=!0;function R3(n,s,c,d){var v=X.T;X.T=null;var _=Z.p;try{Z.p=2,W2(n,s,c,d)}finally{Z.p=_,X.T=v}}function k3(n,s,c,d){var v=X.T;X.T=null;var _=Z.p;try{Z.p=8,W2(n,s,c,d)}finally{Z.p=_,X.T=v}}function W2(n,s,c,d){if(zv){var v=Y2(d);if(v===null)L2(n,s,d,Fv,c),eC(n,d);else if(O3(v,n,s,c,d))d.stopPropagation();else if(eC(n,d),s&4&&-1<N3.indexOf(n)){for(;v!==null;){var _=Vn(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var B=hn(_.pendingLanes);if(B!==0){var j=_;for(j.pendingLanes|=2,j.entangledLanes|=2;B;){var Q=1<<31-Xe(B);j.entanglements[1]|=Q,B&=~Q}ra(_),(ai&6)===0&&(_v=ue()+500,Zd(0))}}break;case 13:j=ih(_,2),j!==null&&Lr(j,_,2),Sv(),$2(_,2)}if(_=Y2(d),_===null&&L2(n,s,d,Fv,c),_===v)break;v=_}v!==null&&d.stopPropagation()}else L2(n,s,d,null,c)}}function Y2(n){return n=md(n),X2(n)}var Fv=null;function X2(n){if(Fv=null,n=ti(n),n!==null){var s=a(n);if(s===null)n=null;else{var c=s.tag;if(c===13){if(n=o(s),n!==null)return n;n=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Fv=n,null}function tC(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zt()){case Xt:return 2;case re:return 8;case Jt:case kt:return 32;case ne:return 268435456;default:return 32}default:return 32}}var K2=!1,al=null,ol=null,ll=null,sp=new Map,ap=new Map,ul=[],N3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function eC(n,s){switch(n){case"focusin":case"focusout":al=null;break;case"dragenter":case"dragleave":ol=null;break;case"mouseover":case"mouseout":ll=null;break;case"pointerover":case"pointerout":sp.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ap.delete(s.pointerId)}}function op(n,s,c,d,v,_){return n===null||n.nativeEvent!==_?(n={blockedOn:s,domEventName:c,eventSystemFlags:d,nativeEvent:_,targetContainers:[v]},s!==null&&(s=Vn(s),s!==null&&Jx(s)),n):(n.eventSystemFlags|=d,s=n.targetContainers,v!==null&&s.indexOf(v)===-1&&s.push(v),n)}function O3(n,s,c,d,v){switch(s){case"focusin":return al=op(al,n,s,c,d,v),!0;case"dragenter":return ol=op(ol,n,s,c,d,v),!0;case"mouseover":return ll=op(ll,n,s,c,d,v),!0;case"pointerover":var _=v.pointerId;return sp.set(_,op(sp.get(_)||null,n,s,c,d,v)),!0;case"gotpointercapture":return _=v.pointerId,ap.set(_,op(ap.get(_)||null,n,s,c,d,v)),!0}return!1}function iC(n){var s=ti(n.target);if(s!==null){var c=a(s);if(c!==null){if(s=c.tag,s===13){if(s=o(c),s!==null){n.blockedOn=s,et(n.priority,function(){if(c.tag===13){var d=Mr();d=at(d);var v=ih(c,d);v!==null&&Lr(v,c,d),$2(c,d)}});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){n.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Uv(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var c=Y2(n.nativeEvent);if(c===null){c=n.nativeEvent;var d=new c.constructor(c.type,c);gd=d,c.target.dispatchEvent(d),gd=null}else return s=Vn(c),s!==null&&Jx(s),n.blockedOn=c,!1;s.shift()}return!0}function nC(n,s,c){Uv(n)&&c.delete(s)}function M3(){K2=!1,al!==null&&Uv(al)&&(al=null),ol!==null&&Uv(ol)&&(ol=null),ll!==null&&Uv(ll)&&(ll=null),sp.forEach(nC),ap.forEach(nC)}function Hv(n,s){n.blockedOn===s&&(n.blockedOn=null,K2||(K2=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,M3)))}var jv=null;function rC(n){jv!==n&&(jv=n,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){jv===n&&(jv=null);for(var s=0;s<n.length;s+=3){var c=n[s],d=n[s+1],v=n[s+2];if(typeof d!="function"){if(X2(d||c)===null)continue;break}var _=Vn(c);_!==null&&(n.splice(s,3),s-=3,Xb(_,{pending:!0,data:v,method:c.method,action:d},d,v))}}))}function lp(n){function s(Q){return Hv(Q,n)}al!==null&&Hv(al,n),ol!==null&&Hv(ol,n),ll!==null&&Hv(ll,n),sp.forEach(s),ap.forEach(s);for(var c=0;c<ul.length;c++){var d=ul[c];d.blockedOn===n&&(d.blockedOn=null)}for(;0<ul.length&&(c=ul[0],c.blockedOn===null);)iC(c),c.blockedOn===null&&ul.shift();if(c=(n.ownerDocument||n).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var v=c[d],_=c[d+1],B=v[It]||null;if(typeof _=="function")B||rC(c);else if(B){var j=null;if(_&&_.hasAttribute("formAction")){if(v=_,B=_[It]||null)j=B.formAction;else if(X2(v)!==null)continue}else j=B.action;typeof j=="function"?c[d+1]=j:(c.splice(d,3),d-=3),rC(c)}}}function Z2(n){this._internalRoot=n}qv.prototype.render=Z2.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var c=s.current,d=Mr();Zx(c,d,n,s,null,null)},qv.prototype.unmount=Z2.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Zx(n.current,2,null,n,null,null),Sv(),s[jt]=null}};function qv(n){this._internalRoot=n}qv.prototype.unstable_scheduleHydration=function(n){if(n){var s=H();n={blockedOn:null,target:n,priority:s};for(var c=0;c<ul.length&&s!==0&&s<ul[c].priority;c++);ul.splice(c,0,n),c===0&&iC(n)}};var sC=t.version;if(sC!=="19.1.0")throw Error(i(527,sC,"19.1.0"));Z.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=h(s),n=n!==null?f(n):null,n=n===null?null:n.stateNode,n};var L3={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gv.isDisabled&&Gv.supportsFiber)try{ni=Gv.inject(L3),De=Gv}catch{}}return cp.createRoot=function(n,s){if(!r(n))throw Error(i(299));var c=!1,d="",v=AS,_=_S,B=ES,j=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(v=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(B=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(j=s.unstable_transitionCallbacks)),s=Xx(n,1,!1,null,null,c,d,v,_,B,j,null),n[jt]=s.current,M2(n),new Z2(s)},cp.hydrateRoot=function(n,s,c){if(!r(n))throw Error(i(299));var d=!1,v="",_=AS,B=_S,j=ES,Q=null,vt=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(_=c.onUncaughtError),c.onCaughtError!==void 0&&(B=c.onCaughtError),c.onRecoverableError!==void 0&&(j=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(Q=c.unstable_transitionCallbacks),c.formState!==void 0&&(vt=c.formState)),s=Xx(n,1,!0,s,c??null,d,v,_,B,j,Q,vt),s.context=Kx(null),c=s.current,d=Mr(),d=at(d),v=$o(d),v.callback=null,Wo(c,v,d),c=d,s.current.lanes=c,S(s,c),ra(s),n[jt]=s.current,M2(n),new qv(s)},cp.version="19.1.0",cp}var mC;function W3(){if(mC)return e1.exports;mC=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(t){console.error(t)}}return u(),e1.exports=$3(),e1.exports}var Y3=W3();const jp={black:"#000",white:"#fff"},Th={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Dh={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Rh={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},kh={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Nh={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},hp={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},X3={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function zc(u,...t){const e=new URL(`https://mui.com/production-error/?code=${u}`);return t.forEach(i=>e.searchParams.append("args[]",i)),`Minified MUI error #${u}; visit ${e} for the full message.`}const GA="$$material";function q0(){return q0=Object.assign?Object.assign.bind():function(u){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(u[i]=e[i])}return u},q0.apply(null,arguments)}function K3(u){if(u.sheet)return u.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===u)return document.styleSheets[t]}function Z3(u){var t=document.createElement("style");return t.setAttribute("data-emotion",u.key),u.nonce!==void 0&&t.setAttribute("nonce",u.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var Q3=function(){function u(e){var i=this;this._insertTag=function(r){var a;i.tags.length===0?i.insertionPoint?a=i.insertionPoint.nextSibling:i.prepend?a=i.container.firstChild:a=i.before:a=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(r,a),i.tags.push(r)},this.isSpeedy=e.speedy===void 0?!0:e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=u.prototype;return t.hydrate=function(i){i.forEach(this._insertTag)},t.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Z3(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var a=K3(r);try{a.insertRule(i,a.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(i));this.ctr++},t.flush=function(){this.tags.forEach(function(i){var r;return(r=i.parentNode)==null?void 0:r.removeChild(i)}),this.tags=[],this.ctr=0},u}(),Yn="-ms-",G0="-moz-",Ze="-webkit-",bD="comm",VA="rule",$A="decl",J3="@import",wD="@keyframes",tM="@layer",eM=Math.abs,Ry=String.fromCharCode,iM=Object.assign;function nM(u,t){return Fn(u,0)^45?(((t<<2^Fn(u,0))<<2^Fn(u,1))<<2^Fn(u,2))<<2^Fn(u,3):0}function AD(u){return u.trim()}function rM(u,t){return(u=t.exec(u))?u[0]:u}function Je(u,t,e){return u.replace(t,e)}function uw(u,t){return u.indexOf(t)}function Fn(u,t){return u.charCodeAt(t)|0}function qp(u,t,e){return u.slice(t,e)}function xa(u){return u.length}function WA(u){return u.length}function Vv(u,t){return t.push(u),u}function sM(u,t){return u.map(t).join("")}var ky=1,od=1,_D=0,Cr=0,ln=0,ud="";function Ny(u,t,e,i,r,a,o){return{value:u,root:t,parent:e,type:i,props:r,children:a,line:ky,column:od,length:o,return:""}}function fp(u,t){return iM(Ny("",null,null,"",null,null,0),u,{length:-u.length},t)}function aM(){return ln}function oM(){return ln=Cr>0?Fn(ud,--Cr):0,od--,ln===10&&(od=1,ky--),ln}function Jr(){return ln=Cr<_D?Fn(ud,Cr++):0,od++,ln===10&&(od=1,ky++),ln}function Ra(){return Fn(ud,Cr)}function s0(){return Cr}function xm(u,t){return qp(ud,u,t)}function Gp(u){switch(u){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ED(u){return ky=od=1,_D=xa(ud=u),Cr=0,[]}function SD(u){return ud="",u}function a0(u){return AD(xm(Cr-1,cw(u===91?u+2:u===40?u+1:u)))}function lM(u){for(;(ln=Ra())&&ln<33;)Jr();return Gp(u)>2||Gp(ln)>3?"":" "}function uM(u,t){for(;--t&&Jr()&&!(ln<48||ln>102||ln>57&&ln<65||ln>70&&ln<97););return xm(u,s0()+(t<6&&Ra()==32&&Jr()==32))}function cw(u){for(;Jr();)switch(ln){case u:return Cr;case 34:case 39:u!==34&&u!==39&&cw(ln);break;case 40:u===41&&cw(u);break;case 92:Jr();break}return Cr}function cM(u,t){for(;Jr()&&u+ln!==57;)if(u+ln===84&&Ra()===47)break;return"/*"+xm(t,Cr-1)+"*"+Ry(u===47?u:Jr())}function hM(u){for(;!Gp(Ra());)Jr();return xm(u,Cr)}function fM(u){return SD(o0("",null,null,null,[""],u=ED(u),0,[0],u))}function o0(u,t,e,i,r,a,o,l,h){for(var f=0,g=0,m=o,y=0,b=0,T=0,A=1,w=1,E=1,D=0,R="",N=r,x=a,L=i,I=R;w;)switch(T=D,D=Jr()){case 40:if(T!=108&&Fn(I,m-1)==58){uw(I+=Je(a0(D),"&","&\f"),"&\f")!=-1&&(E=-1);break}case 34:case 39:case 91:I+=a0(D);break;case 9:case 10:case 13:case 32:I+=lM(T);break;case 92:I+=uM(s0()-1,7);continue;case 47:switch(Ra()){case 42:case 47:Vv(dM(cM(Jr(),s0()),t,e),h);break;default:I+="/"}break;case 123*A:l[f++]=xa(I)*E;case 125*A:case 59:case 0:switch(D){case 0:case 125:w=0;case 59+g:E==-1&&(I=Je(I,/\f/g,"")),b>0&&xa(I)-m&&Vv(b>32?yC(I+";",i,e,m-1):yC(Je(I," ","")+";",i,e,m-2),h);break;case 59:I+=";";default:if(Vv(L=vC(I,t,e,f,g,r,l,R,N=[],x=[],m),a),D===123)if(g===0)o0(I,t,L,L,N,a,m,l,x);else switch(y===99&&Fn(I,3)===110?100:y){case 100:case 108:case 109:case 115:o0(u,L,L,i&&Vv(vC(u,L,L,0,0,r,l,R,r,N=[],m),x),r,x,m,l,i?N:x);break;default:o0(I,L,L,L,[""],x,0,l,x)}}f=g=b=0,A=E=1,R=I="",m=o;break;case 58:m=1+xa(I),b=T;default:if(A<1){if(D==123)--A;else if(D==125&&A++==0&&oM()==125)continue}switch(I+=Ry(D),D*A){case 38:E=g>0?1:(I+="\f",-1);break;case 44:l[f++]=(xa(I)-1)*E,E=1;break;case 64:Ra()===45&&(I+=a0(Jr())),y=Ra(),g=m=xa(R=I+=hM(s0())),D++;break;case 45:T===45&&xa(I)==2&&(A=0)}}return a}function vC(u,t,e,i,r,a,o,l,h,f,g){for(var m=r-1,y=r===0?a:[""],b=WA(y),T=0,A=0,w=0;T<i;++T)for(var E=0,D=qp(u,m+1,m=eM(A=o[T])),R=u;E<b;++E)(R=AD(A>0?y[E]+" "+D:Je(D,/&\f/g,y[E])))&&(h[w++]=R);return Ny(u,t,e,r===0?VA:l,h,f,g)}function dM(u,t,e){return Ny(u,t,e,bD,Ry(aM()),qp(u,2,-2),0)}function yC(u,t,e,i){return Ny(u,t,e,$A,qp(u,0,i),qp(u,i+1,-1),i)}function Kh(u,t){for(var e="",i=WA(u),r=0;r<i;r++)e+=t(u[r],r,u,t)||"";return e}function pM(u,t,e,i){switch(u.type){case tM:if(u.children.length)break;case J3:case $A:return u.return=u.return||u.value;case bD:return"";case wD:return u.return=u.value+"{"+Kh(u.children,i)+"}";case VA:u.value=u.props.join(",")}return xa(e=Kh(u.children,i))?u.return=u.value+"{"+e+"}":""}function gM(u){var t=WA(u);return function(e,i,r,a){for(var o="",l=0;l<t;l++)o+=u[l](e,i,r,a)||"";return o}}function mM(u){return function(t){t.root||(t=t.return)&&u(t)}}function xD(u){var t=Object.create(null);return function(e){return t[e]===void 0&&(t[e]=u(e)),t[e]}}var vM=function(t,e,i){for(var r=0,a=0;r=a,a=Ra(),r===38&&a===12&&(e[i]=1),!Gp(a);)Jr();return xm(t,Cr)},yM=function(t,e){var i=-1,r=44;do switch(Gp(r)){case 0:r===38&&Ra()===12&&(e[i]=1),t[i]+=vM(Cr-1,e,i);break;case 2:t[i]+=a0(r);break;case 4:if(r===44){t[++i]=Ra()===58?"&\f":"",e[i]=t[i].length;break}default:t[i]+=Ry(r)}while(r=Jr());return t},bM=function(t,e){return SD(yM(ED(t),e))},bC=new WeakMap,wM=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var e=t.value,i=t.parent,r=t.column===i.column&&t.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(t.props.length===1&&e.charCodeAt(0)!==58&&!bC.get(i))&&!r){bC.set(t,!0);for(var a=[],o=bM(e,a),l=i.props,h=0,f=0;h<o.length;h++)for(var g=0;g<l.length;g++,f++)t.props[f]=a[h]?o[h].replace(/&\f/g,l[g]):l[g]+" "+o[h]}}},AM=function(t){if(t.type==="decl"){var e=t.value;e.charCodeAt(0)===108&&e.charCodeAt(2)===98&&(t.return="",t.value="")}};function CD(u,t){switch(nM(u,t)){case 5103:return Ze+"print-"+u+u;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ze+u+u;case 5349:case 4246:case 4810:case 6968:case 2756:return Ze+u+G0+u+Yn+u+u;case 6828:case 4268:return Ze+u+Yn+u+u;case 6165:return Ze+u+Yn+"flex-"+u+u;case 5187:return Ze+u+Je(u,/(\w+).+(:[^]+)/,Ze+"box-$1$2"+Yn+"flex-$1$2")+u;case 5443:return Ze+u+Yn+"flex-item-"+Je(u,/flex-|-self/,"")+u;case 4675:return Ze+u+Yn+"flex-line-pack"+Je(u,/align-content|flex-|-self/,"")+u;case 5548:return Ze+u+Yn+Je(u,"shrink","negative")+u;case 5292:return Ze+u+Yn+Je(u,"basis","preferred-size")+u;case 6060:return Ze+"box-"+Je(u,"-grow","")+Ze+u+Yn+Je(u,"grow","positive")+u;case 4554:return Ze+Je(u,/([^-])(transform)/g,"$1"+Ze+"$2")+u;case 6187:return Je(Je(Je(u,/(zoom-|grab)/,Ze+"$1"),/(image-set)/,Ze+"$1"),u,"")+u;case 5495:case 3959:return Je(u,/(image-set\([^]*)/,Ze+"$1$`$1");case 4968:return Je(Je(u,/(.+:)(flex-)?(.*)/,Ze+"box-pack:$3"+Yn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ze+u+u;case 4095:case 3583:case 4068:case 2532:return Je(u,/(.+)-inline(.+)/,Ze+"$1$2")+u;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(xa(u)-1-t>6)switch(Fn(u,t+1)){case 109:if(Fn(u,t+4)!==45)break;case 102:return Je(u,/(.+:)(.+)-([^]+)/,"$1"+Ze+"$2-$3$1"+G0+(Fn(u,t+3)==108?"$3":"$2-$3"))+u;case 115:return~uw(u,"stretch")?CD(Je(u,"stretch","fill-available"),t)+u:u}break;case 4949:if(Fn(u,t+1)!==115)break;case 6444:switch(Fn(u,xa(u)-3-(~uw(u,"!important")&&10))){case 107:return Je(u,":",":"+Ze)+u;case 101:return Je(u,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ze+(Fn(u,14)===45?"inline-":"")+"box$3$1"+Ze+"$2$3$1"+Yn+"$2box$3")+u}break;case 5936:switch(Fn(u,t+11)){case 114:return Ze+u+Yn+Je(u,/[svh]\w+-[tblr]{2}/,"tb")+u;case 108:return Ze+u+Yn+Je(u,/[svh]\w+-[tblr]{2}/,"tb-rl")+u;case 45:return Ze+u+Yn+Je(u,/[svh]\w+-[tblr]{2}/,"lr")+u}return Ze+u+Yn+u+u}return u}var _M=function(t,e,i,r){if(t.length>-1&&!t.return)switch(t.type){case $A:t.return=CD(t.value,t.length);break;case wD:return Kh([fp(t,{value:Je(t.value,"@","@"+Ze)})],r);case VA:if(t.length)return sM(t.props,function(a){switch(rM(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Kh([fp(t,{props:[Je(a,/:(read-\w+)/,":"+G0+"$1")]})],r);case"::placeholder":return Kh([fp(t,{props:[Je(a,/:(plac\w+)/,":"+Ze+"input-$1")]}),fp(t,{props:[Je(a,/:(plac\w+)/,":"+G0+"$1")]}),fp(t,{props:[Je(a,/:(plac\w+)/,Yn+"input-$1")]})],r)}return""})}},EM=[_M],SM=function(t){var e=t.key;if(e==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(A){var w=A.getAttribute("data-emotion");w.indexOf(" ")!==-1&&(document.head.appendChild(A),A.setAttribute("data-s",""))})}var r=t.stylisPlugins||EM,a={},o,l=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),function(A){for(var w=A.getAttribute("data-emotion").split(" "),E=1;E<w.length;E++)a[w[E]]=!0;l.push(A)});var h,f=[wM,AM];{var g,m=[pM,mM(function(A){g.insert(A)})],y=gM(f.concat(r,m)),b=function(w){return Kh(fM(w),y)};h=function(w,E,D,R){g=D,b(w?w+"{"+E.styles+"}":E.styles),R&&(T.inserted[E.name]=!0)}}var T={key:e,sheet:new Q3({key:e,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:h};return T.sheet.hydrate(l),T},s1={exports:{}},ei={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wC;function xM(){if(wC)return ei;wC=1;var u=typeof Symbol=="function"&&Symbol.for,t=u?Symbol.for("react.element"):60103,e=u?Symbol.for("react.portal"):60106,i=u?Symbol.for("react.fragment"):60107,r=u?Symbol.for("react.strict_mode"):60108,a=u?Symbol.for("react.profiler"):60114,o=u?Symbol.for("react.provider"):60109,l=u?Symbol.for("react.context"):60110,h=u?Symbol.for("react.async_mode"):60111,f=u?Symbol.for("react.concurrent_mode"):60111,g=u?Symbol.for("react.forward_ref"):60112,m=u?Symbol.for("react.suspense"):60113,y=u?Symbol.for("react.suspense_list"):60120,b=u?Symbol.for("react.memo"):60115,T=u?Symbol.for("react.lazy"):60116,A=u?Symbol.for("react.block"):60121,w=u?Symbol.for("react.fundamental"):60117,E=u?Symbol.for("react.responder"):60118,D=u?Symbol.for("react.scope"):60119;function R(x){if(typeof x=="object"&&x!==null){var L=x.$$typeof;switch(L){case t:switch(x=x.type,x){case h:case f:case i:case a:case r:case m:return x;default:switch(x=x&&x.$$typeof,x){case l:case g:case T:case b:case o:return x;default:return L}}case e:return L}}}function N(x){return R(x)===f}return ei.AsyncMode=h,ei.ConcurrentMode=f,ei.ContextConsumer=l,ei.ContextProvider=o,ei.Element=t,ei.ForwardRef=g,ei.Fragment=i,ei.Lazy=T,ei.Memo=b,ei.Portal=e,ei.Profiler=a,ei.StrictMode=r,ei.Suspense=m,ei.isAsyncMode=function(x){return N(x)||R(x)===h},ei.isConcurrentMode=N,ei.isContextConsumer=function(x){return R(x)===l},ei.isContextProvider=function(x){return R(x)===o},ei.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===t},ei.isForwardRef=function(x){return R(x)===g},ei.isFragment=function(x){return R(x)===i},ei.isLazy=function(x){return R(x)===T},ei.isMemo=function(x){return R(x)===b},ei.isPortal=function(x){return R(x)===e},ei.isProfiler=function(x){return R(x)===a},ei.isStrictMode=function(x){return R(x)===r},ei.isSuspense=function(x){return R(x)===m},ei.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===i||x===f||x===a||x===r||x===m||x===y||typeof x=="object"&&x!==null&&(x.$$typeof===T||x.$$typeof===b||x.$$typeof===o||x.$$typeof===l||x.$$typeof===g||x.$$typeof===w||x.$$typeof===E||x.$$typeof===D||x.$$typeof===A)},ei.typeOf=R,ei}var AC;function CM(){return AC||(AC=1,s1.exports=xM()),s1.exports}var a1,_C;function TM(){if(_C)return a1;_C=1;var u=CM(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[u.ForwardRef]=i,a[u.Memo]=r;function o(T){return u.isMemo(T)?r:a[T.$$typeof]||t}var l=Object.defineProperty,h=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,y=Object.prototype;function b(T,A,w){if(typeof A!="string"){if(y){var E=m(A);E&&E!==y&&b(T,E,w)}var D=h(A);f&&(D=D.concat(f(A)));for(var R=o(T),N=o(A),x=0;x<D.length;++x){var L=D[x];if(!e[L]&&!(w&&w[L])&&!(N&&N[L])&&!(R&&R[L])){var I=g(A,L);try{l(T,L,I)}catch{}}}}return T}return a1=b,a1}TM();var DM=!0;function TD(u,t,e){var i="";return e.split(" ").forEach(function(r){u[r]!==void 0?t.push(u[r]+";"):r&&(i+=r+" ")}),i}var YA=function(t,e,i){var r=t.key+"-"+e.name;(i===!1||DM===!1)&&t.registered[r]===void 0&&(t.registered[r]=e.styles)},DD=function(t,e,i){YA(t,e,i);var r=t.key+"-"+e.name;if(t.inserted[e.name]===void 0){var a=e;do t.insert(e===a?"."+r:"",a,t.sheet,!0),a=a.next;while(a!==void 0)}};function RM(u){for(var t=0,e,i=0,r=u.length;r>=4;++i,r-=4)e=u.charCodeAt(i)&255|(u.charCodeAt(++i)&255)<<8|(u.charCodeAt(++i)&255)<<16|(u.charCodeAt(++i)&255)<<24,e=(e&65535)*1540483477+((e>>>16)*59797<<16),e^=e>>>24,t=(e&65535)*1540483477+((e>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(r){case 3:t^=(u.charCodeAt(i+2)&255)<<16;case 2:t^=(u.charCodeAt(i+1)&255)<<8;case 1:t^=u.charCodeAt(i)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var kM={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},NM=/[A-Z]|^ms/g,OM=/_EMO_([^_]+?)_([^]*?)_EMO_/g,RD=function(t){return t.charCodeAt(1)===45},EC=function(t){return t!=null&&typeof t!="boolean"},o1=xD(function(u){return RD(u)?u:u.replace(NM,"-$&").toLowerCase()}),SC=function(t,e){switch(t){case"animation":case"animationName":if(typeof e=="string")return e.replace(OM,function(i,r,a){return Ca={name:r,styles:a,next:Ca},r})}return kM[t]!==1&&!RD(t)&&typeof e=="number"&&e!==0?e+"px":e};function Vp(u,t,e){if(e==null)return"";var i=e;if(i.__emotion_styles!==void 0)return i;switch(typeof e){case"boolean":return"";case"object":{var r=e;if(r.anim===1)return Ca={name:r.name,styles:r.styles,next:Ca},r.name;var a=e;if(a.styles!==void 0){var o=a.next;if(o!==void 0)for(;o!==void 0;)Ca={name:o.name,styles:o.styles,next:Ca},o=o.next;var l=a.styles+";";return l}return MM(u,t,e)}case"function":{if(u!==void 0){var h=Ca,f=e(u);return Ca=h,Vp(u,t,f)}break}}var g=e;if(t==null)return g;var m=t[g];return m!==void 0?m:g}function MM(u,t,e){var i="";if(Array.isArray(e))for(var r=0;r<e.length;r++)i+=Vp(u,t,e[r])+";";else for(var a in e){var o=e[a];if(typeof o!="object"){var l=o;t!=null&&t[l]!==void 0?i+=a+"{"+t[l]+"}":EC(l)&&(i+=o1(a)+":"+SC(a,l)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var h=0;h<o.length;h++)EC(o[h])&&(i+=o1(a)+":"+SC(a,o[h])+";");else{var f=Vp(u,t,o);switch(a){case"animation":case"animationName":{i+=o1(a)+":"+f+";";break}default:i+=a+"{"+f+"}"}}}return i}var xC=/label:\s*([^\s;{]+)\s*(;|$)/g,Ca;function Oy(u,t,e){if(u.length===1&&typeof u[0]=="object"&&u[0]!==null&&u[0].styles!==void 0)return u[0];var i=!0,r="";Ca=void 0;var a=u[0];if(a==null||a.raw===void 0)i=!1,r+=Vp(e,t,a);else{var o=a;r+=o[0]}for(var l=1;l<u.length;l++)if(r+=Vp(e,t,u[l]),i){var h=a;r+=h[l]}xC.lastIndex=0;for(var f="",g;(g=xC.exec(r))!==null;)f+="-"+g[1];var m=RM(r)+f;return{name:m,styles:r,next:Ca}}var LM=function(t){return t()},IM=lw.useInsertionEffect?lw.useInsertionEffect:!1,kD=IM||LM,ND=Ot.createContext(typeof HTMLElement<"u"?SM({key:"css"}):null);ND.Provider;var OD=function(t){return Ot.forwardRef(function(e,i){var r=Ot.useContext(ND);return t(e,r,i)})},XA=Ot.createContext({}),KA={}.hasOwnProperty,hw="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",BM=function(t,e){var i={};for(var r in e)KA.call(e,r)&&(i[r]=e[r]);return i[hw]=t,i},PM=function(t){var e=t.cache,i=t.serialized,r=t.isStringTag;return YA(e,i,r),kD(function(){return DD(e,i,r)}),null},zM=OD(function(u,t,e){var i=u.css;typeof i=="string"&&t.registered[i]!==void 0&&(i=t.registered[i]);var r=u[hw],a=[i],o="";typeof u.className=="string"?o=TD(t.registered,a,u.className):u.className!=null&&(o=u.className+" ");var l=Oy(a,void 0,Ot.useContext(XA));o+=t.key+"-"+l.name;var h={};for(var f in u)KA.call(u,f)&&f!=="css"&&f!==hw&&(h[f]=u[f]);return h.className=o,e&&(h.ref=e),Ot.createElement(Ot.Fragment,null,Ot.createElement(PM,{cache:t,serialized:l,isStringTag:typeof r=="string"}),Ot.createElement(r,h))}),FM=zM,CC=function(t,e){var i=arguments;if(e==null||!KA.call(e,"css"))return Ot.createElement.apply(void 0,i);var r=i.length,a=new Array(r);a[0]=FM,a[1]=BM(t,e);for(var o=2;o<r;o++)a[o]=i[o];return Ot.createElement.apply(null,a)};(function(u){var t;t||(t=u.JSX||(u.JSX={}))})(CC||(CC={}));function ZA(){for(var u=arguments.length,t=new Array(u),e=0;e<u;e++)t[e]=arguments[e];return Oy(t)}function Cm(){var u=ZA.apply(void 0,arguments),t="animation-"+u.name;return{name:t,styles:"@keyframes "+t+"{"+u.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var UM=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,HM=xD(function(u){return UM.test(u)||u.charCodeAt(0)===111&&u.charCodeAt(1)===110&&u.charCodeAt(2)<91}),jM=HM,qM=function(t){return t!=="theme"},TC=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?jM:qM},DC=function(t,e,i){var r;if(e){var a=e.shouldForwardProp;r=t.__emotion_forwardProp&&a?function(o){return t.__emotion_forwardProp(o)&&a(o)}:a}return typeof r!="function"&&i&&(r=t.__emotion_forwardProp),r},GM=function(t){var e=t.cache,i=t.serialized,r=t.isStringTag;return YA(e,i,r),kD(function(){return DD(e,i,r)}),null},VM=function u(t,e){var i=t.__emotion_real===t,r=i&&t.__emotion_base||t,a,o;e!==void 0&&(a=e.label,o=e.target);var l=DC(t,e,i),h=l||TC(r),f=!h("as");return function(){var g=arguments,m=i&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(a!==void 0&&m.push("label:"+a+";"),g[0]==null||g[0].raw===void 0)m.push.apply(m,g);else{var y=g[0];m.push(y[0]);for(var b=g.length,T=1;T<b;T++)m.push(g[T],y[T])}var A=OD(function(w,E,D){var R=f&&w.as||r,N="",x=[],L=w;if(w.theme==null){L={};for(var I in w)L[I]=w[I];L.theme=Ot.useContext(XA)}typeof w.className=="string"?N=TD(E.registered,x,w.className):w.className!=null&&(N=w.className+" ");var U=Oy(m.concat(x),E.registered,L);N+=E.key+"-"+U.name,o!==void 0&&(N+=" "+o);var F=f&&l===void 0?TC(R):h,k={};for(var $ in w)f&&$==="as"||F($)&&(k[$]=w[$]);return k.className=N,D&&(k.ref=D),Ot.createElement(Ot.Fragment,null,Ot.createElement(GM,{cache:E,serialized:U,isStringTag:typeof R=="string"}),Ot.createElement(R,k))});return A.displayName=a!==void 0?a:"Styled("+(typeof r=="string"?r:r.displayName||r.name||"Component")+")",A.defaultProps=t.defaultProps,A.__emotion_real=A,A.__emotion_base=r,A.__emotion_styles=m,A.__emotion_forwardProp=l,Object.defineProperty(A,"toString",{value:function(){return"."+o}}),A.withComponent=function(w,E){var D=u(w,q0({},e,E,{shouldForwardProp:DC(A,E,!0)}));return D.apply(void 0,m)},A}},$M=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],fw=VM.bind(null);$M.forEach(function(u){fw[u]=fw(u)});function MD(u,t){return fw(u,t)}function WM(u,t){Array.isArray(u.__emotion_styles)&&(u.__emotion_styles=t(u.__emotion_styles))}const RC=[];function kC(u){return RC[0]=u,Oy(RC)}var l1={exports:{}},fi={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NC;function YM(){if(NC)return fi;NC=1;var u=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function T(A){if(typeof A=="object"&&A!==null){var w=A.$$typeof;switch(w){case u:switch(A=A.type,A){case e:case r:case i:case h:case f:case y:return A;default:switch(A=A&&A.$$typeof,A){case o:case l:case m:case g:return A;case a:return A;default:return w}}case t:return w}}}return fi.ContextConsumer=a,fi.ContextProvider=o,fi.Element=u,fi.ForwardRef=l,fi.Fragment=e,fi.Lazy=m,fi.Memo=g,fi.Portal=t,fi.Profiler=r,fi.StrictMode=i,fi.Suspense=h,fi.SuspenseList=f,fi.isContextConsumer=function(A){return T(A)===a},fi.isContextProvider=function(A){return T(A)===o},fi.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===u},fi.isForwardRef=function(A){return T(A)===l},fi.isFragment=function(A){return T(A)===e},fi.isLazy=function(A){return T(A)===m},fi.isMemo=function(A){return T(A)===g},fi.isPortal=function(A){return T(A)===t},fi.isProfiler=function(A){return T(A)===r},fi.isStrictMode=function(A){return T(A)===i},fi.isSuspense=function(A){return T(A)===h},fi.isSuspenseList=function(A){return T(A)===f},fi.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===e||A===r||A===i||A===h||A===f||typeof A=="object"&&A!==null&&(A.$$typeof===m||A.$$typeof===g||A.$$typeof===o||A.$$typeof===a||A.$$typeof===l||A.$$typeof===b||A.getModuleId!==void 0)},fi.typeOf=T,fi}var OC;function XM(){return OC||(OC=1,l1.exports=YM()),l1.exports}var LD=XM();function Ta(u){if(typeof u!="object"||u===null)return!1;const t=Object.getPrototypeOf(u);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in u)&&!(Symbol.iterator in u)}function ID(u){if(Ot.isValidElement(u)||LD.isValidElementType(u)||!Ta(u))return u;const t={};return Object.keys(u).forEach(e=>{t[e]=ID(u[e])}),t}function ts(u,t,e={clone:!0}){const i=e.clone?{...u}:u;return Ta(u)&&Ta(t)&&Object.keys(t).forEach(r=>{Ot.isValidElement(t[r])||LD.isValidElementType(t[r])?i[r]=t[r]:Ta(t[r])&&Object.prototype.hasOwnProperty.call(u,r)&&Ta(u[r])?i[r]=ts(u[r],t[r],e):e.clone?i[r]=Ta(t[r])?ID(t[r]):t[r]:i[r]=t[r]}),i}const KM=u=>{const t=Object.keys(u).map(e=>({key:e,val:u[e]}))||[];return t.sort((e,i)=>e.val-i.val),t.reduce((e,i)=>({...e,[i.key]:i.val}),{})};function ZM(u){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:e="px",step:i=5,...r}=u,a=KM(t),o=Object.keys(a);function l(y){return`@media (min-width:${typeof t[y]=="number"?t[y]:y}${e})`}function h(y){return`@media (max-width:${(typeof t[y]=="number"?t[y]:y)-i/100}${e})`}function f(y,b){const T=o.indexOf(b);return`@media (min-width:${typeof t[y]=="number"?t[y]:y}${e}) and (max-width:${(T!==-1&&typeof t[o[T]]=="number"?t[o[T]]:b)-i/100}${e})`}function g(y){return o.indexOf(y)+1<o.length?f(y,o[o.indexOf(y)+1]):l(y)}function m(y){const b=o.indexOf(y);return b===0?l(o[1]):b===o.length-1?h(o[b]):f(y,o[o.indexOf(y)+1]).replace("@media","@media not all and")}return{keys:o,values:a,up:l,down:h,between:f,only:g,not:m,unit:e,...r}}function QM(u,t){if(!u.containerQueries)return t;const e=Object.keys(t).filter(i=>i.startsWith("@container")).sort((i,r)=>{var o,l;const a=/min-width:\s*([0-9.]+)/;return+(((o=i.match(a))==null?void 0:o[1])||0)-+(((l=r.match(a))==null?void 0:l[1])||0)});return e.length?e.reduce((i,r)=>{const a=t[r];return delete i[r],i[r]=a,i},{...t}):t}function JM(u,t){return t==="@"||t.startsWith("@")&&(u.some(e=>t.startsWith(`@${e}`))||!!t.match(/^@\d/))}function tL(u,t){const e=t.match(/^@([^/]+)?\/?(.+)?$/);if(!e)return null;const[,i,r]=e,a=Number.isNaN(+i)?i||0:+i;return u.containerQueries(r).up(a)}function eL(u){const t=(a,o)=>a.replace("@media",o?`@container ${o}`:"@container");function e(a,o){a.up=(...l)=>t(u.breakpoints.up(...l),o),a.down=(...l)=>t(u.breakpoints.down(...l),o),a.between=(...l)=>t(u.breakpoints.between(...l),o),a.only=(...l)=>t(u.breakpoints.only(...l),o),a.not=(...l)=>{const h=t(u.breakpoints.not(...l),o);return h.includes("not all and")?h.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):h}}const i={},r=a=>(e(i,a),i);return e(r),{...u,containerQueries:r}}const iL={borderRadius:4};function Hp(u,t){return t?ts(u,t,{clone:!1}):u}const My={xs:0,sm:600,md:900,lg:1200,xl:1536},MC={keys:["xs","sm","md","lg","xl"],up:u=>`@media (min-width:${My[u]}px)`},nL={containerQueries:u=>({up:t=>{let e=typeof t=="number"?t:My[t]||t;return typeof e=="number"&&(e=`${e}px`),u?`@container ${u} (min-width:${e})`:`@container (min-width:${e})`}})};function Bo(u,t,e){const i=u.theme||{};if(Array.isArray(t)){const a=i.breakpoints||MC;return t.reduce((o,l,h)=>(o[a.up(a.keys[h])]=e(t[h]),o),{})}if(typeof t=="object"){const a=i.breakpoints||MC;return Object.keys(t).reduce((o,l)=>{if(JM(a.keys,l)){const h=tL(i.containerQueries?i:nL,l);h&&(o[h]=e(t[l],l))}else if(Object.keys(a.values||My).includes(l)){const h=a.up(l);o[h]=e(t[l],l)}else{const h=l;o[h]=t[h]}return o},{})}return e(t)}function rL(u={}){var e;return((e=u.keys)==null?void 0:e.reduce((i,r)=>{const a=u.up(r);return i[a]={},i},{}))||{}}function sL(u,t){return u.reduce((e,i)=>{const r=e[i];return(!r||Object.keys(r).length===0)&&delete e[i],e},t)}function Li(u){if(typeof u!="string")throw new Error(zc(7));return u.charAt(0).toUpperCase()+u.slice(1)}function Ly(u,t,e=!0){if(!t||typeof t!="string")return null;if(u&&u.vars&&e){const i=`vars.${t}`.split(".").reduce((r,a)=>r&&r[a]?r[a]:null,u);if(i!=null)return i}return t.split(".").reduce((i,r)=>i&&i[r]!=null?i[r]:null,u)}function V0(u,t,e,i=e){let r;return typeof u=="function"?r=u(e):Array.isArray(u)?r=u[e]||i:r=Ly(u,e)||i,t&&(r=t(r,i,u)),r}function Ji(u){const{prop:t,cssProperty:e=u.prop,themeKey:i,transform:r}=u,a=o=>{if(o[t]==null)return null;const l=o[t],h=o.theme,f=Ly(h,i)||{};return Bo(o,l,m=>{let y=V0(f,r,m);return m===y&&typeof m=="string"&&(y=V0(f,r,`${t}${m==="default"?"":Li(m)}`,m)),e===!1?y:{[e]:y}})};return a.propTypes={},a.filterProps=[t],a}function aL(u){const t={};return e=>(t[e]===void 0&&(t[e]=u(e)),t[e])}const oL={m:"margin",p:"padding"},lL={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},LC={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},uL=aL(u=>{if(u.length>2)if(LC[u])u=LC[u];else return[u];const[t,e]=u.split(""),i=oL[t],r=lL[e]||"";return Array.isArray(r)?r.map(a=>i+a):[i+r]}),QA=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],JA=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...QA,...JA];function Tm(u,t,e,i){const r=Ly(u,t,!0)??e;return typeof r=="number"||typeof r=="string"?a=>typeof a=="string"?a:typeof r=="string"?r.startsWith("var(")&&a===0?0:r.startsWith("var(")&&a===1?r:`calc(${a} * ${r})`:r*a:Array.isArray(r)?a=>{if(typeof a=="string")return a;const o=Math.abs(a),l=r[o];return a>=0?l:typeof l=="number"?-l:typeof l=="string"&&l.startsWith("var(")?`calc(-1 * ${l})`:`-${l}`}:typeof r=="function"?r:()=>{}}function t_(u){return Tm(u,"spacing",8)}function Dm(u,t){return typeof t=="string"||t==null?t:u(t)}function cL(u,t){return e=>u.reduce((i,r)=>(i[r]=Dm(t,e),i),{})}function hL(u,t,e,i){if(!t.includes(e))return null;const r=uL(e),a=cL(r,i),o=u[e];return Bo(u,o,a)}function BD(u,t){const e=t_(u.theme);return Object.keys(u).map(i=>hL(u,t,i,e)).reduce(Hp,{})}function Gi(u){return BD(u,QA)}Gi.propTypes={};Gi.filterProps=QA;function Vi(u){return BD(u,JA)}Vi.propTypes={};Vi.filterProps=JA;function PD(u=8,t=t_({spacing:u})){if(u.mui)return u;const e=(...i)=>(i.length===0?[1]:i).map(a=>{const o=t(a);return typeof o=="number"?`${o}px`:o}).join(" ");return e.mui=!0,e}function Iy(...u){const t=u.reduce((i,r)=>(r.filterProps.forEach(a=>{i[a]=r}),i),{}),e=i=>Object.keys(i).reduce((r,a)=>t[a]?Hp(r,t[a](i)):r,{});return e.propTypes={},e.filterProps=u.reduce((i,r)=>i.concat(r.filterProps),[]),e}function Es(u){return typeof u!="number"?u:`${u}px solid`}function Ts(u,t){return Ji({prop:u,themeKey:"borders",transform:t})}const fL=Ts("border",Es),dL=Ts("borderTop",Es),pL=Ts("borderRight",Es),gL=Ts("borderBottom",Es),mL=Ts("borderLeft",Es),vL=Ts("borderColor"),yL=Ts("borderTopColor"),bL=Ts("borderRightColor"),wL=Ts("borderBottomColor"),AL=Ts("borderLeftColor"),_L=Ts("outline",Es),EL=Ts("outlineColor"),By=u=>{if(u.borderRadius!==void 0&&u.borderRadius!==null){const t=Tm(u.theme,"shape.borderRadius",4),e=i=>({borderRadius:Dm(t,i)});return Bo(u,u.borderRadius,e)}return null};By.propTypes={};By.filterProps=["borderRadius"];Iy(fL,dL,pL,gL,mL,vL,yL,bL,wL,AL,By,_L,EL);const Py=u=>{if(u.gap!==void 0&&u.gap!==null){const t=Tm(u.theme,"spacing",8),e=i=>({gap:Dm(t,i)});return Bo(u,u.gap,e)}return null};Py.propTypes={};Py.filterProps=["gap"];const zy=u=>{if(u.columnGap!==void 0&&u.columnGap!==null){const t=Tm(u.theme,"spacing",8),e=i=>({columnGap:Dm(t,i)});return Bo(u,u.columnGap,e)}return null};zy.propTypes={};zy.filterProps=["columnGap"];const Fy=u=>{if(u.rowGap!==void 0&&u.rowGap!==null){const t=Tm(u.theme,"spacing",8),e=i=>({rowGap:Dm(t,i)});return Bo(u,u.rowGap,e)}return null};Fy.propTypes={};Fy.filterProps=["rowGap"];const SL=Ji({prop:"gridColumn"}),xL=Ji({prop:"gridRow"}),CL=Ji({prop:"gridAutoFlow"}),TL=Ji({prop:"gridAutoColumns"}),DL=Ji({prop:"gridAutoRows"}),RL=Ji({prop:"gridTemplateColumns"}),kL=Ji({prop:"gridTemplateRows"}),NL=Ji({prop:"gridTemplateAreas"}),OL=Ji({prop:"gridArea"});Iy(Py,zy,Fy,SL,xL,CL,TL,DL,RL,kL,NL,OL);function Zh(u,t){return t==="grey"?t:u}const ML=Ji({prop:"color",themeKey:"palette",transform:Zh}),LL=Ji({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Zh}),IL=Ji({prop:"backgroundColor",themeKey:"palette",transform:Zh});Iy(ML,LL,IL);function Qr(u){return u<=1&&u!==0?`${u*100}%`:u}const BL=Ji({prop:"width",transform:Qr}),e_=u=>{if(u.maxWidth!==void 0&&u.maxWidth!==null){const t=e=>{var r,a,o,l,h;const i=((o=(a=(r=u.theme)==null?void 0:r.breakpoints)==null?void 0:a.values)==null?void 0:o[e])||My[e];return i?((h=(l=u.theme)==null?void 0:l.breakpoints)==null?void 0:h.unit)!=="px"?{maxWidth:`${i}${u.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:Qr(e)}};return Bo(u,u.maxWidth,t)}return null};e_.filterProps=["maxWidth"];const PL=Ji({prop:"minWidth",transform:Qr}),zL=Ji({prop:"height",transform:Qr}),FL=Ji({prop:"maxHeight",transform:Qr}),UL=Ji({prop:"minHeight",transform:Qr});Ji({prop:"size",cssProperty:"width",transform:Qr});Ji({prop:"size",cssProperty:"height",transform:Qr});const HL=Ji({prop:"boxSizing"});Iy(BL,e_,PL,zL,FL,UL,HL);const Rm={border:{themeKey:"borders",transform:Es},borderTop:{themeKey:"borders",transform:Es},borderRight:{themeKey:"borders",transform:Es},borderBottom:{themeKey:"borders",transform:Es},borderLeft:{themeKey:"borders",transform:Es},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Es},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:By},color:{themeKey:"palette",transform:Zh},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Zh},backgroundColor:{themeKey:"palette",transform:Zh},p:{style:Vi},pt:{style:Vi},pr:{style:Vi},pb:{style:Vi},pl:{style:Vi},px:{style:Vi},py:{style:Vi},padding:{style:Vi},paddingTop:{style:Vi},paddingRight:{style:Vi},paddingBottom:{style:Vi},paddingLeft:{style:Vi},paddingX:{style:Vi},paddingY:{style:Vi},paddingInline:{style:Vi},paddingInlineStart:{style:Vi},paddingInlineEnd:{style:Vi},paddingBlock:{style:Vi},paddingBlockStart:{style:Vi},paddingBlockEnd:{style:Vi},m:{style:Gi},mt:{style:Gi},mr:{style:Gi},mb:{style:Gi},ml:{style:Gi},mx:{style:Gi},my:{style:Gi},margin:{style:Gi},marginTop:{style:Gi},marginRight:{style:Gi},marginBottom:{style:Gi},marginLeft:{style:Gi},marginX:{style:Gi},marginY:{style:Gi},marginInline:{style:Gi},marginInlineStart:{style:Gi},marginInlineEnd:{style:Gi},marginBlock:{style:Gi},marginBlockStart:{style:Gi},marginBlockEnd:{style:Gi},displayPrint:{cssProperty:!1,transform:u=>({"@media print":{display:u}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Py},rowGap:{style:Fy},columnGap:{style:zy},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Qr},maxWidth:{style:e_},minWidth:{transform:Qr},height:{transform:Qr},maxHeight:{transform:Qr},minHeight:{transform:Qr},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function jL(...u){const t=u.reduce((i,r)=>i.concat(Object.keys(r)),[]),e=new Set(t);return u.every(i=>e.size===Object.keys(i).length)}function qL(u,t){return typeof u=="function"?u(t):u}function GL(){function u(e,i,r,a){const o={[e]:i,theme:r},l=a[e];if(!l)return{[e]:i};const{cssProperty:h=e,themeKey:f,transform:g,style:m}=l;if(i==null)return null;if(f==="typography"&&i==="inherit")return{[e]:i};const y=Ly(r,f)||{};return m?m(o):Bo(o,i,T=>{let A=V0(y,g,T);return T===A&&typeof T=="string"&&(A=V0(y,g,`${e}${T==="default"?"":Li(T)}`,T)),h===!1?A:{[h]:A}})}function t(e){const{sx:i,theme:r={}}=e||{};if(!i)return null;const a=r.unstable_sxConfig??Rm;function o(l){let h=l;if(typeof l=="function")h=l(r);else if(typeof l!="object")return l;if(!h)return null;const f=rL(r.breakpoints),g=Object.keys(f);let m=f;return Object.keys(h).forEach(y=>{const b=qL(h[y],r);if(b!=null)if(typeof b=="object")if(a[y])m=Hp(m,u(y,b,r,a));else{const T=Bo({theme:r},b,A=>({[y]:A}));jL(T,b)?m[y]=t({sx:b,theme:r}):m=Hp(m,T)}else m=Hp(m,u(y,b,r,a))}),QM(r,sL(g,m))}return Array.isArray(i)?i.map(o):o(i)}return t}const Fc=GL();Fc.filterProps=["sx"];function VL(u,t){var i;const e=this;if(e.vars){if(!((i=e.colorSchemes)!=null&&i[u])||typeof e.getColorSchemeSelector!="function")return{};let r=e.getColorSchemeSelector(u);return r==="&"?t:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:t})}return e.palette.mode===u?t:{}}function Uy(u={},...t){const{breakpoints:e={},palette:i={},spacing:r,shape:a={},...o}=u,l=ZM(e),h=PD(r);let f=ts({breakpoints:l,direction:"ltr",components:{},palette:{mode:"light",...i},spacing:h,shape:{...iL,...a}},o);return f=eL(f),f.applyStyles=VL,f=t.reduce((g,m)=>ts(g,m),f),f.unstable_sxConfig={...Rm,...o==null?void 0:o.unstable_sxConfig},f.unstable_sx=function(m){return Fc({sx:m,theme:this})},f}function $L(u){return Object.keys(u).length===0}function WL(u=null){const t=Ot.useContext(XA);return!t||$L(t)?u:t}const YL=Uy();function i_(u=YL){return WL(u)}const XL=u=>{var i;const t={systemProps:{},otherProps:{}},e=((i=u==null?void 0:u.theme)==null?void 0:i.unstable_sxConfig)??Rm;return Object.keys(u).forEach(r=>{e[r]?t.systemProps[r]=u[r]:t.otherProps[r]=u[r]}),t};function zD(u){const{sx:t,...e}=u,{systemProps:i,otherProps:r}=XL(e);let a;return Array.isArray(t)?a=[i,...t]:typeof t=="function"?a=(...o)=>{const l=t(...o);return Ta(l)?{...i,...l}:i}:a={...i,...t},{...r,sx:a}}const IC=u=>u,KL=()=>{let u=IC;return{configure(t){u=t},generate(t){return u(t)},reset(){u=IC}}},FD=KL();function UD(u){var t,e,i="";if(typeof u=="string"||typeof u=="number")i+=u;else if(typeof u=="object")if(Array.isArray(u)){var r=u.length;for(t=0;t<r;t++)u[t]&&(e=UD(u[t]))&&(i&&(i+=" "),i+=e)}else for(e in u)u[e]&&(i&&(i+=" "),i+=e);return i}function Un(){for(var u,t,e=0,i="",r=arguments.length;e<r;e++)(u=arguments[e])&&(t=UD(u))&&(i&&(i+=" "),i+=t);return i}function ZL(u={}){const{themeId:t,defaultTheme:e,defaultClassName:i="MuiBox-root",generateClassName:r}=u,a=MD("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(Fc);return Ot.forwardRef(function(h,f){const g=i_(e),{className:m,component:y="div",...b}=zD(h);return Gt.jsx(a,{as:y,ref:f,className:Un(m,r?r(i):i),theme:t&&g[t]||g,...b})})}const QL={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Gc(u,t,e="Mui"){const i=QL[t];return i?`${e}-${i}`:`${FD.generate(u)}-${t}`}function Vc(u,t,e="Mui"){const i={};return t.forEach(r=>{i[r]=Gc(u,r,e)}),i}function HD(u){const{variants:t,...e}=u,i={variants:t,style:kC(e),isProcessed:!0};return i.style===e||t&&t.forEach(r=>{typeof r.style!="function"&&(r.style=kC(r.style))}),i}const JL=Uy();function u1(u){return u!=="ownerState"&&u!=="theme"&&u!=="sx"&&u!=="as"}function tI(u){return u?(t,e)=>e[u]:null}function eI(u,t,e){u.theme=nI(u.theme)?e:u.theme[t]||u.theme}function l0(u,t){const e=typeof t=="function"?t(u):t;if(Array.isArray(e))return e.flatMap(i=>l0(u,i));if(Array.isArray(e==null?void 0:e.variants)){let i;if(e.isProcessed)i=e.style;else{const{variants:r,...a}=e;i=a}return jD(u,e.variants,[i])}return e!=null&&e.isProcessed?e.style:e}function jD(u,t,e=[]){var r;let i;t:for(let a=0;a<t.length;a+=1){const o=t[a];if(typeof o.props=="function"){if(i??(i={...u,...u.ownerState,ownerState:u.ownerState}),!o.props(i))continue}else for(const l in o.props)if(u[l]!==o.props[l]&&((r=u.ownerState)==null?void 0:r[l])!==o.props[l])continue t;typeof o.style=="function"?(i??(i={...u,...u.ownerState,ownerState:u.ownerState}),e.push(o.style(i))):e.push(o.style)}return e}function qD(u={}){const{themeId:t,defaultTheme:e=JL,rootShouldForwardProp:i=u1,slotShouldForwardProp:r=u1}=u;function a(l){eI(l,t,e)}return(l,h={})=>{WM(l,x=>x.filter(L=>L!==Fc));const{name:f,slot:g,skipVariantsResolver:m,skipSx:y,overridesResolver:b=tI(sI(g)),...T}=h,A=m!==void 0?m:g&&g!=="Root"&&g!=="root"||!1,w=y||!1;let E=u1;g==="Root"||g==="root"?E=i:g?E=r:rI(l)&&(E=void 0);const D=MD(l,{shouldForwardProp:E,label:iI(),...T}),R=x=>{if(x.__emotion_real===x)return x;if(typeof x=="function")return function(I){return l0(I,x)};if(Ta(x)){const L=HD(x);return L.variants?function(U){return l0(U,L)}:L.style}return x},N=(...x)=>{const L=[],I=x.map(R),U=[];if(L.push(a),f&&b&&U.push(function(Y){var X,Z;const ft=(Z=(X=Y.theme.components)==null?void 0:X[f])==null?void 0:Z.styleOverrides;if(!ft)return null;const bt={};for(const ct in ft)bt[ct]=l0(Y,ft[ct]);return b(Y,bt)}),f&&!A&&U.push(function(Y){var bt,X;const J=Y.theme,ft=(X=(bt=J==null?void 0:J.components)==null?void 0:bt[f])==null?void 0:X.variants;return ft?jD(Y,ft):null}),w||U.push(Fc),Array.isArray(I[0])){const $=I.shift(),Y=new Array(L.length).fill(""),J=new Array(U.length).fill("");let ft;ft=[...Y,...$,...J],ft.raw=[...Y,...$.raw,...J],L.unshift(ft)}const F=[...L,...I,...U],k=D(...F);return l.muiName&&(k.muiName=l.muiName),k};return D.withConfig&&(N.withConfig=D.withConfig),N}}function iI(u,t){return void 0}function nI(u){for(const t in u)return!1;return!0}function rI(u){return typeof u=="string"&&u.charCodeAt(0)>96}function sI(u){return u&&u.charAt(0).toLowerCase()+u.slice(1)}const aI=qD();function $p(u,t){const e={...t};for(const i in u)if(Object.prototype.hasOwnProperty.call(u,i)){const r=i;if(r==="components"||r==="slots")e[r]={...u[r],...e[r]};else if(r==="componentsProps"||r==="slotProps"){const a=u[r],o=t[r];if(!o)e[r]=a||{};else if(!a)e[r]=o;else{e[r]={...o};for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const h=l;e[r][h]=$p(a[h],o[h])}}}else e[r]===void 0&&(e[r]=u[r])}return e}function oI(u){const{theme:t,name:e,props:i}=u;return!t||!t.components||!t.components[e]||!t.components[e].defaultProps?i:$p(t.components[e].defaultProps,i)}function lI({props:u,name:t,defaultTheme:e,themeId:i}){let r=i_(e);return i&&(r=r[i]||r),oI({theme:r,name:t,props:u})}const uI=typeof window<"u"?Ot.useLayoutEffect:Ot.useEffect;function cI(u,t=Number.MIN_SAFE_INTEGER,e=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(u,e))}function n_(u,t=0,e=1){return cI(u,t,e)}function hI(u){u=u.slice(1);const t=new RegExp(`.{1,${u.length>=6?2:1}}`,"g");let e=u.match(t);return e&&e[0].length===1&&(e=e.map(i=>i+i)),e?`rgb${e.length===4?"a":""}(${e.map((i,r)=>r<3?parseInt(i,16):Math.round(parseInt(i,16)/255*1e3)/1e3).join(", ")})`:""}function tu(u){if(u.type)return u;if(u.charAt(0)==="#")return tu(hI(u));const t=u.indexOf("("),e=u.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(e))throw new Error(zc(9,u));let i=u.substring(t+1,u.length-1),r;if(e==="color"){if(i=i.split(" "),r=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(zc(10,r))}else i=i.split(",");return i=i.map(a=>parseFloat(a)),{type:e,values:i,colorSpace:r}}const fI=u=>{const t=tu(u);return t.values.slice(0,3).map((e,i)=>t.type.includes("hsl")&&i!==0?`${e}%`:e).join(" ")},wp=(u,t)=>{try{return fI(u)}catch{return u}};function Hy(u){const{type:t,colorSpace:e}=u;let{values:i}=u;return t.includes("rgb")?i=i.map((r,a)=>a<3?parseInt(r,10):r):t.includes("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),t.includes("color")?i=`${e} ${i.join(" ")}`:i=`${i.join(", ")}`,`${t}(${i})`}function GD(u){u=tu(u);const{values:t}=u,e=t[0],i=t[1]/100,r=t[2]/100,a=i*Math.min(r,1-r),o=(f,g=(f+e/30)%12)=>r-a*Math.max(Math.min(g-3,9-g,1),-1);let l="rgb";const h=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return u.type==="hsla"&&(l+="a",h.push(t[3])),Hy({type:l,values:h})}function dw(u){u=tu(u);let t=u.type==="hsl"||u.type==="hsla"?tu(GD(u)).values:u.values;return t=t.map(e=>(u.type!=="color"&&(e/=255),e<=.03928?e/12.92:((e+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function dI(u,t){const e=dw(u),i=dw(t);return(Math.max(e,i)+.05)/(Math.min(e,i)+.05)}function dl(u,t){return u=tu(u),t=n_(t),(u.type==="rgb"||u.type==="hsl")&&(u.type+="a"),u.type==="color"?u.values[3]=`/${t}`:u.values[3]=t,Hy(u)}function $v(u,t,e){try{return dl(u,t)}catch{return u}}function r_(u,t){if(u=tu(u),t=n_(t),u.type.includes("hsl"))u.values[2]*=1-t;else if(u.type.includes("rgb")||u.type.includes("color"))for(let e=0;e<3;e+=1)u.values[e]*=1-t;return Hy(u)}function wi(u,t,e){try{return r_(u,t)}catch{return u}}function s_(u,t){if(u=tu(u),t=n_(t),u.type.includes("hsl"))u.values[2]+=(100-u.values[2])*t;else if(u.type.includes("rgb"))for(let e=0;e<3;e+=1)u.values[e]+=(255-u.values[e])*t;else if(u.type.includes("color"))for(let e=0;e<3;e+=1)u.values[e]+=(1-u.values[e])*t;return Hy(u)}function Ai(u,t,e){try{return s_(u,t)}catch{return u}}function pI(u,t=.15){return dw(u)>.5?r_(u,t):s_(u,t)}function Wv(u,t,e){try{return pI(u,t)}catch{return u}}const gI=Ot.createContext(void 0);function mI(u){const{theme:t,name:e,props:i}=u;if(!t||!t.components||!t.components[e])return i;const r=t.components[e];return r.defaultProps?$p(r.defaultProps,i):!r.styleOverrides&&!r.variants?$p(r,i):i}function vI({props:u,name:t}){const e=Ot.useContext(gI);return mI({props:u,name:t,theme:{components:e}})}const BC={theme:void 0};function yI(u){let t,e;return function(r){let a=t;return(a===void 0||r.theme!==e)&&(BC.theme=r.theme,a=HD(u(BC)),t=a,e=r.theme),a}}function bI(u=""){function t(...i){if(!i.length)return"";const r=i[0];return typeof r=="string"&&!r.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${u?`${u}-`:""}${r}${t(...i.slice(1))})`:`, ${r}`}return(i,...r)=>`var(--${u?`${u}-`:""}${i}${t(...r)})`}const PC=(u,t,e,i=[])=>{let r=u;t.forEach((a,o)=>{o===t.length-1?Array.isArray(r)?r[Number(a)]=e:r&&typeof r=="object"&&(r[a]=e):r&&typeof r=="object"&&(r[a]||(r[a]=i.includes(a)?[]:{}),r=r[a])})},wI=(u,t,e)=>{function i(r,a=[],o=[]){Object.entries(r).forEach(([l,h])=>{(!e||e&&!e([...a,l]))&&h!=null&&(typeof h=="object"&&Object.keys(h).length>0?i(h,[...a,l],Array.isArray(h)?[...o,l]:o):t([...a,l],h,o))})}i(u)},AI=(u,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(i=>u.includes(i))||u[u.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function c1(u,t){const{prefix:e,shouldSkipGeneratingVar:i}=t||{},r={},a={},o={};return wI(u,(l,h,f)=>{if((typeof h=="string"||typeof h=="number")&&(!i||!i(l,h))){const g=`--${e?`${e}-`:""}${l.join("-")}`,m=AI(l,h);Object.assign(r,{[g]:m}),PC(a,l,`var(${g})`,f),PC(o,l,`var(${g}, ${m})`,f)}},l=>l[0]==="vars"),{css:r,vars:a,varsWithDefaults:o}}function _I(u,t={}){const{getSelector:e=w,disableCssColorScheme:i,colorSchemeSelector:r}=t,{colorSchemes:a={},components:o,defaultColorScheme:l="light",...h}=u,{vars:f,css:g,varsWithDefaults:m}=c1(h,t);let y=m;const b={},{[l]:T,...A}=a;if(Object.entries(A||{}).forEach(([R,N])=>{const{vars:x,css:L,varsWithDefaults:I}=c1(N,t);y=ts(y,I),b[R]={css:L,vars:x}}),T){const{css:R,vars:N,varsWithDefaults:x}=c1(T,t);y=ts(y,x),b[l]={css:R,vars:N}}function w(R,N){var L,I;let x=r;if(r==="class"&&(x=".%s"),r==="data"&&(x="[data-%s]"),r!=null&&r.startsWith("data-")&&!r.includes("%s")&&(x=`[${r}="%s"]`),R){if(x==="media")return u.defaultColorScheme===R?":root":{[`@media (prefers-color-scheme: ${((I=(L=a[R])==null?void 0:L.palette)==null?void 0:I.mode)||R})`]:{":root":N}};if(x)return u.defaultColorScheme===R?`:root, ${x.replace("%s",String(R))}`:x.replace("%s",String(R))}return":root"}return{vars:y,generateThemeVars:()=>{let R={...f};return Object.entries(b).forEach(([,{vars:N}])=>{R=ts(R,N)}),R},generateStyleSheets:()=>{var U,F;const R=[],N=u.defaultColorScheme||"light";function x(k,$){Object.keys($).length&&R.push(typeof k=="string"?{[k]:{...$}}:k)}x(e(void 0,{...g}),g);const{[N]:L,...I}=b;if(L){const{css:k}=L,$=(F=(U=a[N])==null?void 0:U.palette)==null?void 0:F.mode,Y=!i&&$?{colorScheme:$,...k}:{...k};x(e(N,{...Y}),Y)}return Object.entries(I).forEach(([k,{css:$}])=>{var ft,bt;const Y=(bt=(ft=a[k])==null?void 0:ft.palette)==null?void 0:bt.mode,J=!i&&Y?{colorScheme:Y,...$}:{...$};x(e(k,{...J}),J)}),R}}}function EI(u){return function(e){return u==="media"?`@media (prefers-color-scheme: ${e})`:u?u.startsWith("data-")&&!u.includes("%s")?`[${u}="${e}"] &`:u==="class"?`.${e} &`:u==="data"?`[data-${e}] &`:`${u.replace("%s",e)} &`:"&"}}function cd(u,t,e=void 0){const i={};for(const r in u){const a=u[r];let o="",l=!0;for(let h=0;h<a.length;h+=1){const f=a[h];f&&(o+=(l===!0?"":" ")+t(f),l=!1,e&&e[f]&&(o+=" "+e[f]))}i[r]=o}return i}const SI=Uy(),xI=aI("div",{name:"MuiContainer",slot:"Root",overridesResolver:(u,t)=>{const{ownerState:e}=u;return[t.root,t[`maxWidth${Li(String(e.maxWidth))}`],e.fixed&&t.fixed,e.disableGutters&&t.disableGutters]}}),CI=u=>lI({props:u,name:"MuiContainer",defaultTheme:SI}),TI=(u,t)=>{const e=h=>Gc(t,h),{classes:i,fixed:r,disableGutters:a,maxWidth:o}=u,l={root:["root",o&&`maxWidth${Li(String(o))}`,r&&"fixed",a&&"disableGutters"]};return cd(l,e,i)};function DI(u={}){const{createStyledComponent:t=xI,useThemeProps:e=CI,componentName:i="MuiContainer"}=u,r=t(({theme:o,ownerState:l})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!l.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}}}),({theme:o,ownerState:l})=>l.fixed&&Object.keys(o.breakpoints.values).reduce((h,f)=>{const g=f,m=o.breakpoints.values[g];return m!==0&&(h[o.breakpoints.up(g)]={maxWidth:`${m}${o.breakpoints.unit}`}),h},{}),({theme:o,ownerState:l})=>({...l.maxWidth==="xs"&&{[o.breakpoints.up("xs")]:{maxWidth:Math.max(o.breakpoints.values.xs,444)}},...l.maxWidth&&l.maxWidth!=="xs"&&{[o.breakpoints.up(l.maxWidth)]:{maxWidth:`${o.breakpoints.values[l.maxWidth]}${o.breakpoints.unit}`}}}));return Ot.forwardRef(function(l,h){const f=e(l),{className:g,component:m="div",disableGutters:y=!1,fixed:b=!1,maxWidth:T="lg",classes:A,...w}=f,E={...f,component:m,disableGutters:y,fixed:b,maxWidth:T},D=TI(E,i);return Gt.jsx(r,{as:m,ownerState:E,className:Un(D.root,g),ref:h,...w})})}function VD(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:jp.white,default:jp.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const RI=VD();function $D(){return{text:{primary:jp.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:jp.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const zC=$D();function FC(u,t,e,i){const r=i.light||i,a=i.dark||i*1.5;u[t]||(u.hasOwnProperty(e)?u[t]=u[e]:t==="light"?u.light=s_(u.main,r):t==="dark"&&(u.dark=r_(u.main,a)))}function kI(u="light"){return u==="dark"?{main:Rh[200],light:Rh[50],dark:Rh[400]}:{main:Rh[700],light:Rh[400],dark:Rh[800]}}function NI(u="light"){return u==="dark"?{main:Dh[200],light:Dh[50],dark:Dh[400]}:{main:Dh[500],light:Dh[300],dark:Dh[700]}}function OI(u="light"){return u==="dark"?{main:Th[500],light:Th[300],dark:Th[700]}:{main:Th[700],light:Th[400],dark:Th[800]}}function MI(u="light"){return u==="dark"?{main:kh[400],light:kh[300],dark:kh[700]}:{main:kh[700],light:kh[500],dark:kh[900]}}function LI(u="light"){return u==="dark"?{main:Nh[400],light:Nh[300],dark:Nh[700]}:{main:Nh[800],light:Nh[500],dark:Nh[900]}}function II(u="light"){return u==="dark"?{main:hp[400],light:hp[300],dark:hp[700]}:{main:"#ed6c02",light:hp[500],dark:hp[900]}}function a_(u){const{mode:t="light",contrastThreshold:e=3,tonalOffset:i=.2,...r}=u,a=u.primary||kI(t),o=u.secondary||NI(t),l=u.error||OI(t),h=u.info||MI(t),f=u.success||LI(t),g=u.warning||II(t);function m(A){return dI(A,zC.text.primary)>=e?zC.text.primary:RI.text.primary}const y=({color:A,name:w,mainShade:E=500,lightShade:D=300,darkShade:R=700})=>{if(A={...A},!A.main&&A[E]&&(A.main=A[E]),!A.hasOwnProperty("main"))throw new Error(zc(11,w?` (${w})`:"",E));if(typeof A.main!="string")throw new Error(zc(12,w?` (${w})`:"",JSON.stringify(A.main)));return FC(A,"light",D,i),FC(A,"dark",R,i),A.contrastText||(A.contrastText=m(A.main)),A};let b;return t==="light"?b=VD():t==="dark"&&(b=$D()),ts({common:{...jp},mode:t,primary:y({color:a,name:"primary"}),secondary:y({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:l,name:"error"}),warning:y({color:g,name:"warning"}),info:y({color:h,name:"info"}),success:y({color:f,name:"success"}),grey:X3,contrastThreshold:e,getContrastText:m,augmentColor:y,tonalOffset:i,...b},r)}function BI(u){const t={};return Object.entries(u).forEach(i=>{const[r,a]=i;typeof a=="object"&&(t[r]=`${a.fontStyle?`${a.fontStyle} `:""}${a.fontVariant?`${a.fontVariant} `:""}${a.fontWeight?`${a.fontWeight} `:""}${a.fontStretch?`${a.fontStretch} `:""}${a.fontSize||""}${a.lineHeight?`/${a.lineHeight} `:""}${a.fontFamily||""}`)}),t}function PI(u,t){return{toolbar:{minHeight:56,[u.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[u.up("sm")]:{minHeight:64}},...t}}function zI(u){return Math.round(u*1e5)/1e5}const UC={textTransform:"uppercase"},HC='"Roboto", "Helvetica", "Arial", sans-serif';function FI(u,t){const{fontFamily:e=HC,fontSize:i=14,fontWeightLight:r=300,fontWeightRegular:a=400,fontWeightMedium:o=500,fontWeightBold:l=700,htmlFontSize:h=16,allVariants:f,pxToRem:g,...m}=typeof t=="function"?t(u):t,y=i/14,b=g||(w=>`${w/h*y}rem`),T=(w,E,D,R,N)=>({fontFamily:e,fontWeight:w,fontSize:b(E),lineHeight:D,...e===HC?{letterSpacing:`${zI(R/E)}em`}:{},...N,...f}),A={h1:T(r,96,1.167,-1.5),h2:T(r,60,1.2,-.5),h3:T(a,48,1.167,0),h4:T(a,34,1.235,.25),h5:T(a,24,1.334,0),h6:T(o,20,1.6,.15),subtitle1:T(a,16,1.75,.15),subtitle2:T(o,14,1.57,.1),body1:T(a,16,1.5,.15),body2:T(a,14,1.43,.15),button:T(o,14,1.75,.4,UC),caption:T(a,12,1.66,.4),overline:T(a,12,2.66,1,UC),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ts({htmlFontSize:h,pxToRem:b,fontFamily:e,fontSize:i,fontWeightLight:r,fontWeightRegular:a,fontWeightMedium:o,fontWeightBold:l,...A},m,{clone:!1})}const UI=.2,HI=.14,jI=.12;function ki(...u){return[`${u[0]}px ${u[1]}px ${u[2]}px ${u[3]}px rgba(0,0,0,${UI})`,`${u[4]}px ${u[5]}px ${u[6]}px ${u[7]}px rgba(0,0,0,${HI})`,`${u[8]}px ${u[9]}px ${u[10]}px ${u[11]}px rgba(0,0,0,${jI})`].join(",")}const qI=["none",ki(0,2,1,-1,0,1,1,0,0,1,3,0),ki(0,3,1,-2,0,2,2,0,0,1,5,0),ki(0,3,3,-2,0,3,4,0,0,1,8,0),ki(0,2,4,-1,0,4,5,0,0,1,10,0),ki(0,3,5,-1,0,5,8,0,0,1,14,0),ki(0,3,5,-1,0,6,10,0,0,1,18,0),ki(0,4,5,-2,0,7,10,1,0,2,16,1),ki(0,5,5,-3,0,8,10,1,0,3,14,2),ki(0,5,6,-3,0,9,12,1,0,3,16,2),ki(0,6,6,-3,0,10,14,1,0,4,18,3),ki(0,6,7,-4,0,11,15,1,0,4,20,3),ki(0,7,8,-4,0,12,17,2,0,5,22,4),ki(0,7,8,-4,0,13,19,2,0,5,24,4),ki(0,7,9,-4,0,14,21,2,0,5,26,4),ki(0,8,9,-5,0,15,22,2,0,6,28,5),ki(0,8,10,-5,0,16,24,2,0,6,30,5),ki(0,8,11,-5,0,17,26,2,0,6,32,5),ki(0,9,11,-5,0,18,28,2,0,7,34,6),ki(0,9,12,-6,0,19,29,2,0,7,36,6),ki(0,10,13,-6,0,20,31,3,0,8,38,7),ki(0,10,13,-6,0,21,33,3,0,8,40,7),ki(0,10,14,-6,0,22,35,3,0,8,42,7),ki(0,11,14,-7,0,23,36,3,0,9,44,8),ki(0,11,15,-7,0,24,38,3,0,9,46,8)],GI={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},VI={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function jC(u){return`${Math.round(u)}ms`}function $I(u){if(!u)return 0;const t=u/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function WI(u){const t={...GI,...u.easing},e={...VI,...u.duration};return{getAutoHeightDuration:$I,create:(r=["all"],a={})=>{const{duration:o=e.standard,easing:l=t.easeInOut,delay:h=0,...f}=a;return(Array.isArray(r)?r:[r]).map(g=>`${g} ${typeof o=="string"?o:jC(o)} ${l} ${typeof h=="string"?h:jC(h)}`).join(",")},...u,easing:t,duration:e}}const YI={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function XI(u){return Ta(u)||typeof u>"u"||typeof u=="string"||typeof u=="boolean"||typeof u=="number"||Array.isArray(u)}function WD(u={}){const t={...u};function e(i){const r=Object.entries(i);for(let a=0;a<r.length;a++){const[o,l]=r[a];!XI(l)||o.startsWith("unstable_")?delete i[o]:Ta(l)&&(i[o]={...l},e(i[o]))}}return e(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function pw(u={},...t){const{breakpoints:e,mixins:i={},spacing:r,palette:a={},transitions:o={},typography:l={},shape:h,...f}=u;if(u.vars&&u.generateThemeVars===void 0)throw new Error(zc(20));const g=a_(a),m=Uy(u);let y=ts(m,{mixins:PI(m.breakpoints,i),palette:g,shadows:qI.slice(),typography:FI(g,l),transitions:WI(o),zIndex:{...YI}});return y=ts(y,f),y=t.reduce((b,T)=>ts(b,T),y),y.unstable_sxConfig={...Rm,...f==null?void 0:f.unstable_sxConfig},y.unstable_sx=function(T){return Fc({sx:T,theme:this})},y.toRuntimeSource=WD,y}function gw(u){let t;return u<1?t=5.11916*u**2:t=4.5*Math.log(u+1)+2,Math.round(t*10)/1e3}const KI=[...Array(25)].map((u,t)=>{if(t===0)return"none";const e=gw(t);return`linear-gradient(rgba(255 255 255 / ${e}), rgba(255 255 255 / ${e}))`});function YD(u){return{inputPlaceholder:u==="dark"?.5:.42,inputUnderline:u==="dark"?.7:.42,switchTrackDisabled:u==="dark"?.2:.12,switchTrack:u==="dark"?.3:.38}}function XD(u){return u==="dark"?KI:[]}function ZI(u){const{palette:t={mode:"light"},opacity:e,overlays:i,...r}=u,a=a_(t);return{palette:a,opacity:{...YD(a.mode),...e},overlays:i||XD(a.mode),...r}}function QI(u){var t;return!!u[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!u[0].match(/sxConfig$/)||u[0]==="palette"&&!!((t=u[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const JI=u=>[...[...Array(25)].map((t,e)=>`--${u?`${u}-`:""}overlays-${e}`),`--${u?`${u}-`:""}palette-AppBar-darkBg`,`--${u?`${u}-`:""}palette-AppBar-darkColor`],tB=u=>(t,e)=>{const i=u.rootSelector||":root",r=u.colorSchemeSelector;let a=r;if(r==="class"&&(a=".%s"),r==="data"&&(a="[data-%s]"),r!=null&&r.startsWith("data-")&&!r.includes("%s")&&(a=`[${r}="%s"]`),u.defaultColorScheme===t){if(t==="dark"){const o={};return JI(u.cssVarPrefix).forEach(l=>{o[l]=e[l],delete e[l]}),a==="media"?{[i]:e,"@media (prefers-color-scheme: dark)":{[i]:o}}:a?{[a.replace("%s",t)]:o,[`${i}, ${a.replace("%s",t)}`]:e}:{[i]:{...e,...o}}}if(a&&a!=="media")return`${i}, ${a.replace("%s",String(t))}`}else if(t){if(a==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[i]:e}};if(a)return a.replace("%s",String(t))}return i};function eB(u,t){t.forEach(e=>{u[e]||(u[e]={})})}function Et(u,t,e){!u[t]&&e&&(u[t]=e)}function Ap(u){return typeof u!="string"||!u.startsWith("hsl")?u:GD(u)}function Xa(u,t){`${t}Channel`in u||(u[`${t}Channel`]=wp(Ap(u[t])))}function iB(u){return typeof u=="number"?`${u}px`:typeof u=="string"||typeof u=="function"||Array.isArray(u)?u:"8px"}const sa=u=>{try{return u()}catch{}},nB=(u="mui")=>bI(u);function h1(u,t,e,i){if(!t)return;t=t===!0?{}:t;const r=i==="dark"?"dark":"light";if(!e){u[i]=ZI({...t,palette:{mode:r,...t==null?void 0:t.palette}});return}const{palette:a,...o}=pw({...e,palette:{mode:r,...t==null?void 0:t.palette}});return u[i]={...t,palette:a,opacity:{...YD(r),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||XD(r)},o}function rB(u={},...t){const{colorSchemes:e={light:!0},defaultColorScheme:i,disableCssColorScheme:r=!1,cssVarPrefix:a="mui",shouldSkipGeneratingVar:o=QI,colorSchemeSelector:l=e.light&&e.dark?"media":void 0,rootSelector:h=":root",...f}=u,g=Object.keys(e)[0],m=i||(e.light&&g!=="light"?"light":g),y=nB(a),{[m]:b,light:T,dark:A,...w}=e,E={...w};let D=b;if((m==="dark"&&!("dark"in e)||m==="light"&&!("light"in e))&&(D=!0),!D)throw new Error(zc(21,m));const R=h1(E,D,f,m);T&&!E.light&&h1(E,T,void 0,"light"),A&&!E.dark&&h1(E,A,void 0,"dark");let N={defaultColorScheme:m,...R,cssVarPrefix:a,colorSchemeSelector:l,rootSelector:h,getCssVar:y,colorSchemes:E,font:{...BI(R.typography),...R.font},spacing:iB(f.spacing)};Object.keys(N.colorSchemes).forEach(F=>{const k=N.colorSchemes[F].palette,$=Y=>{const J=Y.split("-"),ft=J[1],bt=J[2];return y(Y,k[ft][bt])};if(k.mode==="light"&&(Et(k.common,"background","#fff"),Et(k.common,"onBackground","#000")),k.mode==="dark"&&(Et(k.common,"background","#000"),Et(k.common,"onBackground","#fff")),eB(k,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),k.mode==="light"){Et(k.Alert,"errorColor",wi(k.error.light,.6)),Et(k.Alert,"infoColor",wi(k.info.light,.6)),Et(k.Alert,"successColor",wi(k.success.light,.6)),Et(k.Alert,"warningColor",wi(k.warning.light,.6)),Et(k.Alert,"errorFilledBg",$("palette-error-main")),Et(k.Alert,"infoFilledBg",$("palette-info-main")),Et(k.Alert,"successFilledBg",$("palette-success-main")),Et(k.Alert,"warningFilledBg",$("palette-warning-main")),Et(k.Alert,"errorFilledColor",sa(()=>k.getContrastText(k.error.main))),Et(k.Alert,"infoFilledColor",sa(()=>k.getContrastText(k.info.main))),Et(k.Alert,"successFilledColor",sa(()=>k.getContrastText(k.success.main))),Et(k.Alert,"warningFilledColor",sa(()=>k.getContrastText(k.warning.main))),Et(k.Alert,"errorStandardBg",Ai(k.error.light,.9)),Et(k.Alert,"infoStandardBg",Ai(k.info.light,.9)),Et(k.Alert,"successStandardBg",Ai(k.success.light,.9)),Et(k.Alert,"warningStandardBg",Ai(k.warning.light,.9)),Et(k.Alert,"errorIconColor",$("palette-error-main")),Et(k.Alert,"infoIconColor",$("palette-info-main")),Et(k.Alert,"successIconColor",$("palette-success-main")),Et(k.Alert,"warningIconColor",$("palette-warning-main")),Et(k.AppBar,"defaultBg",$("palette-grey-100")),Et(k.Avatar,"defaultBg",$("palette-grey-400")),Et(k.Button,"inheritContainedBg",$("palette-grey-300")),Et(k.Button,"inheritContainedHoverBg",$("palette-grey-A100")),Et(k.Chip,"defaultBorder",$("palette-grey-400")),Et(k.Chip,"defaultAvatarColor",$("palette-grey-700")),Et(k.Chip,"defaultIconColor",$("palette-grey-700")),Et(k.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Et(k.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Et(k.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Et(k.LinearProgress,"primaryBg",Ai(k.primary.main,.62)),Et(k.LinearProgress,"secondaryBg",Ai(k.secondary.main,.62)),Et(k.LinearProgress,"errorBg",Ai(k.error.main,.62)),Et(k.LinearProgress,"infoBg",Ai(k.info.main,.62)),Et(k.LinearProgress,"successBg",Ai(k.success.main,.62)),Et(k.LinearProgress,"warningBg",Ai(k.warning.main,.62)),Et(k.Skeleton,"bg",`rgba(${$("palette-text-primaryChannel")} / 0.11)`),Et(k.Slider,"primaryTrack",Ai(k.primary.main,.62)),Et(k.Slider,"secondaryTrack",Ai(k.secondary.main,.62)),Et(k.Slider,"errorTrack",Ai(k.error.main,.62)),Et(k.Slider,"infoTrack",Ai(k.info.main,.62)),Et(k.Slider,"successTrack",Ai(k.success.main,.62)),Et(k.Slider,"warningTrack",Ai(k.warning.main,.62));const Y=Wv(k.background.default,.8);Et(k.SnackbarContent,"bg",Y),Et(k.SnackbarContent,"color",sa(()=>k.getContrastText(Y))),Et(k.SpeedDialAction,"fabHoverBg",Wv(k.background.paper,.15)),Et(k.StepConnector,"border",$("palette-grey-400")),Et(k.StepContent,"border",$("palette-grey-400")),Et(k.Switch,"defaultColor",$("palette-common-white")),Et(k.Switch,"defaultDisabledColor",$("palette-grey-100")),Et(k.Switch,"primaryDisabledColor",Ai(k.primary.main,.62)),Et(k.Switch,"secondaryDisabledColor",Ai(k.secondary.main,.62)),Et(k.Switch,"errorDisabledColor",Ai(k.error.main,.62)),Et(k.Switch,"infoDisabledColor",Ai(k.info.main,.62)),Et(k.Switch,"successDisabledColor",Ai(k.success.main,.62)),Et(k.Switch,"warningDisabledColor",Ai(k.warning.main,.62)),Et(k.TableCell,"border",Ai($v(k.divider,1),.88)),Et(k.Tooltip,"bg",$v(k.grey[700],.92))}if(k.mode==="dark"){Et(k.Alert,"errorColor",Ai(k.error.light,.6)),Et(k.Alert,"infoColor",Ai(k.info.light,.6)),Et(k.Alert,"successColor",Ai(k.success.light,.6)),Et(k.Alert,"warningColor",Ai(k.warning.light,.6)),Et(k.Alert,"errorFilledBg",$("palette-error-dark")),Et(k.Alert,"infoFilledBg",$("palette-info-dark")),Et(k.Alert,"successFilledBg",$("palette-success-dark")),Et(k.Alert,"warningFilledBg",$("palette-warning-dark")),Et(k.Alert,"errorFilledColor",sa(()=>k.getContrastText(k.error.dark))),Et(k.Alert,"infoFilledColor",sa(()=>k.getContrastText(k.info.dark))),Et(k.Alert,"successFilledColor",sa(()=>k.getContrastText(k.success.dark))),Et(k.Alert,"warningFilledColor",sa(()=>k.getContrastText(k.warning.dark))),Et(k.Alert,"errorStandardBg",wi(k.error.light,.9)),Et(k.Alert,"infoStandardBg",wi(k.info.light,.9)),Et(k.Alert,"successStandardBg",wi(k.success.light,.9)),Et(k.Alert,"warningStandardBg",wi(k.warning.light,.9)),Et(k.Alert,"errorIconColor",$("palette-error-main")),Et(k.Alert,"infoIconColor",$("palette-info-main")),Et(k.Alert,"successIconColor",$("palette-success-main")),Et(k.Alert,"warningIconColor",$("palette-warning-main")),Et(k.AppBar,"defaultBg",$("palette-grey-900")),Et(k.AppBar,"darkBg",$("palette-background-paper")),Et(k.AppBar,"darkColor",$("palette-text-primary")),Et(k.Avatar,"defaultBg",$("palette-grey-600")),Et(k.Button,"inheritContainedBg",$("palette-grey-800")),Et(k.Button,"inheritContainedHoverBg",$("palette-grey-700")),Et(k.Chip,"defaultBorder",$("palette-grey-700")),Et(k.Chip,"defaultAvatarColor",$("palette-grey-300")),Et(k.Chip,"defaultIconColor",$("palette-grey-300")),Et(k.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Et(k.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Et(k.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Et(k.LinearProgress,"primaryBg",wi(k.primary.main,.5)),Et(k.LinearProgress,"secondaryBg",wi(k.secondary.main,.5)),Et(k.LinearProgress,"errorBg",wi(k.error.main,.5)),Et(k.LinearProgress,"infoBg",wi(k.info.main,.5)),Et(k.LinearProgress,"successBg",wi(k.success.main,.5)),Et(k.LinearProgress,"warningBg",wi(k.warning.main,.5)),Et(k.Skeleton,"bg",`rgba(${$("palette-text-primaryChannel")} / 0.13)`),Et(k.Slider,"primaryTrack",wi(k.primary.main,.5)),Et(k.Slider,"secondaryTrack",wi(k.secondary.main,.5)),Et(k.Slider,"errorTrack",wi(k.error.main,.5)),Et(k.Slider,"infoTrack",wi(k.info.main,.5)),Et(k.Slider,"successTrack",wi(k.success.main,.5)),Et(k.Slider,"warningTrack",wi(k.warning.main,.5));const Y=Wv(k.background.default,.98);Et(k.SnackbarContent,"bg",Y),Et(k.SnackbarContent,"color",sa(()=>k.getContrastText(Y))),Et(k.SpeedDialAction,"fabHoverBg",Wv(k.background.paper,.15)),Et(k.StepConnector,"border",$("palette-grey-600")),Et(k.StepContent,"border",$("palette-grey-600")),Et(k.Switch,"defaultColor",$("palette-grey-300")),Et(k.Switch,"defaultDisabledColor",$("palette-grey-600")),Et(k.Switch,"primaryDisabledColor",wi(k.primary.main,.55)),Et(k.Switch,"secondaryDisabledColor",wi(k.secondary.main,.55)),Et(k.Switch,"errorDisabledColor",wi(k.error.main,.55)),Et(k.Switch,"infoDisabledColor",wi(k.info.main,.55)),Et(k.Switch,"successDisabledColor",wi(k.success.main,.55)),Et(k.Switch,"warningDisabledColor",wi(k.warning.main,.55)),Et(k.TableCell,"border",wi($v(k.divider,1),.68)),Et(k.Tooltip,"bg",$v(k.grey[700],.92))}Xa(k.background,"default"),Xa(k.background,"paper"),Xa(k.common,"background"),Xa(k.common,"onBackground"),Xa(k,"divider"),Object.keys(k).forEach(Y=>{const J=k[Y];Y!=="tonalOffset"&&J&&typeof J=="object"&&(J.main&&Et(k[Y],"mainChannel",wp(Ap(J.main))),J.light&&Et(k[Y],"lightChannel",wp(Ap(J.light))),J.dark&&Et(k[Y],"darkChannel",wp(Ap(J.dark))),J.contrastText&&Et(k[Y],"contrastTextChannel",wp(Ap(J.contrastText))),Y==="text"&&(Xa(k[Y],"primary"),Xa(k[Y],"secondary")),Y==="action"&&(J.active&&Xa(k[Y],"active"),J.selected&&Xa(k[Y],"selected")))})}),N=t.reduce((F,k)=>ts(F,k),N);const x={prefix:a,disableCssColorScheme:r,shouldSkipGeneratingVar:o,getSelector:tB(N)},{vars:L,generateThemeVars:I,generateStyleSheets:U}=_I(N,x);return N.vars=L,Object.entries(N.colorSchemes[N.defaultColorScheme]).forEach(([F,k])=>{N[F]=k}),N.generateThemeVars=I,N.generateStyleSheets=U,N.generateSpacing=function(){return PD(f.spacing,t_(this))},N.getColorSchemeSelector=EI(l),N.spacing=N.generateSpacing(),N.shouldSkipGeneratingVar=o,N.unstable_sxConfig={...Rm,...f==null?void 0:f.unstable_sxConfig},N.unstable_sx=function(k){return Fc({sx:k,theme:this})},N.toRuntimeSource=WD,N}function qC(u,t,e){u.colorSchemes&&e&&(u.colorSchemes[t]={...e!==!0&&e,palette:a_({...e===!0?{}:e.palette,mode:t})})}function KD(u={},...t){const{palette:e,cssVariables:i=!1,colorSchemes:r=e?void 0:{light:!0},defaultColorScheme:a=e==null?void 0:e.mode,...o}=u,l=a||"light",h=r==null?void 0:r[l],f={...r,...e?{[l]:{...typeof h!="boolean"&&h,palette:e}}:void 0};if(i===!1){if(!("colorSchemes"in u))return pw(u,...t);let g=e;"palette"in u||f[l]&&(f[l]!==!0?g=f[l].palette:l==="dark"&&(g={mode:"dark"}));const m=pw({...u,palette:g},...t);return m.defaultColorScheme=l,m.colorSchemes=f,m.palette.mode==="light"&&(m.colorSchemes.light={...f.light!==!0&&f.light,palette:m.palette},qC(m,"dark",f.dark)),m.palette.mode==="dark"&&(m.colorSchemes.dark={...f.dark!==!0&&f.dark,palette:m.palette},qC(m,"light",f.light)),m}return!e&&!("light"in f)&&l==="light"&&(f.light=!0),rB({...o,colorSchemes:f,defaultColorScheme:l,...typeof i!="boolean"&&i},...t)}const ZD=KD();function sB(){const u=i_(ZD);return u[GA]||u}function aB(u){return u!=="ownerState"&&u!=="theme"&&u!=="sx"&&u!=="as"}const QD=u=>aB(u)&&u!=="classes",Tr=qD({themeId:GA,defaultTheme:ZD,rootShouldForwardProp:QD});function oB(){return zD}const km=yI;function $c(u){return vI(u)}let GC=0;function lB(u){const[t,e]=Ot.useState(u),i=u||t;return Ot.useEffect(()=>{t==null&&(GC+=1,e(`mui-${GC}`))},[t]),i}const uB={...lw},VC=uB.useId;function cB(u){if(VC!==void 0){const t=VC();return u??t}return lB(u)}function u0(u){const t=Ot.useRef(u);return uI(()=>{t.current=u}),Ot.useRef((...e)=>(0,t.current)(...e)).current}function $C(...u){const t=Ot.useRef(void 0),e=Ot.useCallback(i=>{const r=u.map(a=>{if(a==null)return null;if(typeof a=="function"){const o=a,l=o(i);return typeof l=="function"?l:()=>{o(null)}}return a.current=i,()=>{a.current=null}});return()=>{r.forEach(a=>a==null?void 0:a())}},u);return Ot.useMemo(()=>u.every(i=>i==null)?null:i=>{t.current&&(t.current(),t.current=void 0),i!=null&&(t.current=e(i))},u)}function hB(u,t){if(u==null)return{};var e={};for(var i in u)if({}.hasOwnProperty.call(u,i)){if(t.indexOf(i)!==-1)continue;e[i]=u[i]}return e}function mw(u,t){return mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,i){return e.__proto__=i,e},mw(u,t)}function fB(u,t){u.prototype=Object.create(t.prototype),u.prototype.constructor=u,mw(u,t)}const WC=$h.createContext(null);function dB(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function o_(u,t){var e=function(a){return t&&Ot.isValidElement(a)?t(a):a},i=Object.create(null);return u&&Ot.Children.map(u,function(r){return r}).forEach(function(r){i[r.key]=e(r)}),i}function pB(u,t){u=u||{},t=t||{};function e(g){return g in t?t[g]:u[g]}var i=Object.create(null),r=[];for(var a in u)a in t?r.length&&(i[a]=r,r=[]):r.push(a);var o,l={};for(var h in t){if(i[h])for(o=0;o<i[h].length;o++){var f=i[h][o];l[i[h][o]]=e(f)}l[h]=e(h)}for(o=0;o<r.length;o++)l[r[o]]=e(r[o]);return l}function Nu(u,t,e){return e[t]!=null?e[t]:u.props[t]}function gB(u,t){return o_(u.children,function(e){return Ot.cloneElement(e,{onExited:t.bind(null,e),in:!0,appear:Nu(e,"appear",u),enter:Nu(e,"enter",u),exit:Nu(e,"exit",u)})})}function mB(u,t,e){var i=o_(u.children),r=pB(t,i);return Object.keys(r).forEach(function(a){var o=r[a];if(Ot.isValidElement(o)){var l=a in t,h=a in i,f=t[a],g=Ot.isValidElement(f)&&!f.props.in;h&&(!l||g)?r[a]=Ot.cloneElement(o,{onExited:e.bind(null,o),in:!0,exit:Nu(o,"exit",u),enter:Nu(o,"enter",u)}):!h&&l&&!g?r[a]=Ot.cloneElement(o,{in:!1}):h&&l&&Ot.isValidElement(f)&&(r[a]=Ot.cloneElement(o,{onExited:e.bind(null,o),in:f.props.in,exit:Nu(o,"exit",u),enter:Nu(o,"enter",u)}))}}),r}var vB=Object.values||function(u){return Object.keys(u).map(function(t){return u[t]})},yB={component:"div",childFactory:function(t){return t}},l_=function(u){fB(t,u);function t(i,r){var a;a=u.call(this,i,r)||this;var o=a.handleExited.bind(dB(a));return a.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},a}var e=t.prototype;return e.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},e.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(r,a){var o=a.children,l=a.handleExited,h=a.firstRender;return{children:h?gB(r,l):mB(r,o,l),firstRender:!1}},e.handleExited=function(r,a){var o=o_(this.props.children);r.key in o||(r.props.onExited&&r.props.onExited(a),this.mounted&&this.setState(function(l){var h=q0({},l.children);return delete h[r.key],{children:h}}))},e.render=function(){var r=this.props,a=r.component,o=r.childFactory,l=hB(r,["component","childFactory"]),h=this.state.contextValue,f=vB(this.state.children).map(o);return delete l.appear,delete l.enter,delete l.exit,a===null?$h.createElement(WC.Provider,{value:h},f):$h.createElement(WC.Provider,{value:h},$h.createElement(a,l,f))},t}($h.Component);l_.propTypes={};l_.defaultProps=yB;const YC={};function JD(u,t){const e=Ot.useRef(YC);return e.current===YC&&(e.current=u(t)),e}const bB=[];function wB(u){Ot.useEffect(u,bB)}class u_{constructor(){Bt(this,"currentId",null);Bt(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Bt(this,"disposeEffect",()=>this.clear)}static create(){return new u_}start(t,e){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,e()},t)}}function AB(){const u=JD(u_.create).current;return wB(u.disposeEffect),u}function _B(u){return Gc("MuiPaper",u)}Vc("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const EB=u=>{const{square:t,elevation:e,variant:i,classes:r}=u,a={root:["root",i,!t&&"rounded",i==="elevation"&&`elevation${e}`]};return cd(a,_B,r)},SB=Tr("div",{name:"MuiPaper",slot:"Root",overridesResolver:(u,t)=>{const{ownerState:e}=u;return[t.root,t[e.variant],!e.square&&t.rounded,e.variant==="elevation"&&t[`elevation${e.elevation}`]]}})(km(({theme:u})=>({backgroundColor:(u.vars||u).palette.background.paper,color:(u.vars||u).palette.text.primary,transition:u.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:u.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(u.vars||u).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Yv=Ot.forwardRef(function(t,e){var b;const i=$c({props:t,name:"MuiPaper"}),r=sB(),{className:a,component:o="div",elevation:l=1,square:h=!1,variant:f="elevation",...g}=i,m={...i,component:o,elevation:l,square:h,variant:f},y=EB(m);return Gt.jsx(SB,{as:o,ownerState:m,className:Un(y.root,a),ref:e,...g,style:{...f==="elevation"&&{"--Paper-shadow":(r.vars||r).shadows[l],...r.vars&&{"--Paper-overlay":(b=r.vars.overlays)==null?void 0:b[l]},...!r.vars&&r.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${dl("#fff",gw(l))}, ${dl("#fff",gw(l))})`}},...g.style}})});function XC(u){try{return u.matches(":focus-visible")}catch{}return!1}class $0{constructor(){Bt(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new $0}static use(){const t=JD($0.create).current,[e,i]=Ot.useState(!1);return t.shouldMount=e,t.setShouldMount=i,Ot.useEffect(t.mountEffect,[e]),t}mount(){return this.mounted||(this.mounted=CB(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...t){this.mount().then(()=>{var e;return(e=this.ref.current)==null?void 0:e.start(...t)})}stop(...t){this.mount().then(()=>{var e;return(e=this.ref.current)==null?void 0:e.stop(...t)})}pulsate(...t){this.mount().then(()=>{var e;return(e=this.ref.current)==null?void 0:e.pulsate(...t)})}}function xB(){return $0.use()}function CB(){let u,t;const e=new Promise((i,r)=>{u=i,t=r});return e.resolve=u,e.reject=t,e}function TB(u){const{className:t,classes:e,pulsate:i=!1,rippleX:r,rippleY:a,rippleSize:o,in:l,onExited:h,timeout:f}=u,[g,m]=Ot.useState(!1),y=Un(t,e.ripple,e.rippleVisible,i&&e.ripplePulsate),b={width:o,height:o,top:-(o/2)+a,left:-(o/2)+r},T=Un(e.child,g&&e.childLeaving,i&&e.childPulsate);return!l&&!g&&m(!0),Ot.useEffect(()=>{if(!l&&h!=null){const A=setTimeout(h,f);return()=>{clearTimeout(A)}}},[h,l,f]),Gt.jsx("span",{className:y,style:b,children:Gt.jsx("span",{className:T})})}const _s=Vc("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),vw=550,DB=80,RB=Cm`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,kB=Cm`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,NB=Cm`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,OB=Tr("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),MB=Tr(TB,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${_s.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${RB};
    animation-duration: ${vw}ms;
    animation-timing-function: ${({theme:u})=>u.transitions.easing.easeInOut};
  }

  &.${_s.ripplePulsate} {
    animation-duration: ${({theme:u})=>u.transitions.duration.shorter}ms;
  }

  & .${_s.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${_s.childLeaving} {
    opacity: 0;
    animation-name: ${kB};
    animation-duration: ${vw}ms;
    animation-timing-function: ${({theme:u})=>u.transitions.easing.easeInOut};
  }

  & .${_s.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${NB};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:u})=>u.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,LB=Ot.forwardRef(function(t,e){const i=$c({props:t,name:"MuiTouchRipple"}),{center:r=!1,classes:a={},className:o,...l}=i,[h,f]=Ot.useState([]),g=Ot.useRef(0),m=Ot.useRef(null);Ot.useEffect(()=>{m.current&&(m.current(),m.current=null)},[h]);const y=Ot.useRef(!1),b=AB(),T=Ot.useRef(null),A=Ot.useRef(null),w=Ot.useCallback(N=>{const{pulsate:x,rippleX:L,rippleY:I,rippleSize:U,cb:F}=N;f(k=>[...k,Gt.jsx(MB,{classes:{ripple:Un(a.ripple,_s.ripple),rippleVisible:Un(a.rippleVisible,_s.rippleVisible),ripplePulsate:Un(a.ripplePulsate,_s.ripplePulsate),child:Un(a.child,_s.child),childLeaving:Un(a.childLeaving,_s.childLeaving),childPulsate:Un(a.childPulsate,_s.childPulsate)},timeout:vw,pulsate:x,rippleX:L,rippleY:I,rippleSize:U},g.current)]),g.current+=1,m.current=F},[a]),E=Ot.useCallback((N={},x={},L=()=>{})=>{const{pulsate:I=!1,center:U=r||x.pulsate,fakeElement:F=!1}=x;if((N==null?void 0:N.type)==="mousedown"&&y.current){y.current=!1;return}(N==null?void 0:N.type)==="touchstart"&&(y.current=!0);const k=F?null:A.current,$=k?k.getBoundingClientRect():{width:0,height:0,left:0,top:0};let Y,J,ft;if(U||N===void 0||N.clientX===0&&N.clientY===0||!N.clientX&&!N.touches)Y=Math.round($.width/2),J=Math.round($.height/2);else{const{clientX:bt,clientY:X}=N.touches&&N.touches.length>0?N.touches[0]:N;Y=Math.round(bt-$.left),J=Math.round(X-$.top)}if(U)ft=Math.sqrt((2*$.width**2+$.height**2)/3),ft%2===0&&(ft+=1);else{const bt=Math.max(Math.abs((k?k.clientWidth:0)-Y),Y)*2+2,X=Math.max(Math.abs((k?k.clientHeight:0)-J),J)*2+2;ft=Math.sqrt(bt**2+X**2)}N!=null&&N.touches?T.current===null&&(T.current=()=>{w({pulsate:I,rippleX:Y,rippleY:J,rippleSize:ft,cb:L})},b.start(DB,()=>{T.current&&(T.current(),T.current=null)})):w({pulsate:I,rippleX:Y,rippleY:J,rippleSize:ft,cb:L})},[r,w,b]),D=Ot.useCallback(()=>{E({},{pulsate:!0})},[E]),R=Ot.useCallback((N,x)=>{if(b.clear(),(N==null?void 0:N.type)==="touchend"&&T.current){T.current(),T.current=null,b.start(0,()=>{R(N,x)});return}T.current=null,f(L=>L.length>0?L.slice(1):L),m.current=x},[b]);return Ot.useImperativeHandle(e,()=>({pulsate:D,start:E,stop:R}),[D,E,R]),Gt.jsx(OB,{className:Un(_s.root,a.root,o),ref:A,...l,children:Gt.jsx(l_,{component:null,exit:!0,children:h})})});function IB(u){return Gc("MuiButtonBase",u)}const BB=Vc("MuiButtonBase",["root","disabled","focusVisible"]),PB=u=>{const{disabled:t,focusVisible:e,focusVisibleClassName:i,classes:r}=u,o=cd({root:["root",t&&"disabled",e&&"focusVisible"]},IB,r);return e&&i&&(o.root+=` ${i}`),o},zB=Tr("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${BB.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),FB=Ot.forwardRef(function(t,e){const i=$c({props:t,name:"MuiButtonBase"}),{action:r,centerRipple:a=!1,children:o,className:l,component:h="button",disabled:f=!1,disableRipple:g=!1,disableTouchRipple:m=!1,focusRipple:y=!1,focusVisibleClassName:b,LinkComponent:T="a",onBlur:A,onClick:w,onContextMenu:E,onDragLeave:D,onFocus:R,onFocusVisible:N,onKeyDown:x,onKeyUp:L,onMouseDown:I,onMouseLeave:U,onMouseUp:F,onTouchEnd:k,onTouchMove:$,onTouchStart:Y,tabIndex:J=0,TouchRippleProps:ft,touchRippleRef:bt,type:X,...Z}=i,ct=Ot.useRef(null),_t=xB(),K=$C(_t.ref,bt),[it,gt]=Ot.useState(!1);f&&it&&gt(!1),Ot.useImperativeHandle(r,()=>({focusVisible:()=>{gt(!0),ct.current.focus()}}),[]);const At=_t.shouldMount&&!g&&!f;Ot.useEffect(()=>{it&&y&&!g&&_t.pulsate()},[g,y,it,_t]);const Dt=Ka(_t,"start",I,m),qt=Ka(_t,"stop",E,m),Ht=Ka(_t,"stop",D,m),Yt=Ka(_t,"stop",F,m),zt=Ka(_t,"stop",kt=>{it&&kt.preventDefault(),U&&U(kt)},m),ve=Ka(_t,"start",Y,m),Te=Ka(_t,"stop",k,m),oe=Ka(_t,"stop",$,m),fe=Ka(_t,"stop",kt=>{XC(kt.target)||gt(!1),A&&A(kt)},!1),de=u0(kt=>{ct.current||(ct.current=kt.currentTarget),XC(kt.target)&&(gt(!0),N&&N(kt)),R&&R(kt)}),ye=()=>{const kt=ct.current;return h&&h!=="button"&&!(kt.tagName==="A"&&kt.href)},Ue=u0(kt=>{y&&!kt.repeat&&it&&kt.key===" "&&_t.stop(kt,()=>{_t.start(kt)}),kt.target===kt.currentTarget&&ye()&&kt.key===" "&&kt.preventDefault(),x&&x(kt),kt.target===kt.currentTarget&&ye()&&kt.key==="Enter"&&!f&&(kt.preventDefault(),w&&w(kt))}),ke=u0(kt=>{y&&kt.key===" "&&it&&!kt.defaultPrevented&&_t.stop(kt,()=>{_t.pulsate(kt)}),L&&L(kt),w&&kt.target===kt.currentTarget&&ye()&&kt.key===" "&&!kt.defaultPrevented&&w(kt)});let ue=h;ue==="button"&&(Z.href||Z.to)&&(ue=T);const Zt={};ue==="button"?(Zt.type=X===void 0?"button":X,Zt.disabled=f):(!Z.href&&!Z.to&&(Zt.role="button"),f&&(Zt["aria-disabled"]=f));const Xt=$C(e,ct),re={...i,centerRipple:a,component:h,disabled:f,disableRipple:g,disableTouchRipple:m,focusRipple:y,tabIndex:J,focusVisible:it},Jt=PB(re);return Gt.jsxs(zB,{as:ue,className:Un(Jt.root,l),ownerState:re,onBlur:fe,onClick:w,onContextMenu:qt,onFocus:de,onKeyDown:Ue,onKeyUp:ke,onMouseDown:Dt,onMouseLeave:zt,onMouseUp:Yt,onDragLeave:Ht,onTouchEnd:Te,onTouchMove:oe,onTouchStart:ve,ref:Xt,tabIndex:f?-1:J,type:X,...Zt,...Z,children:[o,At?Gt.jsx(LB,{ref:K,center:a,...ft}):null]})});function Ka(u,t,e,i=!1){return u0(r=>(e&&e(r),i||u[t](r),!0))}function UB(u){return typeof u.main=="string"}function HB(u,t=[]){if(!UB(u))return!1;for(const e of t)if(!u.hasOwnProperty(e)||typeof u[e]!="string")return!1;return!0}function c_(u=[]){return([,t])=>t&&HB(t,u)}function jB(u){return Gc("MuiCircularProgress",u)}Vc("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const hl=44,yw=Cm`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,bw=Cm`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,qB=typeof yw!="string"?ZA`
        animation: ${yw} 1.4s linear infinite;
      `:null,GB=typeof bw!="string"?ZA`
        animation: ${bw} 1.4s ease-in-out infinite;
      `:null,VB=u=>{const{classes:t,variant:e,color:i,disableShrink:r}=u,a={root:["root",e,`color${Li(i)}`],svg:["svg"],circle:["circle",`circle${Li(e)}`,r&&"circleDisableShrink"]};return cd(a,jB,t)},$B=Tr("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(u,t)=>{const{ownerState:e}=u;return[t.root,t[e.variant],t[`color${Li(e.color)}`]]}})(km(({theme:u})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:u.transitions.create("transform")}},{props:{variant:"indeterminate"},style:qB||{animation:`${yw} 1.4s linear infinite`}},...Object.entries(u.palette).filter(c_()).map(([t])=>({props:{color:t},style:{color:(u.vars||u).palette[t].main}}))]}))),WB=Tr("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),YB=Tr("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(u,t)=>{const{ownerState:e}=u;return[t.circle,t[`circle${Li(e.variant)}`],e.disableShrink&&t.circleDisableShrink]}})(km(({theme:u})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:u.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:GB||{animation:`${bw} 1.4s ease-in-out infinite`}}]}))),XB=Ot.forwardRef(function(t,e){const i=$c({props:t,name:"MuiCircularProgress"}),{className:r,color:a="primary",disableShrink:o=!1,size:l=40,style:h,thickness:f=3.6,value:g=0,variant:m="indeterminate",...y}=i,b={...i,color:a,disableShrink:o,size:l,thickness:f,value:g,variant:m},T=VB(b),A={},w={},E={};if(m==="determinate"){const D=2*Math.PI*((hl-f)/2);A.strokeDasharray=D.toFixed(3),E["aria-valuenow"]=Math.round(g),A.strokeDashoffset=`${((100-g)/100*D).toFixed(3)}px`,w.transform="rotate(-90deg)"}return Gt.jsx($B,{className:Un(T.root,r),style:{width:l,height:l,...w,...h},ownerState:b,ref:e,role:"progressbar",...E,...y,children:Gt.jsx(WB,{className:T.svg,ownerState:b,viewBox:`${hl/2} ${hl/2} ${hl} ${hl}`,children:Gt.jsx(YB,{className:T.circle,style:A,ownerState:b,cx:hl,cy:hl,r:(hl-f)/2,fill:"none",strokeWidth:f})})})});function KB(u){return Gc("MuiTypography",u)}Vc("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const ZB={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},QB=oB(),JB=u=>{const{align:t,gutterBottom:e,noWrap:i,paragraph:r,variant:a,classes:o}=u,l={root:["root",a,u.align!=="inherit"&&`align${Li(t)}`,e&&"gutterBottom",i&&"noWrap",r&&"paragraph"]};return cd(l,KB,o)},tP=Tr("span",{name:"MuiTypography",slot:"Root",overridesResolver:(u,t)=>{const{ownerState:e}=u;return[t.root,e.variant&&t[e.variant],e.align!=="inherit"&&t[`align${Li(e.align)}`],e.noWrap&&t.noWrap,e.gutterBottom&&t.gutterBottom,e.paragraph&&t.paragraph]}})(km(({theme:u})=>{var t;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(u.typography).filter(([e,i])=>e!=="inherit"&&i&&typeof i=="object").map(([e,i])=>({props:{variant:e},style:i})),...Object.entries(u.palette).filter(c_()).map(([e])=>({props:{color:e},style:{color:(u.vars||u).palette[e].main}})),...Object.entries(((t=u.palette)==null?void 0:t.text)||{}).filter(([,e])=>typeof e=="string").map(([e])=>({props:{color:`text${Li(e)}`},style:{color:(u.vars||u).palette.text[e]}})),{props:({ownerState:e})=>e.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:e})=>e.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:e})=>e.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:e})=>e.paragraph,style:{marginBottom:16}}]}})),KC={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},rr=Ot.forwardRef(function(t,e){const{color:i,...r}=$c({props:t,name:"MuiTypography"}),a=!ZB[i],o=QB({...r,...a&&{color:i}}),{align:l="inherit",className:h,component:f,gutterBottom:g=!1,noWrap:m=!1,paragraph:y=!1,variant:b="body1",variantMapping:T=KC,...A}=o,w={...o,align:l,color:i,className:h,component:f,gutterBottom:g,noWrap:m,paragraph:y,variant:b,variantMapping:T},E=f||(y?"p":T[b]||KC[b])||"span",D=JB(w);return Gt.jsx(tP,{as:E,ref:e,className:Un(D.root,h),...A,ownerState:w,style:{...l!=="inherit"&&{"--Typography-textAlign":l},...A.style}})}),eP=Vc("MuiBox",["root"]),iP=KD(),cs=ZL({themeId:GA,defaultTheme:iP,defaultClassName:eP.root,generateClassName:FD.generate});function nP(u){return Gc("MuiButton",u)}const xu=Vc("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),rP=Ot.createContext({}),sP=Ot.createContext(void 0),aP=u=>{const{color:t,disableElevation:e,fullWidth:i,size:r,variant:a,loading:o,loadingPosition:l,classes:h}=u,f={root:["root",o&&"loading",a,`${a}${Li(t)}`,`size${Li(r)}`,`${a}Size${Li(r)}`,`color${Li(t)}`,e&&"disableElevation",i&&"fullWidth",o&&`loadingPosition${Li(l)}`],startIcon:["icon","startIcon",`iconSize${Li(r)}`],endIcon:["icon","endIcon",`iconSize${Li(r)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},g=cd(f,nP,h);return{...h,...g}},tR=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],oP=Tr(FB,{shouldForwardProp:u=>QD(u)||u==="classes",name:"MuiButton",slot:"Root",overridesResolver:(u,t)=>{const{ownerState:e}=u;return[t.root,t[e.variant],t[`${e.variant}${Li(e.color)}`],t[`size${Li(e.size)}`],t[`${e.variant}Size${Li(e.size)}`],e.color==="inherit"&&t.colorInherit,e.disableElevation&&t.disableElevation,e.fullWidth&&t.fullWidth,e.loading&&t.loading]}})(km(({theme:u})=>{const t=u.palette.mode==="light"?u.palette.grey[300]:u.palette.grey[800],e=u.palette.mode==="light"?u.palette.grey.A100:u.palette.grey[700];return{...u.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(u.vars||u).shape.borderRadius,transition:u.transitions.create(["background-color","box-shadow","border-color","color"],{duration:u.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${xu.disabled}`]:{color:(u.vars||u).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(u.vars||u).shadows[2],"&:hover":{boxShadow:(u.vars||u).shadows[4],"@media (hover: none)":{boxShadow:(u.vars||u).shadows[2]}},"&:active":{boxShadow:(u.vars||u).shadows[8]},[`&.${xu.focusVisible}`]:{boxShadow:(u.vars||u).shadows[6]},[`&.${xu.disabled}`]:{color:(u.vars||u).palette.action.disabled,boxShadow:(u.vars||u).shadows[0],backgroundColor:(u.vars||u).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${xu.disabled}`]:{border:`1px solid ${(u.vars||u).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(u.palette).filter(c_()).map(([i])=>({props:{color:i},style:{"--variant-textColor":(u.vars||u).palette[i].main,"--variant-outlinedColor":(u.vars||u).palette[i].main,"--variant-outlinedBorder":u.vars?`rgba(${u.vars.palette[i].mainChannel} / 0.5)`:dl(u.palette[i].main,.5),"--variant-containedColor":(u.vars||u).palette[i].contrastText,"--variant-containedBg":(u.vars||u).palette[i].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(u.vars||u).palette[i].dark,"--variant-textBg":u.vars?`rgba(${u.vars.palette[i].mainChannel} / ${u.vars.palette.action.hoverOpacity})`:dl(u.palette[i].main,u.palette.action.hoverOpacity),"--variant-outlinedBorder":(u.vars||u).palette[i].main,"--variant-outlinedBg":u.vars?`rgba(${u.vars.palette[i].mainChannel} / ${u.vars.palette.action.hoverOpacity})`:dl(u.palette[i].main,u.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":u.vars?u.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":u.vars?u.vars.palette.Button.inheritContainedHoverBg:e,"--variant-textBg":u.vars?`rgba(${u.vars.palette.text.primaryChannel} / ${u.vars.palette.action.hoverOpacity})`:dl(u.palette.text.primary,u.palette.action.hoverOpacity),"--variant-outlinedBg":u.vars?`rgba(${u.vars.palette.text.primaryChannel} / ${u.vars.palette.action.hoverOpacity})`:dl(u.palette.text.primary,u.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:u.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:u.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:u.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:u.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:u.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:u.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${xu.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${xu.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:u.transitions.create(["background-color","box-shadow","border-color"],{duration:u.transitions.duration.short}),[`&.${xu.loading}`]:{color:"transparent"}}}]}})),lP=Tr("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(u,t)=>{const{ownerState:e}=u;return[t.startIcon,e.loading&&t.startIconLoadingStart,t[`iconSize${Li(e.size)}`]]}})(({theme:u})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:u.transitions.create(["opacity"],{duration:u.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...tR]})),uP=Tr("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(u,t)=>{const{ownerState:e}=u;return[t.endIcon,e.loading&&t.endIconLoadingEnd,t[`iconSize${Li(e.size)}`]]}})(({theme:u})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:u.transitions.create(["opacity"],{duration:u.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...tR]})),cP=Tr("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:u})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(u.vars||u).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),ZC=Tr("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),hs=Ot.forwardRef(function(t,e){const i=Ot.useContext(rP),r=Ot.useContext(sP),a=$p(i,t),o=$c({props:a,name:"MuiButton"}),{children:l,color:h="primary",component:f="button",className:g,disabled:m=!1,disableElevation:y=!1,disableFocusRipple:b=!1,endIcon:T,focusVisibleClassName:A,fullWidth:w=!1,id:E,loading:D=null,loadingIndicator:R,loadingPosition:N="center",size:x="medium",startIcon:L,type:I,variant:U="text",...F}=o,k=cB(E),$=R??Gt.jsx(XB,{"aria-labelledby":k,color:"inherit",size:16}),Y={...o,color:h,component:f,disabled:m,disableElevation:y,disableFocusRipple:b,fullWidth:w,loading:D,loadingIndicator:$,loadingPosition:N,size:x,type:I,variant:U},J=aP(Y),ft=(L||D&&N==="start")&&Gt.jsx(lP,{className:J.startIcon,ownerState:Y,children:L||Gt.jsx(ZC,{className:J.loadingIconPlaceholder,ownerState:Y})}),bt=(T||D&&N==="end")&&Gt.jsx(uP,{className:J.endIcon,ownerState:Y,children:T||Gt.jsx(ZC,{className:J.loadingIconPlaceholder,ownerState:Y})}),X=r||"",Z=typeof D=="boolean"?Gt.jsx("span",{className:J.loadingWrapper,style:{display:"contents"},children:D&&Gt.jsx(cP,{className:J.loadingIndicator,ownerState:Y,children:$})}):null;return Gt.jsxs(oP,{ownerState:Y,className:Un(i.className,J.root,g,X),component:f,disabled:m||D,focusRipple:!b,focusVisibleClassName:Un(J.focusVisible,A),ref:e,type:I,id:D?k:E,...F,classes:J,children:[ft,N!=="end"&&Z,l,N==="end"&&Z,bt]})}),hP=DI({createStyledComponent:Tr("div",{name:"MuiContainer",slot:"Root",overridesResolver:(u,t)=>{const{ownerState:e}=u;return[t.root,t[`maxWidth${Li(String(e.maxWidth))}`],e.fixed&&t.fixed,e.disableGutters&&t.disableGutters]}}),useThemeProps:u=>$c({props:u,name:"MuiContainer"})});var Xv={exports:{}},f1={exports:{}},d1,QC;function eR(){if(QC)return d1;QC=1;var u=void 0;return d1=function(t){return t!==u&&t!==null},d1}var p1,JC;function fP(){if(JC)return p1;JC=1;var u=eR(),t={object:!0,function:!0,undefined:!0};return p1=function(e){return u(e)?hasOwnProperty.call(t,typeof e):!1},p1}var g1,tT;function dP(){if(tT)return g1;tT=1;var u=fP();return g1=function(t){if(!u(t))return!1;try{return t.constructor?t.constructor.prototype===t:!1}catch{return!1}},g1}var m1,eT;function pP(){if(eT)return m1;eT=1;var u=dP();return m1=function(t){if(typeof t!="function"||!hasOwnProperty.call(t,"length"))return!1;try{if(typeof t.length!="number"||typeof t.call!="function"||typeof t.apply!="function")return!1}catch{return!1}return!u(t)},m1}var v1,iT;function gP(){if(iT)return v1;iT=1;var u=pP(),t=/^\s*class[\s{/}]/,e=Function.prototype.toString;return v1=function(i){return!(!u(i)||t.test(e.call(i)))},v1}var y1,nT;function mP(){return nT||(nT=1,y1=function(){var u=Object.assign,t;return typeof u!="function"?!1:(t={foo:"raz"},u(t,{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}),y1}var b1,rT;function vP(){return rT||(rT=1,b1=function(){try{return Object.keys("primitive"),!0}catch{return!1}}),b1}var w1,sT;function yP(){return sT||(sT=1,w1=function(){}),w1}var A1,aT;function h_(){if(aT)return A1;aT=1;var u=yP()();return A1=function(t){return t!==u&&t!==null},A1}var _1,oT;function bP(){if(oT)return _1;oT=1;var u=h_(),t=Object.keys;return _1=function(e){return t(u(e)?Object(e):e)},_1}var E1,lT;function wP(){return lT||(lT=1,E1=vP()()?Object.keys:bP()),E1}var S1,uT;function AP(){if(uT)return S1;uT=1;var u=h_();return S1=function(t){if(!u(t))throw new TypeError("Cannot use null or undefined");return t},S1}var x1,cT;function _P(){if(cT)return x1;cT=1;var u=wP(),t=AP(),e=Math.max;return x1=function(i,r){var a,o,l=e(arguments.length,2),h;for(i=Object(t(i)),h=function(f){try{i[f]=r[f]}catch(g){a||(a=g)}},o=1;o<l;++o)r=arguments[o],u(r).forEach(h);if(a!==void 0)throw a;return i},x1}var C1,hT;function EP(){return hT||(hT=1,C1=mP()()?Object.assign:_P()),C1}var T1,fT;function SP(){if(fT)return T1;fT=1;var u=h_(),t=Array.prototype.forEach,e=Object.create,i=function(r,a){var o;for(o in r)a[o]=r[o]};return T1=function(r){var a=e(null);return t.call(arguments,function(o){u(o)&&i(Object(o),a)}),a},T1}var D1,dT;function xP(){if(dT)return D1;dT=1;var u="razdwatrzy";return D1=function(){return typeof u.contains!="function"?!1:u.contains("dwa")===!0&&u.contains("foo")===!1},D1}var R1,pT;function CP(){if(pT)return R1;pT=1;var u=String.prototype.indexOf;return R1=function(t){return u.call(this,t,arguments[1])>-1},R1}var k1,gT;function TP(){return gT||(gT=1,k1=xP()()?String.prototype.contains:CP()),k1}var mT;function DP(){if(mT)return f1.exports;mT=1;var u=eR(),t=gP(),e=EP(),i=SP(),r=TP(),a=f1.exports=function(o,l){var h,f,g,m,y;return arguments.length<2||typeof o!="string"?(m=l,l=o,o=null):m=arguments[2],u(o)?(h=r.call(o,"c"),f=r.call(o,"e"),g=r.call(o,"w")):(h=g=!0,f=!1),y={value:l,configurable:h,enumerable:f,writable:g},m?e(i(m),y):y};return a.gs=function(o,l,h){var f,g,m,y;return typeof o!="string"?(m=h,h=l,l=o,o=null):m=arguments[3],u(l)?t(l)?u(h)?t(h)||(m=h,h=void 0):h=void 0:(m=l,l=h=void 0):l=void 0,u(o)?(f=r.call(o,"c"),g=r.call(o,"e")):(f=!0,g=!1),y={get:l,set:h,configurable:f,enumerable:g},m?e(i(m),y):y},f1.exports}var N1,vT;function RP(){return vT||(vT=1,N1=function(u){if(typeof u!="function")throw new TypeError(u+" is not a function");return u}),N1}var yT;function kP(){return yT||(yT=1,function(u,t){var e=DP(),i=RP(),r=Function.prototype.apply,a=Function.prototype.call,o=Object.create,l=Object.defineProperty,h=Object.defineProperties,f=Object.prototype.hasOwnProperty,g={configurable:!0,enumerable:!1,writable:!0},m,y,b,T,A,w,E;m=function(D,R){var N;return i(R),f.call(this,"__ee__")?N=this.__ee__:(N=g.value=o(null),l(this,"__ee__",g),g.value=null),N[D]?typeof N[D]=="object"?N[D].push(R):N[D]=[N[D],R]:N[D]=R,this},y=function(D,R){var N,x;return i(R),x=this,m.call(this,D,N=function(){b.call(x,D,N),r.call(R,this,arguments)}),N.__eeOnceListener__=R,this},b=function(D,R){var N,x,L,I;if(i(R),!f.call(this,"__ee__"))return this;if(N=this.__ee__,!N[D])return this;if(x=N[D],typeof x=="object")for(I=0;L=x[I];++I)(L===R||L.__eeOnceListener__===R)&&(x.length===2?N[D]=x[I?0:1]:x.splice(I,1));else(x===R||x.__eeOnceListener__===R)&&delete N[D];return this},T=function(D){var R,N,x,L,I;if(f.call(this,"__ee__")&&(L=this.__ee__[D],!!L))if(typeof L=="object"){for(N=arguments.length,I=new Array(N-1),R=1;R<N;++R)I[R-1]=arguments[R];for(L=L.slice(),R=0;x=L[R];++R)r.call(x,this,I)}else switch(arguments.length){case 1:a.call(L,this);break;case 2:a.call(L,this,arguments[1]);break;case 3:a.call(L,this,arguments[1],arguments[2]);break;default:for(N=arguments.length,I=new Array(N-1),R=1;R<N;++R)I[R-1]=arguments[R];r.call(L,this,I)}},A={on:m,once:y,off:b,emit:T},w={on:e(m),once:e(y),off:e(b),emit:e(T)},E=h({},w),u.exports=t=function(D){return D==null?o(E):h(Object(D),w)},t.methods=A}(Xv,Xv.exports)),Xv.exports}var NP=kP();const Ma=qc(NP);var dp={},Za={},Oh={},bT;function jy(){if(bT)return Oh;bT=1;function u(r,a,o){if(o===void 0&&(o=Array.prototype),r&&typeof o.find=="function")return o.find.call(r,a);for(var l=0;l<r.length;l++)if(Object.prototype.hasOwnProperty.call(r,l)){var h=r[l];if(a.call(void 0,h,l,r))return h}}function t(r,a){return a===void 0&&(a=Object),a&&typeof a.freeze=="function"?a.freeze(r):r}var e=t({HTML:"text/html",isHTML:function(r){return r===e.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=t({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(r){return r===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return Oh.find=u,Oh.freeze=t,Oh.MIME_TYPE=e,Oh.NAMESPACE=i,Oh}var wT;function iR(){if(wT)return Za;wT=1;var u=jy(),t=u.find,e=u.NAMESPACE;function i(M){return M!==""}function r(M){return M?M.split(/[\t\n\f\r ]+/).filter(i):[]}function a(M,S){return M.hasOwnProperty(S)||(M[S]=!0),M}function o(M){if(!M)return[];var S=r(M);return Object.keys(S.reduce(a,{}))}function l(M){return function(S){return M&&M.indexOf(S)!==-1}}function h(M,S){for(var q in M)Object.prototype.hasOwnProperty.call(M,q)&&(S[q]=M[q])}function f(M,S){var q=M.prototype;if(!(q instanceof S)){let st=function(){};st.prototype=S.prototype,st=new st,h(q,st),M.prototype=q=st}q.constructor!=M&&(typeof M!="function"&&console.error("unknown Class:"+M),q.constructor=M)}var g={},m=g.ELEMENT_NODE=1,y=g.ATTRIBUTE_NODE=2,b=g.TEXT_NODE=3,T=g.CDATA_SECTION_NODE=4,A=g.ENTITY_REFERENCE_NODE=5,w=g.ENTITY_NODE=6,E=g.PROCESSING_INSTRUCTION_NODE=7,D=g.COMMENT_NODE=8,R=g.DOCUMENT_NODE=9,N=g.DOCUMENT_TYPE_NODE=10,x=g.DOCUMENT_FRAGMENT_NODE=11,L=g.NOTATION_NODE=12,I={},U={};I.INDEX_SIZE_ERR=(U[1]="Index size error",1),I.DOMSTRING_SIZE_ERR=(U[2]="DOMString size error",2);var F=I.HIERARCHY_REQUEST_ERR=(U[3]="Hierarchy request error",3);I.WRONG_DOCUMENT_ERR=(U[4]="Wrong document",4),I.INVALID_CHARACTER_ERR=(U[5]="Invalid character",5),I.NO_DATA_ALLOWED_ERR=(U[6]="No data allowed",6),I.NO_MODIFICATION_ALLOWED_ERR=(U[7]="No modification allowed",7);var k=I.NOT_FOUND_ERR=(U[8]="Not found",8);I.NOT_SUPPORTED_ERR=(U[9]="Not supported",9);var $=I.INUSE_ATTRIBUTE_ERR=(U[10]="Attribute in use",10);I.INVALID_STATE_ERR=(U[11]="Invalid state",11),I.SYNTAX_ERR=(U[12]="Syntax error",12),I.INVALID_MODIFICATION_ERR=(U[13]="Invalid modification",13),I.NAMESPACE_ERR=(U[14]="Invalid namespace",14),I.INVALID_ACCESS_ERR=(U[15]="Invalid access",15);function Y(M,S){if(S instanceof Error)var q=S;else q=this,Error.call(this,U[M]),this.message=U[M],Error.captureStackTrace&&Error.captureStackTrace(this,Y);return q.code=M,S&&(this.message=this.message+": "+S),q}Y.prototype=Error.prototype,h(I,Y);function J(){}J.prototype={length:0,item:function(M){return M>=0&&M<this.length?this[M]:null},toString:function(M,S){for(var q=[],st=0;st<this.length;st++)Ct(this[st],q,M,S);return q.join("")},filter:function(M){return Array.prototype.filter.call(this,M)},indexOf:function(M){return Array.prototype.indexOf.call(this,M)}};function ft(M,S){this._node=M,this._refresh=S,bt(this)}function bt(M){var S=M._node._inc||M._node.ownerDocument._inc;if(M._inc!==S){var q=M._refresh(M._node);if(nt(M,"length",q.length),!M.$$length||q.length<M.$$length)for(var st=q.length;st in M;st++)Object.prototype.hasOwnProperty.call(M,st)&&delete M[st];h(q,M),M._inc=S}}ft.prototype.item=function(M){return bt(this),this[M]||null},f(ft,J);function X(){}function Z(M,S){for(var q=M.length;q--;)if(M[q]===S)return q}function ct(M,S,q,st){if(st?S[Z(S,st)]=q:S[S.length++]=q,M){q.ownerElement=M;var C=M.ownerDocument;C&&(st&&Ht(C,M,st),qt(C,M,q))}}function _t(M,S,q){var st=Z(S,q);if(st>=0){for(var C=S.length-1;st<C;)S[st]=S[++st];if(S.length=C,M){var at=M.ownerDocument;at&&(Ht(at,M,q),q.ownerElement=null)}}else throw new Y(k,new Error(M.tagName+"@"+q))}X.prototype={length:0,item:J.prototype.item,getNamedItem:function(M){for(var S=this.length;S--;){var q=this[S];if(q.nodeName==M)return q}},setNamedItem:function(M){var S=M.ownerElement;if(S&&S!=this._ownerElement)throw new Y($);var q=this.getNamedItem(M.nodeName);return ct(this._ownerElement,this,M,q),q},setNamedItemNS:function(M){var S=M.ownerElement,q;if(S&&S!=this._ownerElement)throw new Y($);return q=this.getNamedItemNS(M.namespaceURI,M.localName),ct(this._ownerElement,this,M,q),q},removeNamedItem:function(M){var S=this.getNamedItem(M);return _t(this._ownerElement,this,S),S},removeNamedItemNS:function(M,S){var q=this.getNamedItemNS(M,S);return _t(this._ownerElement,this,q),q},getNamedItemNS:function(M,S){for(var q=this.length;q--;){var st=this[q];if(st.localName==S&&st.namespaceURI==M)return st}return null}};function K(){}K.prototype={hasFeature:function(M,S){return!0},createDocument:function(M,S,q){var st=new Dt;if(st.implementation=this,st.childNodes=new J,st.doctype=q||null,q&&st.appendChild(q),S){var C=st.createElementNS(M,S);st.appendChild(C)}return st},createDocumentType:function(M,S,q){var st=new De;return st.name=M,st.nodeName=M,st.publicId=S||"",st.systemId=q||"",st}};function it(){}it.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(M,S){return Xt(this,M,S)},replaceChild:function(M,S){Xt(this,M,S,Zt),S&&this.removeChild(S)},removeChild:function(M){return zt(this,M)},appendChild:function(M){return this.insertBefore(M,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(M){return $t(this.ownerDocument||this,this,M)},normalize:function(){for(var M=this.firstChild;M;){var S=M.nextSibling;S&&S.nodeType==b&&M.nodeType==b?(this.removeChild(S),M.appendData(S.data)):(M.normalize(),M=S)}},isSupported:function(M,S){return this.ownerDocument.implementation.hasFeature(M,S)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(M){for(var S=this;S;){var q=S._nsMap;if(q){for(var st in q)if(Object.prototype.hasOwnProperty.call(q,st)&&q[st]===M)return st}S=S.nodeType==y?S.ownerDocument:S.parentNode}return null},lookupNamespaceURI:function(M){for(var S=this;S;){var q=S._nsMap;if(q&&M in q&&Object.prototype.hasOwnProperty.call(q,M))return q[M];S=S.nodeType==y?S.ownerDocument:S.parentNode}return null},isDefaultNamespace:function(M){var S=this.lookupPrefix(M);return S==null}};function gt(M){return M=="<"&&"&lt;"||M==">"&&"&gt;"||M=="&"&&"&amp;"||M=='"'&&"&quot;"||"&#"+M.charCodeAt()+";"}h(g,it),h(g,it.prototype);function At(M,S){if(S(M))return!0;if(M=M.firstChild)do if(At(M,S))return!0;while(M=M.nextSibling)}function Dt(){this.ownerDocument=this}function qt(M,S,q){M&&M._inc++;var st=q.namespaceURI;st===e.XMLNS&&(S._nsMap[q.prefix?q.localName:""]=q.value)}function Ht(M,S,q,st){M&&M._inc++;var C=q.namespaceURI;C===e.XMLNS&&delete S._nsMap[q.prefix?q.localName:""]}function Yt(M,S,q){if(M&&M._inc){M._inc++;var st=S.childNodes;if(q)st[st.length++]=q;else{for(var C=S.firstChild,at=0;C;)st[at++]=C,C=C.nextSibling;st.length=at,delete st[st.length]}}}function zt(M,S){var q=S.previousSibling,st=S.nextSibling;return q?q.nextSibling=st:M.firstChild=st,st?st.previousSibling=q:M.lastChild=q,S.parentNode=null,S.previousSibling=null,S.nextSibling=null,Yt(M.ownerDocument,M),S}function ve(M){return M&&(M.nodeType===it.DOCUMENT_NODE||M.nodeType===it.DOCUMENT_FRAGMENT_NODE||M.nodeType===it.ELEMENT_NODE)}function Te(M){return M&&(fe(M)||de(M)||oe(M)||M.nodeType===it.DOCUMENT_FRAGMENT_NODE||M.nodeType===it.COMMENT_NODE||M.nodeType===it.PROCESSING_INSTRUCTION_NODE)}function oe(M){return M&&M.nodeType===it.DOCUMENT_TYPE_NODE}function fe(M){return M&&M.nodeType===it.ELEMENT_NODE}function de(M){return M&&M.nodeType===it.TEXT_NODE}function ye(M,S){var q=M.childNodes||[];if(t(q,fe)||oe(S))return!1;var st=t(q,oe);return!(S&&st&&q.indexOf(st)>q.indexOf(S))}function Ue(M,S){var q=M.childNodes||[];function st(at){return fe(at)&&at!==S}if(t(q,st))return!1;var C=t(q,oe);return!(S&&C&&q.indexOf(C)>q.indexOf(S))}function ke(M,S,q){if(!ve(M))throw new Y(F,"Unexpected parent node type "+M.nodeType);if(q&&q.parentNode!==M)throw new Y(k,"child not in parent");if(!Te(S)||oe(S)&&M.nodeType!==it.DOCUMENT_NODE)throw new Y(F,"Unexpected node type "+S.nodeType+" for parent node type "+M.nodeType)}function ue(M,S,q){var st=M.childNodes||[],C=S.childNodes||[];if(S.nodeType===it.DOCUMENT_FRAGMENT_NODE){var at=C.filter(fe);if(at.length>1||t(C,de))throw new Y(F,"More than one element or text in fragment");if(at.length===1&&!ye(M,q))throw new Y(F,"Element in fragment can not be inserted before doctype")}if(fe(S)&&!ye(M,q))throw new Y(F,"Only one element can be added and only after doctype");if(oe(S)){if(t(st,oe))throw new Y(F,"Only one doctype is allowed");var pt=t(st,fe);if(q&&st.indexOf(pt)<st.indexOf(q))throw new Y(F,"Doctype can only be inserted before an element");if(!q&&pt)throw new Y(F,"Doctype can not be appended since element is present")}}function Zt(M,S,q){var st=M.childNodes||[],C=S.childNodes||[];if(S.nodeType===it.DOCUMENT_FRAGMENT_NODE){var at=C.filter(fe);if(at.length>1||t(C,de))throw new Y(F,"More than one element or text in fragment");if(at.length===1&&!Ue(M,q))throw new Y(F,"Element in fragment can not be inserted before doctype")}if(fe(S)&&!Ue(M,q))throw new Y(F,"Only one element can be added and only after doctype");if(oe(S)){if(t(st,function(et){return oe(et)&&et!==q}))throw new Y(F,"Only one doctype is allowed");var pt=t(st,fe);if(q&&st.indexOf(pt)<st.indexOf(q))throw new Y(F,"Doctype can only be inserted before an element")}}function Xt(M,S,q,st){ke(M,S,q),M.nodeType===it.DOCUMENT_NODE&&(st||ue)(M,S,q);var C=S.parentNode;if(C&&C.removeChild(S),S.nodeType===x){var at=S.firstChild;if(at==null)return S;var pt=S.lastChild}else at=pt=S;var H=q?q.previousSibling:M.lastChild;at.previousSibling=H,pt.nextSibling=q,H?H.nextSibling=at:M.firstChild=at,q==null?M.lastChild=pt:q.previousSibling=pt;do at.parentNode=M;while(at!==pt&&(at=at.nextSibling));return Yt(M.ownerDocument||M,M),S.nodeType==x&&(S.firstChild=S.lastChild=null),S}function re(M,S){return S.parentNode&&S.parentNode.removeChild(S),S.parentNode=M,S.previousSibling=M.lastChild,S.nextSibling=null,S.previousSibling?S.previousSibling.nextSibling=S:M.firstChild=S,M.lastChild=S,Yt(M.ownerDocument,M,S),S}Dt.prototype={nodeName:"#document",nodeType:R,doctype:null,documentElement:null,_inc:1,insertBefore:function(M,S){if(M.nodeType==x){for(var q=M.firstChild;q;){var st=q.nextSibling;this.insertBefore(q,S),q=st}return M}return Xt(this,M,S),M.ownerDocument=this,this.documentElement===null&&M.nodeType===m&&(this.documentElement=M),M},removeChild:function(M){return this.documentElement==M&&(this.documentElement=null),zt(this,M)},replaceChild:function(M,S){Xt(this,M,S,Zt),M.ownerDocument=this,S&&this.removeChild(S),fe(M)&&(this.documentElement=M)},importNode:function(M,S){return Lt(this,M,S)},getElementById:function(M){var S=null;return At(this.documentElement,function(q){if(q.nodeType==m&&q.getAttribute("id")==M)return S=q,!0}),S},getElementsByClassName:function(M){var S=o(M);return new ft(this,function(q){var st=[];return S.length>0&&At(q.documentElement,function(C){if(C!==q&&C.nodeType===m){var at=C.getAttribute("class");if(at){var pt=M===at;if(!pt){var H=o(at);pt=S.every(l(H))}pt&&st.push(C)}}}),st})},createElement:function(M){var S=new Jt;S.ownerDocument=this,S.nodeName=M,S.tagName=M,S.localName=M,S.childNodes=new J;var q=S.attributes=new X;return q._ownerElement=S,S},createDocumentFragment:function(){var M=new Gn;return M.ownerDocument=this,M.childNodes=new J,M},createTextNode:function(M){var S=new Be;return S.ownerDocument=this,S.appendData(M),S},createComment:function(M){var S=new Ii;return S.ownerDocument=this,S.appendData(M),S},createCDATASection:function(M){var S=new ni;return S.ownerDocument=this,S.appendData(M),S},createProcessingInstruction:function(M,S){var q=new Dn;return q.ownerDocument=this,q.tagName=q.nodeName=q.target=M,q.nodeValue=q.data=S,q},createAttribute:function(M){var S=new kt;return S.ownerDocument=this,S.name=M,S.nodeName=M,S.localName=M,S.specified=!0,S},createEntityReference:function(M){var S=new tn;return S.ownerDocument=this,S.nodeName=M,S},createElementNS:function(M,S){var q=new Jt,st=S.split(":"),C=q.attributes=new X;return q.childNodes=new J,q.ownerDocument=this,q.nodeName=S,q.tagName=S,q.namespaceURI=M,st.length==2?(q.prefix=st[0],q.localName=st[1]):q.localName=S,C._ownerElement=q,q},createAttributeNS:function(M,S){var q=new kt,st=S.split(":");return q.ownerDocument=this,q.nodeName=S,q.name=S,q.namespaceURI=M,q.specified=!0,st.length==2?(q.prefix=st[0],q.localName=st[1]):q.localName=S,q}},f(Dt,it);function Jt(){this._nsMap={}}Jt.prototype={nodeType:m,hasAttribute:function(M){return this.getAttributeNode(M)!=null},getAttribute:function(M){var S=this.getAttributeNode(M);return S&&S.value||""},getAttributeNode:function(M){return this.attributes.getNamedItem(M)},setAttribute:function(M,S){var q=this.ownerDocument.createAttribute(M);q.value=q.nodeValue=""+S,this.setAttributeNode(q)},removeAttribute:function(M){var S=this.getAttributeNode(M);S&&this.removeAttributeNode(S)},appendChild:function(M){return M.nodeType===x?this.insertBefore(M,null):re(this,M)},setAttributeNode:function(M){return this.attributes.setNamedItem(M)},setAttributeNodeNS:function(M){return this.attributes.setNamedItemNS(M)},removeAttributeNode:function(M){return this.attributes.removeNamedItem(M.nodeName)},removeAttributeNS:function(M,S){var q=this.getAttributeNodeNS(M,S);q&&this.removeAttributeNode(q)},hasAttributeNS:function(M,S){return this.getAttributeNodeNS(M,S)!=null},getAttributeNS:function(M,S){var q=this.getAttributeNodeNS(M,S);return q&&q.value||""},setAttributeNS:function(M,S,q){var st=this.ownerDocument.createAttributeNS(M,S);st.value=st.nodeValue=""+q,this.setAttributeNode(st)},getAttributeNodeNS:function(M,S){return this.attributes.getNamedItemNS(M,S)},getElementsByTagName:function(M){return new ft(this,function(S){var q=[];return At(S,function(st){st!==S&&st.nodeType==m&&(M==="*"||st.tagName==M)&&q.push(st)}),q})},getElementsByTagNameNS:function(M,S){return new ft(this,function(q){var st=[];return At(q,function(C){C!==q&&C.nodeType===m&&(M==="*"||C.namespaceURI===M)&&(S==="*"||C.localName==S)&&st.push(C)}),st})}},Dt.prototype.getElementsByTagName=Jt.prototype.getElementsByTagName,Dt.prototype.getElementsByTagNameNS=Jt.prototype.getElementsByTagNameNS,f(Jt,it);function kt(){}kt.prototype.nodeType=y,f(kt,it);function ne(){}ne.prototype={data:"",substringData:function(M,S){return this.data.substring(M,M+S)},appendData:function(M){M=this.data+M,this.nodeValue=this.data=M,this.length=M.length},insertData:function(M,S){this.replaceData(M,0,S)},appendChild:function(M){throw new Error(U[F])},deleteData:function(M,S){this.replaceData(M,S,"")},replaceData:function(M,S,q){var st=this.data.substring(0,M),C=this.data.substring(M+S);q=st+q+C,this.nodeValue=this.data=q,this.length=q.length}},f(ne,it);function Be(){}Be.prototype={nodeName:"#text",nodeType:b,splitText:function(M){var S=this.data,q=S.substring(M);S=S.substring(0,M),this.data=this.nodeValue=S,this.length=S.length;var st=this.ownerDocument.createTextNode(q);return this.parentNode&&this.parentNode.insertBefore(st,this.nextSibling),st}},f(Be,ne);function Ii(){}Ii.prototype={nodeName:"#comment",nodeType:D},f(Ii,ne);function ni(){}ni.prototype={nodeName:"#cdata-section",nodeType:T},f(ni,ne);function De(){}De.prototype.nodeType=N,f(De,it);function ri(){}ri.prototype.nodeType=L,f(ri,it);function Xe(){}Xe.prototype.nodeType=w,f(Xe,it);function tn(){}tn.prototype.nodeType=A,f(tn,it);function Gn(){}Gn.prototype.nodeName="#document-fragment",Gn.prototype.nodeType=x,f(Gn,it);function Dn(){}Dn.prototype.nodeType=E,f(Dn,it);function vi(){}vi.prototype.serializeToString=function(M,S,q){return Ui.call(M,S,q)},it.prototype.toString=Ui;function Ui(M,S){var q=[],st=this.nodeType==9&&this.documentElement||this,C=st.prefix,at=st.namespaceURI;if(at&&C==null){var C=st.lookupPrefix(at);if(C==null)var pt=[{namespace:at,prefix:null}]}return Ct(this,q,M,S,pt),q.join("")}function hn(M,S,q){var st=M.prefix||"",C=M.namespaceURI;if(!C||st==="xml"&&C===e.XML||C===e.XMLNS)return!1;for(var at=q.length;at--;){var pt=q[at];if(pt.prefix===st)return pt.namespace!==C}return!0}function V(M,S,q){M.push(" ",S,'="',q.replace(/[<&"]/g,gt),'"')}function Ct(M,S,q,st,C){if(C||(C=[]),st)if(M=st(M),M){if(typeof M=="string"){S.push(M);return}}else return;switch(M.nodeType){case m:var at=M.attributes,pt=at.length,Ae=M.firstChild,H=M.tagName;q=e.isHTML(M.namespaceURI)||q;var et=H;if(!q&&!M.prefix&&M.namespaceURI){for(var dt,Ft=0;Ft<at.length;Ft++)if(at.item(Ft).name==="xmlns"){dt=at.item(Ft).value;break}if(!dt)for(var It=C.length-1;It>=0;It--){var jt=C[It];if(jt.prefix===""&&jt.namespace===M.namespaceURI){dt=jt.namespace;break}}if(dt!==M.namespaceURI)for(var It=C.length-1;It>=0;It--){var jt=C[It];if(jt.namespace===M.namespaceURI){jt.prefix&&(et=jt.prefix+":"+H);break}}}S.push("<",et);for(var ge=0;ge<pt;ge++){var Di=at.item(ge);Di.prefix=="xmlns"?C.push({prefix:Di.localName,namespace:Di.value}):Di.nodeName=="xmlns"&&C.push({prefix:"",namespace:Di.value})}for(var ge=0;ge<pt;ge++){var Di=at.item(ge);if(hn(Di,q,C)){var He=Di.prefix||"",we=Di.namespaceURI;V(S,He?"xmlns:"+He:"xmlns",we),C.push({prefix:He,namespace:we})}Ct(Di,S,q,st,C)}if(H===et&&hn(M,q,C)){var He=M.prefix||"",we=M.namespaceURI;V(S,He?"xmlns:"+He:"xmlns",we),C.push({prefix:He,namespace:we})}if(Ae||q&&!/^(?:meta|link|img|br|hr|input)$/i.test(H)){if(S.push(">"),q&&/^script$/i.test(H))for(;Ae;)Ae.data?S.push(Ae.data):Ct(Ae,S,q,st,C.slice()),Ae=Ae.nextSibling;else for(;Ae;)Ct(Ae,S,q,st,C.slice()),Ae=Ae.nextSibling;S.push("</",et,">")}else S.push("/>");return;case R:case x:for(var Ae=M.firstChild;Ae;)Ct(Ae,S,q,st,C.slice()),Ae=Ae.nextSibling;return;case y:return V(S,M.name,M.value);case b:return S.push(M.data.replace(/[<&]/g,gt).replace(/]]>/g,"]]&gt;"));case T:return S.push("<![CDATA[",M.data,"]]>");case D:return S.push("<!--",M.data,"-->");case N:var Ci=M.publicId,ti=M.systemId;if(S.push("<!DOCTYPE ",M.name),Ci)S.push(" PUBLIC ",Ci),ti&&ti!="."&&S.push(" ",ti),S.push(">");else if(ti&&ti!=".")S.push(" SYSTEM ",ti,">");else{var Vn=M.internalSubset;Vn&&S.push(" [",Vn,"]"),S.push(">")}return;case E:return S.push("<?",M.target," ",M.data,"?>");case A:return S.push("&",M.nodeName,";");default:S.push("??",M.nodeName)}}function Lt(M,S,q){var st;switch(S.nodeType){case m:st=S.cloneNode(!1),st.ownerDocument=M;case x:break;case y:q=!0;break}if(st||(st=S.cloneNode(!1)),st.ownerDocument=M,st.parentNode=null,q)for(var C=S.firstChild;C;)st.appendChild(Lt(M,C,q)),C=C.nextSibling;return st}function $t(M,S,q){var st=new S.constructor;for(var C in S)if(Object.prototype.hasOwnProperty.call(S,C)){var at=S[C];typeof at!="object"&&at!=st[C]&&(st[C]=at)}switch(S.childNodes&&(st.childNodes=new J),st.ownerDocument=M,st.nodeType){case m:var pt=S.attributes,H=st.attributes=new X,et=pt.length;H._ownerElement=st;for(var dt=0;dt<et;dt++)st.setAttributeNode($t(M,pt.item(dt),!0));break;case y:q=!0}if(q)for(var Ft=S.firstChild;Ft;)st.appendChild($t(M,Ft,q)),Ft=Ft.nextSibling;return st}function nt(M,S,q){M[S]=q}try{if(Object.defineProperty){let M=function(S){switch(S.nodeType){case m:case x:var q=[];for(S=S.firstChild;S;)S.nodeType!==7&&S.nodeType!==8&&q.push(M(S)),S=S.nextSibling;return q.join("");default:return S.nodeValue}};Object.defineProperty(ft.prototype,"length",{get:function(){return bt(this),this.$$length}}),Object.defineProperty(it.prototype,"textContent",{get:function(){return M(this)},set:function(S){switch(this.nodeType){case m:case x:for(;this.firstChild;)this.removeChild(this.firstChild);(S||String(S))&&this.appendChild(this.ownerDocument.createTextNode(S));break;default:this.data=S,this.value=S,this.nodeValue=S}}}),nt=function(S,q,st){S["$$"+q]=st}}}catch{}return Za.DocumentType=De,Za.DOMException=Y,Za.DOMImplementation=K,Za.Element=Jt,Za.Node=it,Za.NodeList=J,Za.XMLSerializer=vi,Za}var Mh={},O1={},AT;function OP(){return AT||(AT=1,function(u){var t=jy().freeze;u.XML_ENTITIES=t({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),u.HTML_ENTITIES=t({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),u.entityMap=u.HTML_ENTITIES}(O1)),O1}var Kv={},_T;function MP(){if(_T)return Kv;_T=1;var u=jy().NAMESPACE,t=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,e=new RegExp("[\\-\\.0-9"+t.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=new RegExp("^"+t.source+e.source+"*(?::"+t.source+e.source+"*)?$"),r=0,a=1,o=2,l=3,h=4,f=5,g=6,m=7;function y(F,k){this.message=F,this.locator=k,Error.captureStackTrace&&Error.captureStackTrace(this,y)}y.prototype=new Error,y.prototype.name=y.name;function b(){}b.prototype={parse:function(F,k,$){var Y=this.domBuilder;Y.startDocument(),N(k,k={}),T(F,k,$,Y,this.errorHandler),Y.endDocument()}};function T(F,k,$,Y,J){function ft(Jt){if(Jt>65535){Jt-=65536;var kt=55296+(Jt>>10),ne=56320+(Jt&1023);return String.fromCharCode(kt,ne)}else return String.fromCharCode(Jt)}function bt(Jt){var kt=Jt.slice(1,-1);return kt in $?$[kt]:kt.charAt(0)==="#"?ft(parseInt(kt.substr(1).replace("x","0x"))):(J.error("entity not found:"+Jt),Jt)}function X(Jt){if(Jt>Dt){var kt=F.substring(Dt,Jt).replace(/&#?\w+;/g,bt);it&&Z(Dt),Y.characters(kt,0,Jt-Dt),Dt=Jt}}function Z(Jt,kt){for(;Jt>=_t&&(kt=K.exec(F));)ct=kt.index,_t=ct+kt[0].length,it.lineNumber++;it.columnNumber=Jt-ct+1}for(var ct=0,_t=0,K=/.*(?:\r\n?|\n)|.*$/g,it=Y.locator,gt=[{currentNSMap:k}],At={},Dt=0;;){try{var qt=F.indexOf("<",Dt);if(qt<0){if(!F.substr(Dt).match(/^\s*$/)){var Ht=Y.doc,Yt=Ht.createTextNode(F.substr(Dt));Ht.appendChild(Yt),Y.currentElement=Yt}return}switch(qt>Dt&&X(qt),F.charAt(qt+1)){case"/":var ke=F.indexOf(">",qt+3),zt=F.substring(qt+2,ke).replace(/[ \t\n\r]+$/g,""),ve=gt.pop();ke<0?(zt=F.substring(qt+2).replace(/[\s<].*/,""),J.error("end tag name: "+zt+" is not complete:"+ve.tagName),ke=qt+1+zt.length):zt.match(/\s</)&&(zt=zt.replace(/[\s<].*/,""),J.error("end tag name: "+zt+" maybe not complete"),ke=qt+1+zt.length);var Te=ve.localNSMap,oe=ve.tagName==zt,fe=oe||ve.tagName&&ve.tagName.toLowerCase()==zt.toLowerCase();if(fe){if(Y.endElement(ve.uri,ve.localName,zt),Te)for(var de in Te)Object.prototype.hasOwnProperty.call(Te,de)&&Y.endPrefixMapping(de);oe||J.fatalError("end tag name: "+zt+" is not match the current start tagName:"+ve.tagName)}else gt.push(ve);ke++;break;case"?":it&&Z(qt),ke=L(F,qt,Y);break;case"!":it&&Z(qt),ke=x(F,qt,Y,J);break;default:it&&Z(qt);var ye=new I,Ue=gt[gt.length-1].currentNSMap,ke=w(F,qt,ye,Ue,bt,J),ue=ye.length;if(!ye.closed&&R(F,ke,ye.tagName,At)&&(ye.closed=!0,$.nbsp||J.warning("unclosed xml attribute")),it&&ue){for(var Zt=A(it,{}),Xt=0;Xt<ue;Xt++){var re=ye[Xt];Z(re.offset),re.locator=A(it,{})}Y.locator=Zt,E(ye,Y,Ue)&&gt.push(ye),Y.locator=it}else E(ye,Y,Ue)&&gt.push(ye);u.isHTML(ye.uri)&&!ye.closed?ke=D(F,ke,ye.tagName,bt,Y):ke++}}catch(Jt){if(Jt instanceof y)throw Jt;J.error("element parse error: "+Jt),ke=-1}ke>Dt?Dt=ke:X(Math.max(qt,Dt)+1)}}function A(F,k){return k.lineNumber=F.lineNumber,k.columnNumber=F.columnNumber,k}function w(F,k,$,Y,J,ft){function bt(it,gt,At){$.attributeNames.hasOwnProperty(it)&&ft.fatalError("Attribute "+it+" redefined"),$.addValue(it,gt,At)}for(var X,Z,ct=++k,_t=r;;){var K=F.charAt(ct);switch(K){case"=":if(_t===a)X=F.slice(k,ct),_t=l;else if(_t===o)_t=l;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(_t===l||_t===a)if(_t===a&&(ft.warning('attribute value must after "="'),X=F.slice(k,ct)),k=ct+1,ct=F.indexOf(K,k),ct>0)Z=F.slice(k,ct).replace(/&#?\w+;/g,J),bt(X,Z,k-1),_t=f;else throw new Error("attribute value no end '"+K+"' match");else if(_t==h)Z=F.slice(k,ct).replace(/&#?\w+;/g,J),bt(X,Z,k),ft.warning('attribute "'+X+'" missed start quot('+K+")!!"),k=ct+1,_t=f;else throw new Error('attribute value must after "="');break;case"/":switch(_t){case r:$.setTagName(F.slice(k,ct));case f:case g:case m:_t=m,$.closed=!0;case h:case a:break;case o:$.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return ft.error("unexpected end of input"),_t==r&&$.setTagName(F.slice(k,ct)),ct;case">":switch(_t){case r:$.setTagName(F.slice(k,ct));case f:case g:case m:break;case h:case a:Z=F.slice(k,ct),Z.slice(-1)==="/"&&($.closed=!0,Z=Z.slice(0,-1));case o:_t===o&&(Z=X),_t==h?(ft.warning('attribute "'+Z+'" missed quot(")!'),bt(X,Z.replace(/&#?\w+;/g,J),k)):((!u.isHTML(Y[""])||!Z.match(/^(?:disabled|checked|selected)$/i))&&ft.warning('attribute "'+Z+'" missed value!! "'+Z+'" instead!!'),bt(Z,Z,k));break;case l:throw new Error("attribute value missed!!")}return ct;case"":K=" ";default:if(K<=" ")switch(_t){case r:$.setTagName(F.slice(k,ct)),_t=g;break;case a:X=F.slice(k,ct),_t=o;break;case h:var Z=F.slice(k,ct).replace(/&#?\w+;/g,J);ft.warning('attribute "'+Z+'" missed quot(")!!'),bt(X,Z,k);case f:_t=g;break}else switch(_t){case o:$.tagName,(!u.isHTML(Y[""])||!X.match(/^(?:disabled|checked|selected)$/i))&&ft.warning('attribute "'+X+'" missed value!! "'+X+'" instead2!!'),bt(X,X,k),k=ct,_t=a;break;case f:ft.warning('attribute space is required"'+X+'"!!');case g:_t=a,k=ct;break;case l:_t=h,k=ct;break;case m:throw new Error("elements closed character '/' and '>' must be connected to")}}ct++}}function E(F,k,$){for(var Y=F.tagName,J=null,K=F.length;K--;){var ft=F[K],bt=ft.qName,X=ft.value,it=bt.indexOf(":");if(it>0)var Z=ft.prefix=bt.slice(0,it),ct=bt.slice(it+1),_t=Z==="xmlns"&&ct;else ct=bt,Z=null,_t=bt==="xmlns"&&"";ft.localName=ct,_t!==!1&&(J==null&&(J={},N($,$={})),$[_t]=J[_t]=X,ft.uri=u.XMLNS,k.startPrefixMapping(_t,X))}for(var K=F.length;K--;){ft=F[K];var Z=ft.prefix;Z&&(Z==="xml"&&(ft.uri=u.XML),Z!=="xmlns"&&(ft.uri=$[Z||""]))}var it=Y.indexOf(":");it>0?(Z=F.prefix=Y.slice(0,it),ct=F.localName=Y.slice(it+1)):(Z=null,ct=F.localName=Y);var gt=F.uri=$[Z||""];if(k.startElement(gt,ct,Y,F),F.closed){if(k.endElement(gt,ct,Y),J)for(Z in J)Object.prototype.hasOwnProperty.call(J,Z)&&k.endPrefixMapping(Z)}else return F.currentNSMap=$,F.localNSMap=J,!0}function D(F,k,$,Y,J){if(/^(?:script|textarea)$/i.test($)){var ft=F.indexOf("</"+$+">",k),bt=F.substring(k+1,ft);if(/[&<]/.test(bt))return/^script$/i.test($)?(J.characters(bt,0,bt.length),ft):(bt=bt.replace(/&#?\w+;/g,Y),J.characters(bt,0,bt.length),ft)}return k+1}function R(F,k,$,Y){var J=Y[$];return J==null&&(J=F.lastIndexOf("</"+$+">"),J<k&&(J=F.lastIndexOf("</"+$)),Y[$]=J),J<k}function N(F,k){for(var $ in F)Object.prototype.hasOwnProperty.call(F,$)&&(k[$]=F[$])}function x(F,k,$,Y){var J=F.charAt(k+2);switch(J){case"-":if(F.charAt(k+3)==="-"){var ft=F.indexOf("-->",k+4);return ft>k?($.comment(F,k+4,ft-k-4),ft+3):(Y.error("Unclosed comment"),-1)}else return-1;default:if(F.substr(k+3,6)=="CDATA["){var ft=F.indexOf("]]>",k+9);return $.startCDATA(),$.characters(F,k+9,ft-k-9),$.endCDATA(),ft+3}var bt=U(F,k),X=bt.length;if(X>1&&/!doctype/i.test(bt[0][0])){var Z=bt[1][0],ct=!1,_t=!1;X>3&&(/^public$/i.test(bt[2][0])?(ct=bt[3][0],_t=X>4&&bt[4][0]):/^system$/i.test(bt[2][0])&&(_t=bt[3][0]));var K=bt[X-1];return $.startDTD(Z,ct,_t),$.endDTD(),K.index+K[0].length}}return-1}function L(F,k,$){var Y=F.indexOf("?>",k);if(Y){var J=F.substring(k,Y).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return J?(J[0].length,$.processingInstruction(J[1],J[2]),Y+2):-1}return-1}function I(){this.attributeNames={}}I.prototype={setTagName:function(F){if(!i.test(F))throw new Error("invalid tagName:"+F);this.tagName=F},addValue:function(F,k,$){if(!i.test(F))throw new Error("invalid attribute:"+F);this.attributeNames[F]=this.length,this[this.length++]={qName:F,value:k,offset:$}},length:0,getLocalName:function(F){return this[F].localName},getLocator:function(F){return this[F].locator},getQName:function(F){return this[F].qName},getURI:function(F){return this[F].uri},getValue:function(F){return this[F].value}};function U(F,k){var $,Y=[],J=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(J.lastIndex=k,J.exec(F);$=J.exec(F);)if(Y.push($),$[1])return Y}return Kv.XMLReader=b,Kv.ParseError=y,Kv}var ET;function LP(){if(ET)return Mh;ET=1;var u=jy(),t=iR(),e=OP(),i=MP(),r=t.DOMImplementation,a=u.NAMESPACE,o=i.ParseError,l=i.XMLReader;function h(A){this.options=A||{locator:{}}}h.prototype.parseFromString=function(A,w){var E=this.options,D=new l,R=E.domBuilder||new g,N=E.errorHandler,x=E.locator,L=E.xmlns||{},I=/\/x?html?$/.test(w),U=I?e.HTML_ENTITIES:e.XML_ENTITIES;return x&&R.setDocumentLocator(x),D.errorHandler=f(N,R,x),D.domBuilder=E.domBuilder||R,I&&(L[""]=a.HTML),L.xml=L.xml||a.XML,A&&typeof A=="string"?D.parse(A,L,U):D.errorHandler.error("invalid doc source"),R.doc};function f(A,w,E){if(!A){if(w instanceof g)return w;A=w}var D={},R=A instanceof Function;E=E||{};function N(x){var L=A[x];!L&&R&&(L=A.length==2?function(I){A(x,I)}:A),D[x]=L&&function(I){L("[xmldom "+x+"]	"+I+y(E))}||function(){}}return N("warning"),N("error"),N("fatalError"),D}function g(){this.cdata=!1}function m(A,w){w.lineNumber=A.lineNumber,w.columnNumber=A.columnNumber}g.prototype={startDocument:function(){this.doc=new r().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(A,w,E,D){var R=this.doc,N=R.createElementNS(A,E||w),x=D.length;T(this,N),this.currentElement=N,this.locator&&m(this.locator,N);for(var L=0;L<x;L++){var A=D.getURI(L),I=D.getValue(L),E=D.getQName(L),U=R.createAttributeNS(A,E);this.locator&&m(D.getLocator(L),U),U.value=U.nodeValue=I,N.setAttributeNode(U)}},endElement:function(A,w,E){var D=this.currentElement;D.tagName,this.currentElement=D.parentNode},startPrefixMapping:function(A,w){},endPrefixMapping:function(A){},processingInstruction:function(A,w){var E=this.doc.createProcessingInstruction(A,w);this.locator&&m(this.locator,E),T(this,E)},ignorableWhitespace:function(A,w,E){},characters:function(A,w,E){if(A=b.apply(this,arguments),A){if(this.cdata)var D=this.doc.createCDATASection(A);else var D=this.doc.createTextNode(A);this.currentElement?this.currentElement.appendChild(D):/^\s*$/.test(A)&&this.doc.appendChild(D),this.locator&&m(this.locator,D)}},skippedEntity:function(A){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(A){(this.locator=A)&&(A.lineNumber=0)},comment:function(A,w,E){A=b.apply(this,arguments);var D=this.doc.createComment(A);this.locator&&m(this.locator,D),T(this,D)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(A,w,E){var D=this.doc.implementation;if(D&&D.createDocumentType){var R=D.createDocumentType(A,w,E);this.locator&&m(this.locator,R),T(this,R),this.doc.doctype=R}},warning:function(A){console.warn("[xmldom warning]	"+A,y(this.locator))},error:function(A){console.error("[xmldom error]	"+A,y(this.locator))},fatalError:function(A){throw new o(A,this.locator)}};function y(A){if(A)return`
@`+(A.systemId||"")+"#[line:"+A.lineNumber+",col:"+A.columnNumber+"]"}function b(A,w,E){return typeof A=="string"?A.substr(w,E):A.length>=w+E||w?new java.lang.String(A,w,E)+"":A}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(A){g.prototype[A]=function(){return null}});function T(A,w){A.currentElement?A.currentElement.appendChild(w):A.doc.appendChild(w)}return Mh.__DOMHandler=g,Mh.DOMParser=h,Mh.DOMImplementation=t.DOMImplementation,Mh.XMLSerializer=t.XMLSerializer,Mh}var ST;function IP(){if(ST)return dp;ST=1;var u=iR();return dp.DOMImplementation=u.DOMImplementation,dp.XMLSerializer=u.XMLSerializer,dp.DOMParser=LP().DOMParser,dp}var nR=IP();const f_=typeof window<"u"?window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame:!1,BP=1,PP=3,rR=typeof URL<"u"?URL:typeof window<"u"?window.URL||window.webkitURL||window.mozURL:void 0;function qy(){var u=new Date().getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var i=(u+Math.random()*16)%16|0;return u=Math.floor(u/16),(e=="x"?i:i&7|8).toString(16)});return t}function zP(){return Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight)}function sR(u){return!!(u&&u.nodeType==1)}function Wi(u){return!isNaN(parseFloat(u))&&isFinite(u)}function aR(u){let t=parseFloat(u);return Wi(u)===!1?!1:typeof u=="string"&&u.indexOf(".")>-1?!0:Math.floor(t)!==t}function Bh(u){var t=["Webkit","webkit","Moz","O","ms"],e=["-webkit-","-webkit-","-moz-","-o-","-ms-"],i=u.toLowerCase(),r=t.length;if(typeof document>"u"||typeof document.body.style[i]<"u")return u;for(var a=0;a<r;a++)if(typeof document.body.style[e[a]+i]<"u")return e[a]+i;return u}function oR(u){for(var t=1,e=arguments.length;t<e;t++){var i=arguments[t];for(var r in i)u[r]===void 0&&(u[r]=i[r])}return u}function jn(u){var t=[].slice.call(arguments,1);return t.forEach(function(e){e&&Object.getOwnPropertyNames(e).forEach(function(i){Object.defineProperty(u,i,Object.getOwnPropertyDescriptor(e,i))})}),u}function FP(u,t,e){var i=ld(u,t,e);return t.splice(i,0,u),i}function ld(u,t,e,i,r){var a=i||0,o=r||t.length,l=parseInt(a+(o-a)/2),h;return e||(e=function(f,g){if(f>g)return 1;if(f<g)return-1;if(f==g)return 0}),o-a<=0?l:(h=e(t[l],u),o-a===1?h>=0?l:l+1:h===0?l:h===-1?ld(u,t,e,l,o):ld(u,t,e,a,l))}function W0(u,t,e,i,r){var a=i||0,o=r||t.length,l=parseInt(a+(o-a)/2),h;return e||(e=function(f,g){if(f>g)return 1;if(f<g)return-1;if(f==g)return 0}),o-a<=0?-1:(h=e(t[l],u),o-a===1?h===0?l:-1:h===0?l:h===-1?W0(u,t,e,l,o):W0(u,t,e,a,l))}function c0(u){var t=window.getComputedStyle(u),e=["width","paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],i=["height","paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],r=0,a=0;return e.forEach(function(o){r+=parseFloat(t[o])||0}),i.forEach(function(o){a+=parseFloat(t[o])||0}),{height:a,width:r}}function Y0(u){var t=window.getComputedStyle(u),e=["paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],i=["paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],r=0,a=0;return e.forEach(function(o){r+=parseFloat(t[o])||0}),i.forEach(function(o){a+=parseFloat(t[o])||0}),{height:a,width:r}}function ww(u){let t,e=u.ownerDocument;if(u.nodeType==Node.TEXT_NODE){let i=e.createRange();i.selectNodeContents(u),t=i.getBoundingClientRect()}else t=u.getBoundingClientRect();return t}function X0(){var u=window.innerWidth,t=window.innerHeight;return{top:0,left:0,right:u,bottom:t,width:u,height:t}}function d_(u,t){for(var e=u.parentNode,i=e.childNodes,r,a=-1,o=0;o<i.length&&(r=i[o],r.nodeType===t&&a++,r!=u);o++);return a}function UP(u){return d_(u,PP)}function lR(u){return d_(u,BP)}function Wp(u){return["xml","opf","ncx"].indexOf(u)>-1}function uR(u,t){return new Blob([u],{type:t})}function K0(u,t){var e,i=uR(u,t);return e=rR.createObjectURL(i),e}function cR(u){return rR.revokeObjectURL(u)}function Aw(u,t){var e,i;if(typeof u=="string")return e=btoa(u),i="data:"+t+";base64,"+e,i}function hR(u){return Object.prototype.toString.call(u).slice(8,-1)}function ka(u,t,e){var i,r;return typeof DOMParser>"u"||e?r=nR.DOMParser:r=DOMParser,u.charCodeAt(0)===65279&&(u=u.slice(1)),i=new r().parseFromString(u,t),i}function _i(u,t){var e;if(!u)throw new Error("No Element Provided");if(typeof u.querySelector<"u")return u.querySelector(t);if(e=u.getElementsByTagName(t),e.length)return e[0]}function Po(u,t){return typeof u.querySelector<"u"?u.querySelectorAll(t):u.getElementsByTagName(t)}function Ph(u,t,e){var i,r;if(typeof u.querySelector<"u"){t+="[";for(var a in e)t+=a+"~='"+e[a]+"'";return t+="]",u.querySelector(t)}else if(i=u.getElementsByTagName(t),r=Array.prototype.slice.call(i,0).filter(function(o){for(var l in e)if(o.getAttribute(l)===e[l])return!0;return!1}),r)return r[0]}function Z0(u,t){var e=u.ownerDocument||u;typeof e.createTreeWalker<"u"?fR(u,t,NodeFilter.SHOW_TEXT):p_(u,function(i){i&&i.nodeType===3&&t(i)})}function fR(u,t,e){var i=document.createTreeWalker(u,e,null,!1);let r;for(;r=i.nextNode();)t(r)}function p_(u,t){if(t(u))return!0;if(u=u.firstChild,u)do{if(p_(u,t))return!0;u=u.nextSibling}while(u)}function dR(u){return new Promise(function(t,e){var i=new FileReader;i.readAsDataURL(u),i.onloadend=function(){t(i.result)}})}function ze(){this.resolve=null,this.reject=null,this.id=qy(),this.promise=new Promise((u,t)=>{this.resolve=u,this.reject=t}),Object.freeze(this)}function Q0(u,t,e){var i;if(typeof u.querySelector<"u"&&(i=u.querySelector(`${t}[*|type="${e}"]`)),!i||i.length===0){i=Po(u,t);for(var r=0;r<i.length;r++)if(i[r].getAttributeNS("http://www.idpf.org/2007/ops","type")===e||i[r].getAttribute("epub:type")===e)return i[r]}else return i}function _w(u){for(var t=[],e=u.childNodes,i=0;i<e.length;i++){let r=e[i];r.nodeType===1&&t.push(r)}return t}function Ew(u){for(var t=[u];u;u=u.parentNode)t.unshift(u);return t}function zh(u,t,e){for(var i=[],r=u.childNodes,a=0;a<r.length;a++){let o=r[a];if(o.nodeType===1&&o.nodeName.toLowerCase()===t){if(e)return o;i.push(o)}}if(!e)return i}function HP(u,t){let e;if(!(u===null||t===""))for(e=u.parentNode;e.nodeType===1;){if(e.tagName.toLowerCase()===t)return e;e=e.parentNode}}class pR{constructor(){this.collapsed=!1,this.commonAncestorContainer=void 0,this.endContainer=void 0,this.endOffset=void 0,this.startContainer=void 0,this.startOffset=void 0}setStart(t,e){this.startContainer=t,this.startOffset=e,this.endContainer?this.commonAncestorContainer=this._commonAncestorContainer():this.collapse(!0),this._checkCollapsed()}setEnd(t,e){this.endContainer=t,this.endOffset=e,this.startContainer?(this.collapsed=!1,this.commonAncestorContainer=this._commonAncestorContainer()):this.collapse(!1),this._checkCollapsed()}collapse(t){this.collapsed=!0,t?(this.endContainer=this.startContainer,this.endOffset=this.startOffset,this.commonAncestorContainer=this.startContainer.parentNode):(this.startContainer=this.endContainer,this.startOffset=this.endOffset,this.commonAncestorContainer=this.endOffset.parentNode)}selectNode(t){let e=t.parentNode,i=Array.prototype.indexOf.call(e.childNodes,t);this.setStart(e,i),this.setEnd(e,i+1)}selectNodeContents(t){t.childNodes[t.childNodes-1];let e=t.nodeType===3?t.textContent.length:parent.childNodes.length;this.setStart(t,0),this.setEnd(t,e)}_commonAncestorContainer(t,e){var i=Ew(t||this.startContainer),r=Ew(e||this.endContainer);if(i[0]==r[0]){for(var a=0;a<i.length;a++)if(i[a]!=r[a])return i[a-1]}}_checkCollapsed(){this.startContainer===this.endContainer&&this.startOffset===this.endOffset?this.collapsed=!0:this.collapsed=!1}toString(){}}const jP=Object.freeze(Object.defineProperty({__proto__:null,RangeObject:pR,blob2base64:dR,borders:Y0,bounds:c0,createBase64Url:Aw,createBlob:uR,createBlobUrl:K0,defaults:oR,defer:ze,documentHeight:zP,extend:jn,filterChildren:zh,findChildren:_w,getParentByTagName:HP,indexOfElementNode:lR,indexOfNode:d_,indexOfSorted:W0,indexOfTextNode:UP,insert:FP,isElement:sR,isFloat:aR,isNumber:Wi,isXml:Wp,locationOf:ld,nodeBounds:ww,parents:Ew,parse:ka,prefixed:Bh,qs:_i,qsa:Po,qsp:Ph,querySelectorByType:Q0,requestAnimationFrame:f_,revokeBlobUrl:cR,sprint:Z0,treeWalker:fR,type:hR,uuid:qy,walk:p_,windowBounds:X0},Symbol.toStringTag,{value:"Module"}));var M1,xT;function qP(){if(xT)return M1;if(xT=1,!u)var u={cwd:function(){return"/"}};function t(a){if(typeof a!="string")throw new TypeError("Path must be a string. Received "+a)}function e(a,o){for(var l="",h=-1,f=0,g,m=0;m<=a.length;++m){if(m<a.length)g=a.charCodeAt(m);else{if(g===47)break;g=47}if(g===47){if(!(h===m-1||f===1))if(h!==m-1&&f===2){if(l.length<2||l.charCodeAt(l.length-1)!==46||l.charCodeAt(l.length-2)!==46){if(l.length>2){for(var y=l.length-1,b=y;b>=0&&l.charCodeAt(b)!==47;--b);if(b!==y){b===-1?l="":l=l.slice(0,b),h=m,f=0;continue}}else if(l.length===2||l.length===1){l="",h=m,f=0;continue}}o&&(l.length>0?l+="/..":l="..")}else l.length>0?l+="/"+a.slice(h+1,m):l=a.slice(h+1,m);h=m,f=0}else g===46&&f!==-1?++f:f=-1}return l}function i(a,o){var l=o.dir||o.root,h=o.base||(o.name||"")+(o.ext||"");return l?l===o.root?l+h:l+a+h:h}var r={resolve:function(){for(var o="",l=!1,h,f=arguments.length-1;f>=-1&&!l;f--){var g;f>=0?g=arguments[f]:(h===void 0&&(h=u.cwd()),g=h),t(g),g.length!==0&&(o=g+"/"+o,l=g.charCodeAt(0)===47)}return o=e(o,!l),l?o.length>0?"/"+o:"/":o.length>0?o:"."},normalize:function(o){if(t(o),o.length===0)return".";var l=o.charCodeAt(0)===47,h=o.charCodeAt(o.length-1)===47;return o=e(o,!l),o.length===0&&!l&&(o="."),o.length>0&&h&&(o+="/"),l?"/"+o:o},isAbsolute:function(o){return t(o),o.length>0&&o.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var o,l=0;l<arguments.length;++l){var h=arguments[l];t(h),h.length>0&&(o===void 0?o=h:o+="/"+h)}return o===void 0?".":r.normalize(o)},relative:function(o,l){if(t(o),t(l),o===l||(o=r.resolve(o),l=r.resolve(l),o===l))return"";for(var h=1;h<o.length&&o.charCodeAt(h)===47;++h);for(var f=o.length,g=f-h,m=1;m<l.length&&l.charCodeAt(m)===47;++m);for(var y=l.length,b=y-m,T=g<b?g:b,A=-1,w=0;w<=T;++w){if(w===T){if(b>T){if(l.charCodeAt(m+w)===47)return l.slice(m+w+1);if(w===0)return l.slice(m+w)}else g>T&&(o.charCodeAt(h+w)===47?A=w:w===0&&(A=0));break}var E=o.charCodeAt(h+w),D=l.charCodeAt(m+w);if(E!==D)break;E===47&&(A=w)}var R="";for(w=h+A+1;w<=f;++w)(w===f||o.charCodeAt(w)===47)&&(R.length===0?R+="..":R+="/..");return R.length>0?R+l.slice(m+A):(m+=A,l.charCodeAt(m)===47&&++m,l.slice(m))},_makeLong:function(o){return o},dirname:function(o){if(t(o),o.length===0)return".";for(var l=o.charCodeAt(0),h=l===47,f=-1,g=!0,m=o.length-1;m>=1;--m)if(l=o.charCodeAt(m),l===47){if(!g){f=m;break}}else g=!1;return f===-1?h?"/":".":h&&f===1?"//":o.slice(0,f)},basename:function(o,l){if(l!==void 0&&typeof l!="string")throw new TypeError('"ext" argument must be a string');t(o);var h=0,f=-1,g=!0,m;if(l!==void 0&&l.length>0&&l.length<=o.length){if(l.length===o.length&&l===o)return"";var y=l.length-1,b=-1;for(m=o.length-1;m>=0;--m){var T=o.charCodeAt(m);if(T===47){if(!g){h=m+1;break}}else b===-1&&(g=!1,b=m+1),y>=0&&(T===l.charCodeAt(y)?--y===-1&&(f=m):(y=-1,f=b))}return h===f?f=b:f===-1&&(f=o.length),o.slice(h,f)}else{for(m=o.length-1;m>=0;--m)if(o.charCodeAt(m)===47){if(!g){h=m+1;break}}else f===-1&&(g=!1,f=m+1);return f===-1?"":o.slice(h,f)}},extname:function(o){t(o);for(var l=-1,h=0,f=-1,g=!0,m=0,y=o.length-1;y>=0;--y){var b=o.charCodeAt(y);if(b===47){if(!g){h=y+1;break}continue}f===-1&&(g=!1,f=y+1),b===46?l===-1?l=y:m!==1&&(m=1):l!==-1&&(m=-1)}return l===-1||f===-1||m===0||m===1&&l===f-1&&l===h+1?"":o.slice(l,f)},format:function(o){if(o===null||typeof o!="object")throw new TypeError('Parameter "pathObject" must be an object, not '+typeof o);return i("/",o)},parse:function(o){t(o);var l={root:"",dir:"",base:"",ext:"",name:""};if(o.length===0)return l;var h=o.charCodeAt(0),f=h===47,g;f?(l.root="/",g=1):g=0;for(var m=-1,y=0,b=-1,T=!0,A=o.length-1,w=0;A>=g;--A){if(h=o.charCodeAt(A),h===47){if(!T){y=A+1;break}continue}b===-1&&(T=!1,b=A+1),h===46?m===-1?m=A:w!==1&&(w=1):m!==-1&&(w=-1)}return m===-1||b===-1||w===0||w===1&&m===b-1&&m===y+1?b!==-1&&(y===0&&f?l.base=l.name=o.slice(1,b):l.base=l.name=o.slice(y,b)):(y===0&&f?(l.name=o.slice(1,m),l.base=o.slice(1,b)):(l.name=o.slice(y,m),l.base=o.slice(y,b)),l.ext=o.slice(m,b)),y>0?l.dir=o.slice(0,y-1):f&&(l.dir="/"),l},sep:"/",delimiter:":",posix:null};return M1=r,M1}var GP=qP();const Ql=qc(GP);class zo{constructor(t){var e,i;e=t.indexOf("://"),e>-1&&(t=new URL(t).pathname),i=this.parse(t),this.path=t,this.isDirectory(t)?this.directory=t:this.directory=i.dir+"/",this.filename=i.base,this.extension=i.ext.slice(1)}parse(t){return Ql.parse(t)}isAbsolute(t){return Ql.isAbsolute(t||this.path)}isDirectory(t){return t.charAt(t.length-1)==="/"}resolve(t){return Ql.resolve(this.directory,t)}relative(t){var e=t&&t.indexOf("://")>-1;return e?t:Ql.relative(this.directory,t)}splitPath(t){return this.splitPathRe.exec(t).slice(1)}toString(){return this.path}}class Bs{constructor(t,e){var i=t.indexOf("://")>-1,r=t,a;if(this.Url=void 0,this.href=t,this.protocol="",this.origin="",this.hash="",this.hash="",this.search="",this.base=e,!i&&e!==!1&&typeof e!="string"&&window&&window.location&&(this.base=window.location.href),i||this.base)try{this.base?this.Url=new URL(t,this.base):this.Url=new URL(t),this.href=this.Url.href,this.protocol=this.Url.protocol,this.origin=this.Url.origin,this.hash=this.Url.hash,this.search=this.Url.search,r=this.Url.pathname+(this.Url.search?this.Url.search:"")}catch{this.Url=void 0,this.base&&(a=new zo(this.base),r=a.resolve(r))}this.Path=new zo(r),this.directory=this.Path.directory,this.filename=this.Path.filename,this.extension=this.Path.extension}path(){return this.Path}resolve(t){var e=t.indexOf("://")>-1,i;return e?t:(i=Ql.resolve(this.directory,t),this.origin+i)}relative(t){return Ql.relative(t,this.directory)}toString(){return this.href}}const Lh=1,fs=3,VP=9;class Fe{constructor(t,e,i){var r;if(this.str="",this.base={},this.spinePos=0,this.range=!1,this.path={},this.start=null,this.end=null,!(this instanceof Fe))return new Fe(t,e,i);if(typeof e=="string"?this.base=this.parseComponent(e):typeof e=="object"&&e.steps&&(this.base=e),r=this.checkType(t),r==="string")return this.str=t,jn(this,this.parse(t));if(r==="range")return jn(this,this.fromRange(t,this.base,i));if(r==="node")return jn(this,this.fromNode(t,this.base,i));if(r==="EpubCFI"&&t.path)return t;if(t)throw new TypeError("not a valid argument for EpubCFI");return this}checkType(t){return this.isCfiString(t)?"string":t&&typeof t=="object"&&(hR(t)==="Range"||typeof t.startContainer<"u")?"range":t&&typeof t=="object"&&typeof t.nodeType<"u"?"node":t&&typeof t=="object"&&t instanceof Fe?"EpubCFI":!1}parse(t){var e={spinePos:-1,range:!1,base:{},path:{},start:null,end:null},i,r,a;return typeof t!="string"?{spinePos:-1}:(t.indexOf("epubcfi(")===0&&t[t.length-1]===")"&&(t=t.slice(8,t.length-1)),i=this.getChapterComponent(t),i?(e.base=this.parseComponent(i),r=this.getPathComponent(t),e.path=this.parseComponent(r),a=this.getRange(t),a&&(e.range=!0,e.start=this.parseComponent(a[0]),e.end=this.parseComponent(a[1])),e.spinePos=e.base.steps[1].index,e):{spinePos:-1})}parseComponent(t){var e={steps:[],terminal:{offset:null,assertion:null}},i=t.split(":"),r=i[0].split("/"),a;return i.length>1&&(a=i[1],e.terminal=this.parseTerminal(a)),r[0]===""&&r.shift(),e.steps=r.map((function(o){return this.parseStep(o)}).bind(this)),e}parseStep(t){var e,i,r,a,o;if(a=t.match(/\[(.*)\]/),a&&a[1]&&(o=a[1]),i=parseInt(t),!isNaN(i))return i%2===0?(e="element",r=i/2-1):(e="text",r=(i-1)/2),{type:e,index:r,id:o||null}}parseTerminal(t){var e,i,r=t.match(/\[(.*)\]/);return r&&r[1]?(e=parseInt(t.split("[")[0]),i=r[1]):e=parseInt(t),Wi(e)||(e=null),{offset:e,assertion:i}}getChapterComponent(t){var e=t.split("!");return e[0]}getPathComponent(t){var e=t.split("!");if(e[1])return e[1].split(",")[0]}getRange(t){var e=t.split(",");return e.length===3?[e[1],e[2]]:!1}getCharecterOffsetComponent(t){var e=t.split(":");return e[1]||""}joinSteps(t){return t?t.map(function(e){var i="";return e.type==="element"&&(i+=(e.index+1)*2),e.type==="text"&&(i+=1+2*e.index),e.id&&(i+="["+e.id+"]"),i}).join("/"):""}segmentString(t){var e="/";return e+=this.joinSteps(t.steps),t.terminal&&t.terminal.offset!=null&&(e+=":"+t.terminal.offset),t.terminal&&t.terminal.assertion!=null&&(e+="["+t.terminal.assertion+"]"),e}toString(){var t="epubcfi(";return t+=this.segmentString(this.base),t+="!",t+=this.segmentString(this.path),this.range&&this.start&&(t+=",",t+=this.segmentString(this.start)),this.range&&this.end&&(t+=",",t+=this.segmentString(this.end)),t+=")",t}compare(t,e){var i,r,a,o;if(typeof t=="string"&&(t=new Fe(t)),typeof e=="string"&&(e=new Fe(e)),t.spinePos>e.spinePos)return 1;if(t.spinePos<e.spinePos)return-1;t.range?(i=t.path.steps.concat(t.start.steps),a=t.start.terminal):(i=t.path.steps,a=t.path.terminal),e.range?(r=e.path.steps.concat(e.start.steps),o=e.start.terminal):(r=e.path.steps,o=e.path.terminal);for(var l=0;l<i.length;l++){if(!i[l])return-1;if(!r[l]||i[l].index>r[l].index)return 1;if(i[l].index<r[l].index)return-1}return i.length<r.length?-1:a.offset>o.offset?1:a.offset<o.offset?-1:0}step(t){var e=t.nodeType===fs?"text":"element";return{id:t.id,tagName:t.tagName,type:e,index:this.position(t)}}filteredStep(t,e){var i=this.filter(t,e),r;if(i)return r=i.nodeType===fs?"text":"element",{id:i.id,tagName:i.tagName,type:r,index:this.filteredPosition(i,e)}}pathTo(t,e,i){for(var r={steps:[],terminal:{offset:null,assertion:null}},a=t,o;a&&a.parentNode&&a.parentNode.nodeType!=VP;)i?o=this.filteredStep(a,i):o=this.step(a),o&&r.steps.unshift(o),a=a.parentNode;return e!=null&&e>=0&&(r.terminal.offset=e,r.steps[r.steps.length-1].type!="text"&&r.steps.push({type:"text",index:0})),r}equalStep(t,e){return!t||!e?!1:t.index===e.index&&t.id===e.id&&t.type===e.type}fromRange(t,e,i){var r={range:!1,base:{},path:{},start:null,end:null},a=t.startContainer,o=t.endContainer,l=t.startOffset,h=t.endOffset,f=!1;if(i&&(f=a.ownerDocument.querySelector("."+i)!=null),typeof e=="string"?(r.base=this.parseComponent(e),r.spinePos=r.base.steps[1].index):typeof e=="object"&&(r.base=e),t.collapsed)f&&(l=this.patchOffset(a,l,i)),r.path=this.pathTo(a,l,i);else{r.range=!0,f&&(l=this.patchOffset(a,l,i)),r.start=this.pathTo(a,l,i),f&&(h=this.patchOffset(o,h,i)),r.end=this.pathTo(o,h,i),r.path={steps:[],terminal:null};var g=r.start.steps.length,m;for(m=0;m<g&&this.equalStep(r.start.steps[m],r.end.steps[m]);m++)m===g-1?r.start.terminal===r.end.terminal&&(r.path.steps.push(r.start.steps[m]),r.range=!1):r.path.steps.push(r.start.steps[m]);r.start.steps=r.start.steps.slice(r.path.steps.length),r.end.steps=r.end.steps.slice(r.path.steps.length)}return r}fromNode(t,e,i){var r={range:!1,base:{},path:{},start:null,end:null};return typeof e=="string"?(r.base=this.parseComponent(e),r.spinePos=r.base.steps[1].index):typeof e=="object"&&(r.base=e),r.path=this.pathTo(t,null,i),r}filter(t,e){var i,r,a,o,l,h=!1;return t.nodeType===fs?(h=!0,a=t.parentNode,i=t.parentNode.classList.contains(e)):(h=!1,i=t.classList.contains(e)),i&&h?(o=a.previousSibling,l=a.nextSibling,o&&o.nodeType===fs?r=o:l&&l.nodeType===fs&&(r=l),r||t):i&&!h?!1:t}patchOffset(t,e,i){if(t.nodeType!=fs)throw new Error("Anchor must be a text node");var r=t,a=e;for(t.parentNode.classList.contains(i)&&(r=t.parentNode);r.previousSibling;){if(r.previousSibling.nodeType===Lh)if(r.previousSibling.classList.contains(i))a+=r.previousSibling.textContent.length;else break;else a+=r.previousSibling.textContent.length;r=r.previousSibling}return a}normalizedMap(t,e,i){var r={},a=-1,o,l=t.length,h,f;for(o=0;o<l;o++)h=t[o].nodeType,h===Lh&&t[o].classList.contains(i)&&(h=fs),o>0&&h===fs&&f===fs?r[o]=a:e===h&&(a=a+1,r[o]=a),f=h;return r}position(t){var e,i;return t.nodeType===Lh?(e=t.parentNode.children,e||(e=_w(t.parentNode)),i=Array.prototype.indexOf.call(e,t)):(e=this.textNodes(t.parentNode),i=e.indexOf(t)),i}filteredPosition(t,e){var i,r,a;return t.nodeType===Lh?(i=t.parentNode.children,a=this.normalizedMap(i,Lh,e)):(i=t.parentNode.childNodes,t.parentNode.classList.contains(e)&&(t=t.parentNode,i=t.parentNode.childNodes),a=this.normalizedMap(i,fs,e)),r=Array.prototype.indexOf.call(i,t),a[r]}stepsToXpath(t){var e=[".","*"];return t.forEach(function(i){var r=i.index+1;i.id?e.push("*[position()="+r+" and @id='"+i.id+"']"):i.type==="text"?e.push("text()["+r+"]"):e.push("*["+r+"]")}),e.join("/")}stepsToQuerySelector(t){var e=["html"];return t.forEach(function(i){var r=i.index+1;i.id?e.push("#"+i.id):i.type==="text"||e.push("*:nth-child("+r+")")}),e.join(">")}textNodes(t,e){return Array.prototype.slice.call(t.childNodes).filter(function(i){return i.nodeType===fs?!0:!!(e&&i.classList.contains(e))})}walkToNode(t,e,i){var r=e||document,a=r.documentElement,o,l,h=t.length,f;for(f=0;f<h&&(l=t[f],l.type==="element"?l.id?a=r.getElementById(l.id):(o=a.children||_w(a),a=o[l.index]):l.type==="text"&&(a=this.textNodes(a,i)[l.index]),!!a);f++);return a}findNode(t,e,i){var r=e||document,a,o;return!i&&typeof r.evaluate<"u"?(o=this.stepsToXpath(t),a=r.evaluate(o,r,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue):i?a=this.walkToNode(t,r,i):a=this.walkToNode(t,r),a}fixMiss(t,e,i,r){var a=this.findNode(t.slice(0,-1),i,r),o=a.childNodes,l=this.normalizedMap(o,fs,r),h,f,g=t[t.length-1].index;for(let m in l){if(!l.hasOwnProperty(m))return;if(l[m]===g)if(h=o[m],f=h.textContent.length,e>f)e=e-f;else{h.nodeType===Lh?a=h.childNodes[0]:a=h;break}}return{container:a,offset:e}}toRange(t,e){var i=t||document,r,a,o,l,h,f=this,g,m,y=e?i.querySelector("."+e)!=null:!1,b;if(typeof i.createRange<"u"?r=i.createRange():r=new pR,f.range?(a=f.start,g=f.path.steps.concat(a.steps),l=this.findNode(g,i,y?e:null),o=f.end,m=f.path.steps.concat(o.steps),h=this.findNode(m,i,y?e:null)):(a=f.path,g=f.path.steps,l=this.findNode(f.path.steps,i,y?e:null)),l)try{a.terminal.offset!=null?r.setStart(l,a.terminal.offset):r.setStart(l,0)}catch{b=this.fixMiss(g,a.terminal.offset,i,y?e:null),r.setStart(b.container,b.offset)}else return console.log("No startContainer found for",this.toString()),null;if(h)try{o.terminal.offset!=null?r.setEnd(h,o.terminal.offset):r.setEnd(h,0)}catch{b=this.fixMiss(m,f.end.terminal.offset,i,y?e:null),r.setEnd(b.container,b.offset)}return r}isCfiString(t){return typeof t=="string"&&t.indexOf("epubcfi(")===0&&t[t.length-1]===")"}generateChapterComponent(t,e,i){var r=parseInt(e),a=(t+1)*2,o="/"+a+"/";return o+=(r+1)*2,i&&(o+="["+i+"]"),o}collapse(t){this.range&&(this.range=!1,t?(this.path.steps=this.path.steps.concat(this.start.steps),this.path.terminal=this.start.terminal):(this.path.steps=this.path.steps.concat(this.end.steps),this.path.terminal=this.end.terminal))}}class Ks{constructor(t){this.context=t||this,this.hooks=[]}register(){for(var t=0;t<arguments.length;++t)if(typeof arguments[t]=="function")this.hooks.push(arguments[t]);else for(var e=0;e<arguments[t].length;++e)this.hooks.push(arguments[t][e])}deregister(t){let e;for(let i=0;i<this.hooks.length;i++)if(e=this.hooks[i],e===t){this.hooks.splice(i,1);break}}trigger(){var t=arguments,e=this.context,i=[];return this.hooks.forEach(function(r){try{var a=r.apply(e,t)}catch(o){console.log(o)}a&&typeof a.then=="function"&&i.push(a)}),Promise.all(i)}list(){return this.hooks}clear(){return this.hooks=[]}}function gR(u,t){var e,i,r=t.url,a=r.indexOf("://")>-1;u&&(i=_i(u,"head"),e=_i(i,"base"),e||(e=u.createElement("base"),i.insertBefore(e,i.firstChild)),!a&&window&&window.location&&(r=window.location.origin+r),e.setAttribute("href",r))}function $P(u,t){var e,i,r=t.canonical;u&&(e=_i(u,"head"),i=_i(e,"link[rel='canonical']"),i?i.setAttribute("href",r):(i=u.createElement("link"),i.setAttribute("rel","canonical"),i.setAttribute("href",r),e.appendChild(i)))}function WP(u,t){var e,i,r=t.idref;u&&(e=_i(u,"head"),i=_i(e,"link[property='dc.identifier']"),i?i.setAttribute("content",r):(i=u.createElement("meta"),i.setAttribute("name","dc.identifier"),i.setAttribute("content",r),e.appendChild(i)))}function YP(u,t){var e=u.querySelectorAll("a[href]");if(e.length)for(var i=_i(u.ownerDocument,"base"),r=i?i.getAttribute("href"):void 0,a=(function(l){var h=l.getAttribute("href");if(h.indexOf("mailto:")!==0){var f=h.indexOf("://")>-1;if(f)l.setAttribute("target","_blank");else{var g;try{g=new Bs(h,r)}catch{}l.onclick=function(){return g&&g.hash?t(g.Path.path+g.hash):t(g?g.Path.path:h),!1}}}}).bind(this),o=0;o<e.length;o++)a(e[o])}function CT(u,t,e){return t.forEach(function(i,r){i&&e[r]&&(i=i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),u=u.replace(new RegExp(i,"g"),e[r]))}),u}function Yp(u,t,e,i){var r=typeof window<"u"?window.URL:!1,a=r?"blob":"arraybuffer",o=new ze,l=new XMLHttpRequest,h=XMLHttpRequest.prototype,f;"overrideMimeType"in h||Object.defineProperty(h,"overrideMimeType",{value:function(){}}),e&&(l.withCredentials=!0),l.onreadystatechange=m,l.onerror=g,l.open("GET",u,!0);for(f in i)l.setRequestHeader(f,i[f]);t=="json"&&l.setRequestHeader("Accept","application/json"),t||(t=new zo(u).extension),t=="blob"&&(l.responseType=a),Wp(t)&&l.overrideMimeType("text/xml"),t=="binary"&&(l.responseType="arraybuffer"),l.send();function g(y){o.reject(y)}function m(){if(this.readyState===XMLHttpRequest.DONE){var y=!1;if((this.responseType===""||this.responseType==="document")&&(y=this.responseXML),this.status===200||this.status===0||y){var b;if(!this.response&&!y)return o.reject({status:this.status,message:"Empty Response",stack:new Error().stack}),o.promise;if(this.status===403)return o.reject({status:this.status,response:this.response,message:"Forbidden",stack:new Error().stack}),o.promise;y?b=this.responseXML:Wp(t)?b=ka(this.response,"text/xml"):t=="xhtml"?b=ka(this.response,"application/xhtml+xml"):t=="html"||t=="htm"?b=ka(this.response,"text/html"):t=="json"?b=JSON.parse(this.response):t=="blob"?r?b=this.response:b=new Blob([this.response]):b=this.response,o.resolve(b)}else o.reject({status:this.status,message:this.response,stack:new Error().stack})}}return o.promise}class XP{constructor(t,e){this.idref=t.idref,this.linear=t.linear==="yes",this.properties=t.properties,this.index=t.index,this.href=t.href,this.url=t.url,this.canonical=t.canonical,this.next=t.next,this.prev=t.prev,this.cfiBase=t.cfiBase,e?this.hooks=e:(this.hooks={},this.hooks.serialize=new Ks(this),this.hooks.content=new Ks(this)),this.document=void 0,this.contents=void 0,this.output=void 0}load(t){var e=t||this.request||Yp,i=new ze,r=i.promise;return this.contents?i.resolve(this.contents):e(this.url).then((function(a){return this.document=a,this.contents=a.documentElement,this.hooks.content.trigger(this.document,this)}).bind(this)).then((function(){i.resolve(this.contents)}).bind(this)).catch(function(a){i.reject(a)}),r}base(){return gR(this.document,this)}render(t){var e=new ze,i=e.promise;return this.output,this.load(t).then((function(r){var a=typeof navigator<"u"&&navigator.userAgent||"",o=a.indexOf("Trident")>=0,l;typeof XMLSerializer>"u"||o?l=nR.DOMParser:l=XMLSerializer;var h=new l;return this.output=h.serializeToString(r),this.output}).bind(this)).then((function(){return this.hooks.serialize.trigger(this.output,this)}).bind(this)).then((function(){e.resolve(this.output)}).bind(this)).catch(function(r){e.reject(r)}),i}find(t){var e=this,i=[],r=t.toLowerCase(),a=function(o){for(var l=o.textContent.toLowerCase(),h=e.document.createRange(),f,g,m=-1,y,b=150;g!=-1;)g=l.indexOf(r,m+1),g!=-1&&(h=e.document.createRange(),h.setStart(o,g),h.setEnd(o,g+r.length),f=e.cfiFromRange(h),o.textContent.length<b?y=o.textContent:(y=o.textContent.substring(g-b/2,g+b/2),y="..."+y+"..."),i.push({cfi:f,excerpt:y})),m=g};return Z0(e.document,function(o){a(o)}),i}search(t,e=5){if(typeof document.createTreeWalker>"u")return this.find(t);let i=[];const r=150,a=this,o=t.toLowerCase(),l=function(m){const T=m.reduce((A,w)=>A+w.textContent,"").toLowerCase().indexOf(o);if(T!=-1){const w=T+o.length;let E=0,D=0;if(T<m[0].length){let R;for(;E<m.length-1&&(D+=m[E].length,!(w<=D));)E+=1;let N=m[0],x=m[E],L=a.document.createRange();L.setStart(N,T);let I=m.slice(0,E).reduce((F,k)=>F+k.textContent.length,0);L.setEnd(x,I>w?w:w-I),R=a.cfiFromRange(L);let U=m.slice(0,E+1).reduce((F,k)=>F+k.textContent,"");U.length>r&&(U=U.substring(T-r/2,T+r/2),U="..."+U+"..."),i.push({cfi:R,excerpt:U})}}},h=document.createTreeWalker(a.document,NodeFilter.SHOW_TEXT,null,!1);let f,g=[];for(;f=h.nextNode();)g.push(f),g.length==e&&(l(g.slice(0,e)),g=g.slice(1,e));return g.length>0&&l(g),i}reconcileLayoutSettings(t){var e={layout:t.layout,spread:t.spread,orientation:t.orientation};return this.properties.forEach(function(i){var r=i.replace("rendition:",""),a=r.indexOf("-"),o,l;a!=-1&&(o=r.slice(0,a),l=r.slice(a+1),e[o]=l)}),e}cfiFromRange(t){return new Fe(t,this.cfiBase).toString()}cfiFromElement(t){return new Fe(t,this.cfiBase).toString()}unload(){this.document=void 0,this.contents=void 0,this.output=void 0}destroy(){this.unload(),this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.idref=void 0,this.linear=void 0,this.properties=void 0,this.index=void 0,this.href=void 0,this.url=void 0,this.next=void 0,this.prev=void 0,this.cfiBase=void 0}}class KP{constructor(){this.spineItems=[],this.spineByHref={},this.spineById={},this.hooks={},this.hooks.serialize=new Ks,this.hooks.content=new Ks,this.hooks.content.register(gR),this.hooks.content.register($P),this.hooks.content.register(WP),this.epubcfi=new Fe,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}unpack(t,e,i){this.items=t.spine,this.manifest=t.manifest,this.spineNodeIndex=t.spineNodeIndex,this.baseUrl=t.baseUrl||t.basePath||"",this.length=this.items.length,this.items.forEach((r,a)=>{var o=this.manifest[r.idref],l;r.index=a,r.cfiBase=this.epubcfi.generateChapterComponent(this.spineNodeIndex,r.index,r.id),r.href&&(r.url=e(r.href,!0),r.canonical=i(r.href)),o&&(r.href=o.href,r.url=e(r.href,!0),r.canonical=i(r.href),o.properties.length&&r.properties.push.apply(r.properties,o.properties)),r.linear==="yes"?(r.prev=(function(){let h=r.index;for(;h>0;){let f=this.get(h-1);if(f&&f.linear)return f;h-=1}}).bind(this),r.next=(function(){let h=r.index;for(;h<this.spineItems.length-1;){let f=this.get(h+1);if(f&&f.linear)return f;h+=1}}).bind(this)):(r.prev=function(){},r.next=function(){}),l=new XP(r,this.hooks),this.append(l)}),this.loaded=!0}get(t){var e=0;if(typeof t>"u")for(;e<this.spineItems.length;){let i=this.spineItems[e];if(i&&i.linear)break;e+=1}else this.epubcfi.isCfiString(t)?e=new Fe(t).spinePos:typeof t=="number"||isNaN(t)===!1?e=t:typeof t=="string"&&t.indexOf("#")===0?e=this.spineById[t.substring(1)]:typeof t=="string"&&(t=t.split("#")[0],e=this.spineByHref[t]||this.spineByHref[encodeURI(t)]);return this.spineItems[e]||null}append(t){var e=this.spineItems.length;return t.index=e,this.spineItems.push(t),this.spineByHref[decodeURI(t.href)]=e,this.spineByHref[encodeURI(t.href)]=e,this.spineByHref[t.href]=e,this.spineById[t.idref]=e,e}prepend(t){return this.spineByHref[t.href]=0,this.spineById[t.idref]=0,this.spineItems.forEach(function(e,i){e.index=i}),0}remove(t){var e=this.spineItems.indexOf(t);if(e>-1)return delete this.spineByHref[t.href],delete this.spineById[t.idref],this.spineItems.splice(e,1)}each(){return this.spineItems.forEach.apply(this.spineItems,arguments)}first(){let t=0;do{let e=this.get(t);if(e&&e.linear)return e;t+=1}while(t<this.spineItems.length)}last(){let t=this.spineItems.length-1;do{let e=this.get(t);if(e&&e.linear)return e;t-=1}while(t>=0)}destroy(){this.each(t=>t.destroy()),this.spineItems=void 0,this.spineByHref=void 0,this.spineById=void 0,this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.epubcfi=void 0,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}}class g_{constructor(t){this._q=[],this.context=t,this.tick=f_,this.running=!1,this.paused=!1}enqueue(){var t,e,i,r=[].shift.call(arguments),a=arguments;if(!r)throw new Error("No Task Provided");return typeof r=="function"?(t=new ze,e=t.promise,i={task:r,args:a,deferred:t,promise:e}):i={promise:r},this._q.push(i),this.paused==!1&&!this.running&&this.run(),i.promise}dequeue(){var t,e,i;if(this._q.length&&!this.paused){if(t=this._q.shift(),e=t.task,e)return i=e.apply(this.context,t.args),i&&typeof i.then=="function"?i.then((function(){t.deferred.resolve.apply(this.context,arguments)}).bind(this),(function(){t.deferred.reject.apply(this.context,arguments)}).bind(this)):(t.deferred.resolve.apply(this.context,i),t.promise);if(t.promise)return t.promise}else return t=new ze,t.deferred.resolve(),t.promise}dump(){for(;this._q.length;)this.dequeue()}run(){return this.running||(this.running=!0,this.defered=new ze),this.tick.call(window,()=>{this._q.length?this.dequeue().then((function(){this.run()}).bind(this)):(this.defered.resolve(),this.running=void 0)}),this.paused==!0&&(this.paused=!1),this.defered.promise}flush(){if(this.running)return this.running;if(this._q.length)return this.running=this.dequeue().then((function(){return this.running=void 0,this.flush()}).bind(this)),this.running}clear(){this._q=[]}length(){return this._q.length}pause(){this.paused=!0}stop(){this._q=[],this.running=!1,this.paused=!0}}const Gy="0.3",h0=["keydown","keyup","keypressed","mouseup","mousedown","mousemove","click","touchend","touchstart","touchmove"],Wt={BOOK:{OPEN_FAILED:"openFailed"},CONTENTS:{EXPAND:"expand",RESIZE:"resize",SELECTED:"selected",SELECTED_RANGE:"selectedRange",LINK_CLICKED:"linkClicked"},LOCATIONS:{CHANGED:"changed"},MANAGERS:{RESIZE:"resize",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",ADDED:"added",SCROLL:"scroll",SCROLLED:"scrolled",REMOVED:"removed"},VIEWS:{AXIS:"axis",WRITING_MODE:"writingMode",LOAD_ERROR:"loaderror",RENDERED:"rendered",RESIZED:"resized",DISPLAYED:"displayed",SHOWN:"shown",HIDDEN:"hidden",MARK_CLICKED:"markClicked"},RENDITION:{STARTED:"started",ATTACHED:"attached",DISPLAYED:"displayed",DISPLAY_ERROR:"displayerror",RENDERED:"rendered",REMOVED:"removed",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",LOCATION_CHANGED:"locationChanged",RELOCATED:"relocated",MARK_CLICKED:"markClicked",SELECTED:"selected",LAYOUT:"layout"},LAYOUT:{UPDATED:"updated"},ANNOTATION:{ATTACH:"attach",DETACH:"detach"}};class mR{constructor(t,e,i){this.spine=t,this.request=e,this.pause=i||100,this.q=new g_(this),this.epubcfi=new Fe,this._locations=[],this._locationsWords=[],this.total=0,this.break=150,this._current=0,this._wordCounter=0,this.currentLocation="",this._currentCfi="",this.processingTimeout=void 0}generate(t){return t&&(this.break=t),this.q.pause(),this.spine.each((function(e){e.linear&&this.q.enqueue(this.process.bind(this),e)}).bind(this)),this.q.run().then((function(){return this.total=this._locations.length-1,this._currentCfi&&(this.currentLocation=this._currentCfi),this._locations}).bind(this))}createRange(){return{startContainer:void 0,startOffset:void 0,endContainer:void 0,endOffset:void 0}}process(t){return t.load(this.request).then((function(e){var i=new ze,r=this.parse(e,t.cfiBase);return this._locations=this._locations.concat(r),t.unload(),this.processingTimeout=setTimeout(()=>i.resolve(r),this.pause),i.promise}).bind(this))}parse(t,e,i){var r=[],a,o=t.ownerDocument,l=_i(o,"body"),h=0,f,g=i||this.break,m=function(y){var b=y.length,T,A=0;if(y.textContent.trim().length===0)return!1;for(h==0&&(a=this.createRange(),a.startContainer=y,a.startOffset=0),T=g-h,T>b&&(h+=b,A=b);A<b;)if(T=g-h,h===0&&(A+=1,a=this.createRange(),a.startContainer=y,a.startOffset=A),A+T>=b)h+=b-A,A=b;else{A+=T,a.endContainer=y,a.endOffset=A;let w=new Fe(a,e).toString();r.push(w),h=0}f=y};if(Z0(l,m.bind(this)),a&&a.startContainer&&f){a.endContainer=f,a.endOffset=f.length;let y=new Fe(a,e).toString();r.push(y),h=0}return r}generateFromWords(t,e,i){var r=t?new Fe(t):void 0;return this.q.pause(),this._locationsWords=[],this._wordCounter=0,this.spine.each((function(a){a.linear&&(r?a.index>=r.spinePos&&this.q.enqueue(this.processWords.bind(this),a,e,r,i):this.q.enqueue(this.processWords.bind(this),a,e,r,i))}).bind(this)),this.q.run().then((function(){return this._currentCfi&&(this.currentLocation=this._currentCfi),this._locationsWords}).bind(this))}processWords(t,e,i,r){return r&&this._locationsWords.length>=r?Promise.resolve():t.load(this.request).then((function(a){var o=new ze,l=this.parseWords(a,t,e,i),h=r-this._locationsWords.length;return this._locationsWords=this._locationsWords.concat(l.length>=r?l.slice(0,h):l),t.unload(),this.processingTimeout=setTimeout(()=>o.resolve(l),this.pause),o.promise}).bind(this))}countWords(t){return t=t.replace(/(^\s*)|(\s*$)/gi,""),t=t.replace(/[ ]{2,}/gi," "),t=t.replace(/\n /,`
`),t.split(" ").length}parseWords(t,e,i,r){var a=e.cfiBase,o=[],l=t.ownerDocument,h=_i(l,"body"),f=i,g=r?r.spinePos!==e.index:!0,m;r&&e.index===r.spinePos&&(m=r.findNode(r.range?r.path.steps.concat(r.start.steps):r.path.steps,t.ownerDocument));var y=function(b){if(!g)if(b===m)g=!0;else return!1;if(b.textContent.length<10&&b.textContent.trim().length===0)return!1;var T=this.countWords(b.textContent),A,w=0;if(T===0)return!1;for(A=f-this._wordCounter,A>T&&(this._wordCounter+=T,w=T);w<T;)if(A=f-this._wordCounter,w+A>=T)this._wordCounter+=T-w,w=T;else{w+=A;let E=new Fe(b,a);o.push({cfi:E.toString(),wordCount:this._wordCounter}),this._wordCounter=0}};return Z0(h,y.bind(this)),o}locationFromCfi(t){let e;return Fe.prototype.isCfiString(t)&&(t=new Fe(t)),this._locations.length===0?-1:(e=ld(t,this._locations,this.epubcfi.compare),e>this.total?this.total:e)}percentageFromCfi(t){if(this._locations.length===0)return null;var e=this.locationFromCfi(t);return this.percentageFromLocation(e)}percentageFromLocation(t){return!t||!this.total?0:t/this.total}cfiFromLocation(t){var e=-1;return typeof t!="number"&&(t=parseInt(t)),t>=0&&t<this._locations.length&&(e=this._locations[t]),e}cfiFromPercentage(t){let e;if(t>1&&console.warn("Normalize cfiFromPercentage value to between 0 - 1"),t>=1){let i=new Fe(this._locations[this.total]);return i.collapse(),i.toString()}return e=Math.ceil(this.total*t),this.cfiFromLocation(e)}load(t){return typeof t=="string"?this._locations=JSON.parse(t):this._locations=t,this.total=this._locations.length-1,this._locations}save(){return JSON.stringify(this._locations)}getCurrent(){return this._current}setCurrent(t){var e;if(typeof t=="string")this._currentCfi=t;else if(typeof t=="number")this._current=t;else return;this._locations.length!==0&&(typeof t=="string"?(e=this.locationFromCfi(t),this._current=e):e=t,this.emit(Wt.LOCATIONS.CHANGED,{percentage:this.percentageFromLocation(e)}))}get currentLocation(){return this._current}set currentLocation(t){this.setCurrent(t)}length(){return this._locations.length}destroy(){this.spine=void 0,this.request=void 0,this.pause=void 0,this.q.stop(),this.q=void 0,this.epubcfi=void 0,this._locations=void 0,this.total=void 0,this.break=void 0,this._current=void 0,this.currentLocation=void 0,this._currentCfi=void 0,clearTimeout(this.processingTimeout)}}Ma(mR.prototype);class ZP{constructor(t){this.packagePath="",this.directory="",this.encoding="",t&&this.parse(t)}parse(t){var e;if(!t)throw new Error("Container File Not Found");if(e=_i(t,"rootfile"),!e)throw new Error("No RootFile Found");this.packagePath=e.getAttribute("full-path"),this.directory=Ql.dirname(this.packagePath),this.encoding=t.xmlEncoding}destroy(){this.packagePath=void 0,this.directory=void 0,this.encoding=void 0}}class TT{constructor(t){this.manifest={},this.navPath="",this.ncxPath="",this.coverPath="",this.spineNodeIndex=0,this.spine=[],this.metadata={},t&&this.parse(t)}parse(t){var e,i,r;if(!t)throw new Error("Package File Not Found");if(e=_i(t,"metadata"),!e)throw new Error("No Metadata Found");if(i=_i(t,"manifest"),!i)throw new Error("No Manifest Found");if(r=_i(t,"spine"),!r)throw new Error("No Spine Found");return this.manifest=this.parseManifest(i),this.navPath=this.findNavPath(i),this.ncxPath=this.findNcxPath(i,r),this.coverPath=this.findCoverPath(t),this.spineNodeIndex=lR(r),this.spine=this.parseSpine(r,this.manifest),this.uniqueIdentifier=this.findUniqueIdentifier(t),this.metadata=this.parseMetadata(e),this.metadata.direction=r.getAttribute("page-progression-direction"),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex}}parseMetadata(t){var e={};return e.title=this.getElementText(t,"title"),e.creator=this.getElementText(t,"creator"),e.description=this.getElementText(t,"description"),e.pubdate=this.getElementText(t,"date"),e.publisher=this.getElementText(t,"publisher"),e.identifier=this.getElementText(t,"identifier"),e.language=this.getElementText(t,"language"),e.rights=this.getElementText(t,"rights"),e.modified_date=this.getPropertyText(t,"dcterms:modified"),e.layout=this.getPropertyText(t,"rendition:layout"),e.orientation=this.getPropertyText(t,"rendition:orientation"),e.flow=this.getPropertyText(t,"rendition:flow"),e.viewport=this.getPropertyText(t,"rendition:viewport"),e.media_active_class=this.getPropertyText(t,"media:active-class"),e.spread=this.getPropertyText(t,"rendition:spread"),e}parseManifest(t){var e={},i=Po(t,"item"),r=Array.prototype.slice.call(i);return r.forEach(function(a){var o=a.getAttribute("id"),l=a.getAttribute("href")||"",h=a.getAttribute("media-type")||"",f=a.getAttribute("media-overlay")||"",g=a.getAttribute("properties")||"";e[o]={href:l,type:h,overlay:f,properties:g.length?g.split(" "):[]}}),e}parseSpine(t,e){var i=[],r=Po(t,"itemref"),a=Array.prototype.slice.call(r);return a.forEach(function(o,l){var h=o.getAttribute("idref"),f=o.getAttribute("properties")||"",g=f.length?f.split(" "):[],m={id:o.getAttribute("id"),idref:h,linear:o.getAttribute("linear")||"yes",properties:g,index:l};i.push(m)}),i}findUniqueIdentifier(t){var e=t.documentElement.getAttribute("unique-identifier");if(!e)return"";var i=t.getElementById(e);return i&&i.localName==="identifier"&&i.namespaceURI==="http://purl.org/dc/elements/1.1/"&&i.childNodes.length>0?i.childNodes[0].nodeValue.trim():""}findNavPath(t){var e=Ph(t,"item",{properties:"nav"});return e?e.getAttribute("href"):!1}findNcxPath(t,e){var i=Ph(t,"item",{"media-type":"application/x-dtbncx+xml"}),r;return i||(r=e.getAttribute("toc"),r&&(i=t.querySelector(`#${r}`))),i?i.getAttribute("href"):!1}findCoverPath(t){var e=_i(t,"package");e.getAttribute("version");var i=Ph(t,"item",{properties:"cover-image"});if(i)return i.getAttribute("href");var r=Ph(t,"meta",{name:"cover"});if(r){var a=r.getAttribute("content"),o=t.getElementById(a);return o?o.getAttribute("href"):""}else return!1}getElementText(t,e){var i=t.getElementsByTagNameNS("http://purl.org/dc/elements/1.1/",e),r;return!i||i.length===0?"":(r=i[0],r.childNodes.length?r.childNodes[0].nodeValue:"")}getPropertyText(t,e){var i=Ph(t,"meta",{property:e});return i&&i.childNodes.length?i.childNodes[0].nodeValue:""}load(t){this.metadata=t.metadata;let e=t.readingOrder||t.spine;return this.spine=e.map((i,r)=>(i.index=r,i.linear=i.linear||"yes",i)),t.resources.forEach((i,r)=>{this.manifest[r]=i,i.rel&&i.rel[0]==="cover"&&(this.coverPath=i.href)}),this.spineNodeIndex=0,this.toc=t.toc.map((i,r)=>(i.label=i.title,i)),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex,toc:this.toc}}destroy(){this.manifest=void 0,this.navPath=void 0,this.ncxPath=void 0,this.coverPath=void 0,this.spineNodeIndex=void 0,this.spine=void 0,this.metadata=void 0}}class L1{constructor(t){this.toc=[],this.tocByHref={},this.tocById={},this.landmarks=[],this.landmarksByType={},this.length=0,t&&this.parse(t)}parse(t){let e=t.nodeType,i,r;e&&(i=_i(t,"html"),r=_i(t,"ncx")),e?i?(this.toc=this.parseNav(t),this.landmarks=this.parseLandmarks(t)):r&&(this.toc=this.parseNcx(t)):this.toc=this.load(t),this.length=0,this.unpack(this.toc)}unpack(t){for(var e,i=0;i<t.length;i++)e=t[i],e.href&&(this.tocByHref[e.href]=i),e.id&&(this.tocById[e.id]=i),this.length++,e.subitems.length&&this.unpack(e.subitems)}get(t){var e;return t?(t.indexOf("#")===0?e=this.tocById[t.substring(1)]:t in this.tocByHref&&(e=this.tocByHref[t]),this.getByIndex(t,e,this.toc)):this.toc}getByIndex(t,e,i){if(i.length===0)return;const r=i[e];if(r&&(t===r.id||t===r.href))return r;{let a;for(let o=0;o<i.length&&(a=this.getByIndex(t,e,i[o].subitems),!a);++o);return a}}landmark(t){var e;return t?(e=this.landmarksByType[t],this.landmarks[e]):this.landmarks}parseNav(t){var e=Q0(t,"nav","toc"),i=[];if(!e)return i;let r=zh(e,"ol",!0);return r&&(i=this.parseNavList(r)),i}parseNavList(t,e){const i=[];if(!t||!t.children)return i;for(let r=0;r<t.children.length;r++){const a=this.navItem(t.children[r],e);a&&i.push(a)}return i}navItem(t,e){let i=t.getAttribute("id")||void 0,r=zh(t,"a",!0)||zh(t,"span",!0);if(!r)return;let a=r.getAttribute("href")||"";i||(i=a);let o=r.textContent||"",l=[],h=zh(t,"ol",!0);return h&&(l=this.parseNavList(h,i)),{id:i,href:a,label:o,subitems:l,parent:e}}parseLandmarks(t){var e=Q0(t,"nav","landmarks"),i=e?Po(e,"li"):[],r=i.length,a,o=[],l;if(!i||r===0)return o;for(a=0;a<r;++a)l=this.landmarkItem(i[a]),l&&(o.push(l),this.landmarksByType[l.type]=a);return o}landmarkItem(t){let e=zh(t,"a",!0);if(!e)return;let i=e.getAttributeNS("http://www.idpf.org/2007/ops","type")||void 0,r=e.getAttribute("href")||"",a=e.textContent||"";return{href:r,label:a,type:i}}parseNcx(t){var e=Po(t,"navPoint"),i=e.length,r,a={},o=[],l,h;if(!e||i===0)return o;for(r=0;r<i;++r)l=this.ncxItem(e[r]),a[l.id]=l,l.parent?(h=a[l.parent],h.subitems.push(l)):o.push(l);return o}ncxItem(t){var e=t.getAttribute("id")||!1,i=_i(t,"content"),r=i.getAttribute("src"),a=_i(t,"navLabel"),o=a.textContent?a.textContent:"",l=[],h=t.parentNode,f;return h&&(h.nodeName==="navPoint"||h.nodeName.split(":").slice(-1)[0]==="navPoint")&&(f=h.getAttribute("id")),{id:e,href:r,label:o,subitems:l,parent:f}}load(t){return t.map(e=>(e.label=e.title,e.subitems=e.children?this.load(e.children):[],e))}forEach(t){return this.toc.forEach(t)}}var pp={application:{ecmascript:["es","ecma"],javascript:"js",ogg:"ogx",pdf:"pdf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],"rdf+xml":"rdf",smil:["smi","smil"],"xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd","opf","ncx"],zip:"zip","x-httpd-eruby":"rhtml","x-latex":"latex","x-maker":["frm","maker","frame","fm","fb","book","fbdoc"],"x-object":"o","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","epub+zip":"epub","font-tdpfr":"pfr","inkml+xml":["ink","inkml"],json:"json","jsonml+json":"jsonml","mathml+xml":"mathml","metalink+xml":"metalink",mp4:"mp4s","omdoc+xml":"omdoc",oxps:"oxps","vnd.amazon.ebook":"azw",widget:"wgt","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-otf":"otf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-font-woff":"woff","x-mobipocket-ebook":["prc","mobi"],"x-mspublisher":"pub","x-nzb":"nzb","x-tgif":"obj","xaml+xml":"xaml","xml-dtd":"dtd","xproc+xml":"xpl","xslt+xml":"xslt","internet-property-stream":"acx","x-compress":"z","x-compressed":"tgz","x-gzip":"gz"},audio:{flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp2","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"x-aiff":["aif","aiff","aifc"],"x-ms-wma":"wma","x-wav":"wav",adpcm:"adp",mp4:"mp4a",webm:"weba","x-aac":"aac","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",mid:["mid","rmi"]},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"x-icon":"ico",bmp:"bmp",webp:"webp","x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod"},text:{"cache-manifest":["manifest","appcache"],css:"css",csv:"csv",html:["html","htm","shtml","stm"],mathml:"mml",plain:["txt","text","brf","conf","def","list","log","in","bas"],richtext:"rtx","tab-separated-values":"tsv","x-bibtex":"bib"},video:{mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv"}},QP=function(){var u,t,e,i,r={};for(u in pp)if(pp.hasOwnProperty(u)){for(t in pp[u])if(pp[u].hasOwnProperty(t))if(e=pp[u][t],typeof e=="string")r[e]=u+"/"+t;else for(i=0;i<e.length;i++)r[e[i]]=u+"/"+t}return r}(),JP="text/plain";function t5(u){return u&&QP[u.split(".").pop().toLowerCase()]||JP}const Qh={lookup:t5};class e5{constructor(t,e){this.settings={replacements:e&&e.replacements||"base64",archive:e&&e.archive,resolver:e&&e.resolver,request:e&&e.request},this.process(t)}process(t){this.manifest=t,this.resources=Object.keys(t).map(function(e){return t[e]}),this.replacementUrls=[],this.html=[],this.assets=[],this.css=[],this.urls=[],this.cssUrls=[],this.split(),this.splitUrls()}split(){this.html=this.resources.filter(function(t){if(t.type==="application/xhtml+xml"||t.type==="text/html")return!0}),this.assets=this.resources.filter(function(t){if(t.type!=="application/xhtml+xml"&&t.type!=="text/html")return!0}),this.css=this.resources.filter(function(t){if(t.type==="text/css")return!0})}splitUrls(){this.urls=this.assets.map((function(t){return t.href}).bind(this)),this.cssUrls=this.css.map(function(t){return t.href})}createUrl(t){var e=new Bs(t),i=Qh.lookup(e.filename);return this.settings.archive?this.settings.archive.createUrl(t,{base64:this.settings.replacements==="base64"}):this.settings.replacements==="base64"?this.settings.request(t,"blob").then(r=>dR(r)).then(r=>Aw(r,i)):this.settings.request(t,"blob").then(r=>K0(r,i))}replacements(){if(this.settings.replacements==="none")return new Promise((function(e){e(this.urls)}).bind(this));var t=this.urls.map(e=>{var i=this.settings.resolver(e);return this.createUrl(i).catch(r=>(console.error(r),null))});return Promise.all(t).then(e=>(this.replacementUrls=e.filter(i=>typeof i=="string"),e))}replaceCss(t,e){var i=[];return t=t||this.settings.archive,e=e||this.settings.resolver,this.cssUrls.forEach((function(r){var a=this.createCssFile(r,t,e).then((function(o){var l=this.urls.indexOf(r);l>-1&&(this.replacementUrls[l]=o)}).bind(this));i.push(a)}).bind(this)),Promise.all(i)}createCssFile(t){var e;if(Ql.isAbsolute(t))return new Promise(function(o){o()});var i=this.settings.resolver(t),r;this.settings.archive?r=this.settings.archive.getText(i):r=this.settings.request(i,"text");var a=this.urls.map(o=>{var l=this.settings.resolver(o),h=new zo(i).relative(l);return h});return r?r.then(o=>(o=CT(o,a,this.replacementUrls),this.settings.replacements==="base64"?e=Aw(o,"text/css"):e=K0(o,"text/css"),e),o=>new Promise(function(l){l()})):new Promise(function(o){o()})}relativeTo(t,e){return e=e||this.settings.resolver,this.urls.map((function(i){var r=e(i),a=new zo(t).relative(r);return a}).bind(this))}get(t){var e=this.urls.indexOf(t);if(e!==-1)return this.replacementUrls.length?new Promise((function(i,r){i(this.replacementUrls[e])}).bind(this)):this.createUrl(t)}substitute(t,e){var i;return e?i=this.relativeTo(e):i=this.urls,CT(t,i,this.replacementUrls)}destroy(){this.settings=void 0,this.manifest=void 0,this.resources=void 0,this.replacementUrls=void 0,this.html=void 0,this.assets=void 0,this.css=void 0,this.urls=void 0,this.cssUrls=void 0}}class I1{constructor(t){this.pages=[],this.locations=[],this.epubcfi=new Fe,this.firstPage=0,this.lastPage=0,this.totalPages=0,this.toc=void 0,this.ncx=void 0,t&&(this.pageList=this.parse(t)),this.pageList&&this.pageList.length&&this.process(this.pageList)}parse(t){var e=_i(t,"html"),i=_i(t,"ncx");if(e)return this.parseNav(t);if(i)return this.parseNcx(t)}parseNav(t){var e=Q0(t,"nav","page-list"),i=e?Po(e,"li"):[],r=i.length,a,o=[],l;if(!i||r===0)return o;for(a=0;a<r;++a)l=this.item(i[a]),o.push(l);return o}parseNcx(t){var e=[],i=0,r,a,o,l=0;if(a=_i(t,"pageList"),!a||(o=Po(a,"pageTarget"),l=o.length,!o||o.length===0))return e;for(i=0;i<l;++i)r=this.ncxItem(o[i]),e.push(r);return e}ncxItem(t){var e=_i(t,"navLabel"),i=_i(e,"text"),r=i.textContent,a=_i(t,"content"),o=a.getAttribute("src"),l=parseInt(r,10);return{href:o,page:l}}item(t){var e=_i(t,"a"),i=e.getAttribute("href")||"",r=e.textContent||"",a=parseInt(r),o=i.indexOf("epubcfi"),l,h,f;return o!=-1?(l=i.split("#"),h=l[0],f=l.length>1?l[1]:!1,{cfi:f,href:i,packageUrl:h,page:a}):{href:i,page:a}}process(t){t.forEach(function(e){this.pages.push(e.page),e.cfi&&this.locations.push(e.cfi)},this),this.firstPage=parseInt(this.pages[0]),this.lastPage=parseInt(this.pages[this.pages.length-1]),this.totalPages=this.lastPage-this.firstPage}pageFromCfi(t){var e=-1;if(this.locations.length===0)return-1;var i=W0(t,this.locations,this.epubcfi.compare);return i!=-1?e=this.pages[i]:(i=ld(t,this.locations,this.epubcfi.compare),e=i-1>=0?this.pages[i-1]:this.pages[0],e!==void 0||(e=-1)),e}cfiFromPage(t){var e=-1;typeof t!="number"&&(t=parseInt(t));var i=this.pages.indexOf(t);return i!=-1&&(e=this.locations[i]),e}pageFromPercentage(t){var e=Math.round(this.totalPages*t);return e}percentageFromPage(t){var e=(t-this.firstPage)/this.totalPages;return Math.round(e*1e3)/1e3}percentageFromCfi(t){var e=this.pageFromCfi(t),i=this.percentageFromPage(e);return i}destroy(){this.pages=void 0,this.locations=void 0,this.epubcfi=void 0,this.pageList=void 0,this.toc=void 0,this.ncx=void 0}}class vR{constructor(t){this.settings=t,this.name=t.layout||"reflowable",this._spread=t.spread!=="none",this._minSpreadWidth=t.minSpreadWidth||800,this._evenSpreads=t.evenSpreads||!1,t.flow==="scrolled"||t.flow==="scrolled-continuous"||t.flow==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.width=0,this.height=0,this.spreadWidth=0,this.delta=0,this.columnWidth=0,this.gap=0,this.divisor=1,this.props={name:this.name,spread:this._spread,flow:this._flow,width:0,height:0,spreadWidth:0,delta:0,columnWidth:0,gap:0,divisor:1}}flow(t){return typeof t<"u"&&(t==="scrolled"||t==="scrolled-continuous"||t==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.update({flow:this._flow})),this._flow}spread(t,e){return t&&(this._spread=t!=="none",this.update({spread:this._spread})),e>=0&&(this._minSpreadWidth=e),this._spread}calculate(t,e,i){var r=1,a=i||0,o=t,l=e,h=Math.floor(o/12),f,g,m,y;this._spread&&o>=this._minSpreadWidth?r=2:r=1,this.name==="reflowable"&&this._flow==="paginated"&&!(i>=0)&&(a=h%2===0?h:h-1),this.name==="pre-paginated"&&(a=0),r>1?(f=o/r-a,m=f+a):(f=o,m=o),this.name==="pre-paginated"&&r>1&&(o=f),g=f*r+a,y=o,this.width=o,this.height=l,this.spreadWidth=g,this.pageWidth=m,this.delta=y,this.columnWidth=f,this.gap=a,this.divisor=r,this.update({width:o,height:l,spreadWidth:g,pageWidth:m,delta:y,columnWidth:f,gap:a,divisor:r})}format(t,e,i){var r;return this.name==="pre-paginated"?r=t.fit(this.columnWidth,this.height,e):this._flow==="paginated"?r=t.columns(this.width,this.height,this.columnWidth,this.gap,this.settings.direction):i&&i==="horizontal"?r=t.size(null,this.height):r=t.size(this.width,null),r}count(t,e){let i,r;return this.name==="pre-paginated"?(i=1,r=1):this._flow==="paginated"?(e=e||this.delta,i=Math.ceil(t/e),r=i*this.divisor):(e=e||this.height,i=Math.ceil(t/e),r=i),{spreads:i,pages:r}}update(t){if(Object.keys(t).forEach(e=>{this.props[e]===t[e]&&delete t[e]}),Object.keys(t).length>0){let e=jn(this.props,t);this.emit(Wt.LAYOUT.UPDATED,e,t)}}}Ma(vR.prototype);class i5{constructor(t){this.rendition=t,this._themes={default:{rules:{},url:"",serialized:""}},this._overrides={},this._current="default",this._injected=[],this.rendition.hooks.content.register(this.inject.bind(this)),this.rendition.hooks.content.register(this.overrides.bind(this))}register(){if(arguments.length!==0){if(arguments.length===1&&typeof arguments[0]=="object")return this.registerThemes(arguments[0]);if(arguments.length===1&&typeof arguments[0]=="string")return this.default(arguments[0]);if(arguments.length===2&&typeof arguments[1]=="string")return this.registerUrl(arguments[0],arguments[1]);if(arguments.length===2&&typeof arguments[1]=="object")return this.registerRules(arguments[0],arguments[1])}}default(t){if(t){if(typeof t=="string")return this.registerUrl("default",t);if(typeof t=="object")return this.registerRules("default",t)}}registerThemes(t){for(var e in t)t.hasOwnProperty(e)&&(typeof t[e]=="string"?this.registerUrl(e,t[e]):this.registerRules(e,t[e]))}registerCss(t,e){this._themes[t]={serialized:e},(this._injected[t]||t=="default")&&this.update(t)}registerUrl(t,e){var i=new Bs(e);this._themes[t]={url:i.toString()},(this._injected[t]||t=="default")&&this.update(t)}registerRules(t,e){this._themes[t]={rules:e},(this._injected[t]||t=="default")&&this.update(t)}select(t){var e=this._current,i;this._current=t,this.update(t),i=this.rendition.getContents(),i.forEach(r=>{r.removeClass(e),r.addClass(t)})}update(t){var e=this.rendition.getContents();e.forEach(i=>{this.add(t,i)})}inject(t){var e=[],i=this._themes,r;for(var a in i)i.hasOwnProperty(a)&&(a===this._current||a==="default")&&(r=i[a],(r.rules&&Object.keys(r.rules).length>0||r.url&&e.indexOf(r.url)===-1)&&this.add(a,t),this._injected.push(a));this._current!="default"&&t.addClass(this._current)}add(t,e){var i=this._themes[t];!i||!e||(i.url?e.addStylesheet(i.url):i.serialized?(e.addStylesheetCss(i.serialized,t),i.injected=!0):i.rules&&(e.addStylesheetRules(i.rules,t),i.injected=!0))}override(t,e,i){var r=this.rendition.getContents();this._overrides[t]={value:e,priority:i===!0},r.forEach(a=>{a.css(t,this._overrides[t].value,this._overrides[t].priority)})}removeOverride(t){var e=this.rendition.getContents();delete this._overrides[t],e.forEach(i=>{i.css(t)})}overrides(t){var e=this._overrides;for(var i in e)e.hasOwnProperty(i)&&t.css(i,e[i].value,e[i].priority)}fontSize(t){this.override("font-size",t)}font(t){this.override("font-family",t,!0)}destroy(){this.rendition=void 0,this._themes=void 0,this._overrides=void 0,this._current=void 0,this._injected=void 0}}class J0{constructor(t,e,i,r=!1){this.layout=t,this.horizontal=i==="horizontal",this.direction=e||"ltr",this._dev=r}section(t){var e=this.findRanges(t),i=this.rangeListToCfiList(t.section.cfiBase,e);return i}page(t,e,i,r){var a=t&&t.document?t.document.body:!1,o;if(a){if(o=this.rangePairToCfiPair(e,{start:this.findStart(a,i,r),end:this.findEnd(a,i,r)}),this._dev===!0){let l=t.document,h=new Fe(o.start).toRange(l),f=new Fe(o.end).toRange(l),g=l.defaultView.getSelection(),m=l.createRange();g.removeAllRanges(),m.setStart(h.startContainer,h.startOffset),m.setEnd(f.endContainer,f.endOffset),g.addRange(m)}return o}}walk(t,e){if(!(t&&t.nodeType===Node.TEXT_NODE)){var i={acceptNode:function(h){return h.data.trim().length>0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}},r=i.acceptNode;r.acceptNode=i.acceptNode;for(var a=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,r,!1),o,l;(o=a.nextNode())&&(l=e(o),!l););return l}}findRanges(t){for(var e=[],i=t.contents.scrollWidth(),r=Math.ceil(i/this.layout.spreadWidth),a=r*this.layout.divisor,o=this.layout.columnWidth,l=this.layout.gap,h,f,g=0;g<a.pages;g++)h=(o+l)*g,f=o*(g+1)+l*g,e.push({start:this.findStart(t.document.body,h,f),end:this.findEnd(t.document.body,h,f)});return e}findStart(t,e,i){for(var r=[t],a,o,l=t;r.length;)if(a=r.shift(),o=this.walk(a,h=>{var f,g,m,y,b;if(b=ww(h),this.horizontal&&this.direction==="ltr"){if(f=this.horizontal?b.left:b.top,g=this.horizontal?b.right:b.bottom,f>=e&&f<=i)return h;if(g>e)return h;l=h,r.push(h)}else if(this.horizontal&&this.direction==="rtl"){if(f=b.left,g=b.right,g<=i&&g>=e)return h;if(f<i)return h;l=h,r.push(h)}else{if(m=b.top,y=b.bottom,m>=e&&m<=i)return h;if(y>e)return h;l=h,r.push(h)}}),o)return this.findTextStartRange(o,e,i);return this.findTextStartRange(l,e,i)}findEnd(t,e,i){for(var r=[t],a,o=t,l;r.length;)if(a=r.shift(),l=this.walk(a,h=>{var f,g,m,y,b;if(b=ww(h),this.horizontal&&this.direction==="ltr"){if(f=Math.round(b.left),g=Math.round(b.right),f>i&&o)return o;if(g>i)return h;o=h,r.push(h)}else if(this.horizontal&&this.direction==="rtl"){if(f=Math.round(this.horizontal?b.left:b.top),g=Math.round(this.horizontal?b.right:b.bottom),g<e&&o)return o;if(f<e)return h;o=h,r.push(h)}else{if(m=Math.round(b.top),y=Math.round(b.bottom),m>i&&o)return o;if(y>i)return h;o=h,r.push(h)}}),l)return this.findTextEndRange(l,e,i);return this.findTextEndRange(o,e,i)}findTextStartRange(t,e,i){for(var r=this.splitTextNodeIntoRanges(t),a,o,l,h,f,g=0;g<r.length;g++)if(a=r[g],o=a.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(l=o.left,l>=e)return a}else if(this.horizontal&&this.direction==="rtl"){if(f=o.right,f<=i)return a}else if(h=o.top,h>=e)return a;return r[0]}findTextEndRange(t,e,i){for(var r=this.splitTextNodeIntoRanges(t),a,o,l,h,f,g,m,y=0;y<r.length;y++){if(o=r[y],l=o.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(h=l.left,f=l.right,h>i&&a)return a;if(f>i)return o}else if(this.horizontal&&this.direction==="rtl"){if(h=l.left,f=l.right,f<e&&a)return a;if(h<e)return o}else{if(g=l.top,m=l.bottom,g>i&&a)return a;if(m>i)return o}a=o}return r[r.length-1]}splitTextNodeIntoRanges(t,e){var i=[],r=t.textContent||"",a=r.trim(),o,l=t.ownerDocument,h=e||" ",f=a.indexOf(h);if(f===-1||t.nodeType!=Node.TEXT_NODE)return o=l.createRange(),o.selectNodeContents(t),[o];for(o=l.createRange(),o.setStart(t,0),o.setEnd(t,f),i.push(o),o=!1;f!=-1;)f=a.indexOf(h,f+1),f>0&&(o&&(o.setEnd(t,f),i.push(o)),o=l.createRange(),o.setStart(t,f+1));return o&&(o.setEnd(t,a.length),i.push(o)),i}rangePairToCfiPair(t,e){var i=e.start,r=e.end;i.collapse(!0),r.collapse(!1);let a=new Fe(i,t).toString(),o=new Fe(r,t).toString();return{start:a,end:o}}rangeListToCfiList(t,e){for(var i=[],r,a=0;a<e.length;a++)r=this.rangePairToCfiPair(t,e[a]),i.push(r);return i}axis(t){return t&&(this.horizontal=t==="horizontal"),this.horizontal}}const yR=typeof navigator<"u",n5=yR&&/Chrome/.test(navigator.userAgent),DT=yR&&!n5&&/AppleWebKit/.test(navigator.userAgent),r5=1;class m_{constructor(t,e,i,r){this.epubcfi=new Fe,this.document=t,this.documentElement=this.document.documentElement,this.content=e||this.document.body,this.window=this.document.defaultView,this._size={width:0,height:0},this.sectionIndex=r||0,this.cfiBase=i||"",this.epubReadingSystem("epub.js",Gy),this.called=0,this.active=!0,this.listeners()}static get listenedEvents(){return h0}width(t){var e=this.content;return t&&Wi(t)&&(t=t+"px"),t&&(e.style.width=t),parseInt(this.window.getComputedStyle(e).width)}height(t){var e=this.content;return t&&Wi(t)&&(t=t+"px"),t&&(e.style.height=t),parseInt(this.window.getComputedStyle(e).height)}contentWidth(t){var e=this.content||this.document.body;return t&&Wi(t)&&(t=t+"px"),t&&(e.style.width=t),parseInt(this.window.getComputedStyle(e).width)}contentHeight(t){var e=this.content||this.document.body;return t&&Wi(t)&&(t=t+"px"),t&&(e.style.height=t),parseInt(this.window.getComputedStyle(e).height)}textWidth(){let t,e,i=this.document.createRange(),r=this.content||this.document.body,a=Y0(r);return i.selectNodeContents(r),t=i.getBoundingClientRect(),e=t.width,a&&a.width&&(e+=a.width),Math.round(e)}textHeight(){let t,e,i=this.document.createRange(),r=this.content||this.document.body;return i.selectNodeContents(r),t=i.getBoundingClientRect(),e=t.bottom,Math.round(e)}scrollWidth(){var t=this.documentElement.scrollWidth;return t}scrollHeight(){var t=this.documentElement.scrollHeight;return t}overflow(t){return t&&(this.documentElement.style.overflow=t),this.window.getComputedStyle(this.documentElement).overflow}overflowX(t){return t&&(this.documentElement.style.overflowX=t),this.window.getComputedStyle(this.documentElement).overflowX}overflowY(t){return t&&(this.documentElement.style.overflowY=t),this.window.getComputedStyle(this.documentElement).overflowY}css(t,e,i){var r=this.content||this.document.body;return e?r.style.setProperty(t,e,i?"important":""):r.style.removeProperty(t),this.window.getComputedStyle(r)[t]}viewport(t){var e=this.document.querySelector("meta[name='viewport']"),i={width:void 0,height:void 0,scale:void 0,minimum:void 0,maximum:void 0,scalable:void 0},r=[],a={};if(e&&e.hasAttribute("content")){let o=e.getAttribute("content"),l=o.match(/width\s*=\s*([^,]*)/),h=o.match(/height\s*=\s*([^,]*)/),f=o.match(/initial-scale\s*=\s*([^,]*)/),g=o.match(/minimum-scale\s*=\s*([^,]*)/),m=o.match(/maximum-scale\s*=\s*([^,]*)/),y=o.match(/user-scalable\s*=\s*([^,]*)/);l&&l.length&&typeof l[1]<"u"&&(i.width=l[1]),h&&h.length&&typeof h[1]<"u"&&(i.height=h[1]),f&&f.length&&typeof f[1]<"u"&&(i.scale=f[1]),g&&g.length&&typeof g[1]<"u"&&(i.minimum=g[1]),m&&m.length&&typeof m[1]<"u"&&(i.maximum=m[1]),y&&y.length&&typeof y[1]<"u"&&(i.scalable=y[1])}return a=oR(t||{},i),t&&(a.width&&r.push("width="+a.width),a.height&&r.push("height="+a.height),a.scale&&r.push("initial-scale="+a.scale),a.scalable==="no"?(r.push("minimum-scale="+a.scale),r.push("maximum-scale="+a.scale),r.push("user-scalable="+a.scalable)):(a.scalable&&r.push("user-scalable="+a.scalable),a.minimum&&r.push("minimum-scale="+a.minimum),a.maximum&&r.push("minimum-scale="+a.maximum)),e||(e=this.document.createElement("meta"),e.setAttribute("name","viewport"),this.document.querySelector("head").appendChild(e)),e.setAttribute("content",r.join(", ")),this.window.scrollTo(0,0)),a}expand(){this.emit(Wt.CONTENTS.EXPAND)}listeners(){this.imageLoadListeners(),this.mediaQueryListeners(),this.addEventListeners(),this.addSelectionListeners(),typeof ResizeObserver>"u"?(this.resizeListeners(),this.visibilityListeners()):this.resizeObservers(),this.linksHandler()}removeListeners(){this.removeEventListeners(),this.removeSelectionListeners(),this.observer&&this.observer.disconnect(),clearTimeout(this.expanding)}resizeCheck(){let t=this.textWidth(),e=this.textHeight();(t!=this._size.width||e!=this._size.height)&&(this._size={width:t,height:e},this.onResize&&this.onResize(this._size),this.emit(Wt.CONTENTS.RESIZE,this._size))}resizeListeners(){clearTimeout(this.expanding),requestAnimationFrame(this.resizeCheck.bind(this)),this.expanding=setTimeout(this.resizeListeners.bind(this),350)}visibilityListeners(){document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&this.active===!1?(this.active=!0,this.resizeListeners()):(this.active=!1,clearTimeout(this.expanding))})}transitionListeners(){let t=this.content;t.style.transitionProperty="font, font-size, font-size-adjust, font-stretch, font-variation-settings, font-weight, width, height",t.style.transitionDuration="0.001ms",t.style.transitionTimingFunction="linear",t.style.transitionDelay="0",this._resizeCheck=this.resizeCheck.bind(this),this.document.addEventListener("transitionend",this._resizeCheck)}mediaQueryListeners(){for(var t=this.document.styleSheets,e=(function(l){l.matches&&!this._expanding&&setTimeout(this.expand.bind(this),1)}).bind(this),i=0;i<t.length;i+=1){var r;try{r=t[i].cssRules}catch{return}if(!r)return;for(var a=0;a<r.length;a+=1)if(r[a].media){var o=this.window.matchMedia(r[a].media.mediaText);o.addListener(e)}}}resizeObservers(){this.observer=new ResizeObserver(t=>{requestAnimationFrame(this.resizeCheck.bind(this))}),this.observer.observe(this.document.documentElement)}mutationObservers(){this.observer=new MutationObserver(e=>{this.resizeCheck()});let t={attributes:!0,childList:!0,characterData:!0,subtree:!0};this.observer.observe(this.document,t)}imageLoadListeners(){for(var t=this.document.querySelectorAll("img"),e,i=0;i<t.length;i++)e=t[i],typeof e.naturalWidth<"u"&&e.naturalWidth===0&&(e.onload=this.expand.bind(this))}fontLoadListeners(){!this.document||!this.document.fonts||this.document.fonts.ready.then((function(){this.resizeCheck()}).bind(this))}root(){return this.document?this.document.documentElement:null}locationOf(t,e){var i,r={left:0,top:0};if(!this.document)return r;if(this.epubcfi.isCfiString(t)){let a=new Fe(t).toRange(this.document,e);if(a){try{if(!a.endContainer||a.startContainer==a.endContainer&&a.startOffset==a.endOffset){let o=a.startContainer.textContent.indexOf(" ",a.startOffset);o==-1&&(o=a.startContainer.textContent.length),a.setEnd(a.startContainer,o)}}catch(o){console.error("setting end offset to start container length failed",o)}if(a.startContainer.nodeType===Node.ELEMENT_NODE)i=a.startContainer.getBoundingClientRect(),r.left=i.left,r.top=i.top;else if(DT){let o=a.startContainer,l=new Range;try{o.nodeType===r5?i=o.getBoundingClientRect():a.startOffset+2<o.length?(l.setStart(o,a.startOffset),l.setEnd(o,a.startOffset+2),i=l.getBoundingClientRect()):a.startOffset-2>0?(l.setStart(o,a.startOffset-2),l.setEnd(o,a.startOffset),i=l.getBoundingClientRect()):i=o.parentNode.getBoundingClientRect()}catch(h){console.error(h,h.stack)}}else i=a.getBoundingClientRect()}}else if(typeof t=="string"&&t.indexOf("#")>-1){let a=t.substring(t.indexOf("#")+1),o=this.document.getElementById(a);if(o)if(DT){let l=new Range;l.selectNode(o),i=l.getBoundingClientRect()}else i=o.getBoundingClientRect()}return i&&(r.left=i.left,r.top=i.top),r}addStylesheet(t){return new Promise((function(e,i){var r,a=!1;if(!this.document){e(!1);return}if(r=this.document.querySelector("link[href='"+t+"']"),r){e(!0);return}r=this.document.createElement("link"),r.type="text/css",r.rel="stylesheet",r.href=t,r.onload=r.onreadystatechange=function(){!a&&(!this.readyState||this.readyState=="complete")&&(a=!0,setTimeout(()=>{e(!0)},1))},this.document.head.appendChild(r)}).bind(this))}_getStylesheetNode(t){var e;return t="epubjs-inserted-css-"+(t||""),this.document?(e=this.document.getElementById(t),e||(e=this.document.createElement("style"),e.id=t,this.document.head.appendChild(e)),e):!1}addStylesheetCss(t,e){if(!this.document||!t)return!1;var i;return i=this._getStylesheetNode(e),i.innerHTML=t,!0}addStylesheetRules(t,e){var i;if(!(!this.document||!t||t.length===0))if(i=this._getStylesheetNode(e).sheet,Object.prototype.toString.call(t)==="[object Array]")for(var r=0,a=t.length;r<a;r++){var o=1,l=t[r],h=t[r][0],f="";Object.prototype.toString.call(l[1][0])==="[object Array]"&&(l=l[1],o=0);for(var g=l.length;o<g;o++){var m=l[o];f+=m[0]+":"+m[1]+(m[2]?" !important":"")+`;
`}i.insertRule(h+"{"+f+"}",i.cssRules.length)}else Object.keys(t).forEach(b=>{const T=t[b];if(Array.isArray(T))T.forEach(A=>{const E=Object.keys(A).map(D=>`${D}:${A[D]}`).join(";");i.insertRule(`${b}{${E}}`,i.cssRules.length)});else{const w=Object.keys(T).map(E=>`${E}:${T[E]}`).join(";");i.insertRule(`${b}{${w}}`,i.cssRules.length)}})}addScript(t){return new Promise((function(e,i){var r,a=!1;if(!this.document){e(!1);return}r=this.document.createElement("script"),r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){!a&&(!this.readyState||this.readyState=="complete")&&(a=!0,setTimeout(function(){e(!0)},1))},this.document.head.appendChild(r)}).bind(this))}addClass(t){var e;this.document&&(e=this.content||this.document.body,e&&e.classList.add(t))}removeClass(t){var e;this.document&&(e=this.content||this.document.body,e&&e.classList.remove(t))}addEventListeners(){this.document&&(this._triggerEvent=this.triggerEvent.bind(this),h0.forEach(function(t){this.document.addEventListener(t,this._triggerEvent,{passive:!0})},this))}removeEventListeners(){this.document&&(h0.forEach(function(t){this.document.removeEventListener(t,this._triggerEvent,{passive:!0})},this),this._triggerEvent=void 0)}triggerEvent(t){this.emit(t.type,t)}addSelectionListeners(){this.document&&(this._onSelectionChange=this.onSelectionChange.bind(this),this.document.addEventListener("selectionchange",this._onSelectionChange,{passive:!0}))}removeSelectionListeners(){this.document&&(this.document.removeEventListener("selectionchange",this._onSelectionChange,{passive:!0}),this._onSelectionChange=void 0)}onSelectionChange(t){this.selectionEndTimeout&&clearTimeout(this.selectionEndTimeout),this.selectionEndTimeout=setTimeout((function(){var e=this.window.getSelection();this.triggerSelectedEvent(e)}).bind(this),250)}triggerSelectedEvent(t){var e,i;t&&t.rangeCount>0&&(e=t.getRangeAt(0),e.collapsed||(i=new Fe(e,this.cfiBase).toString(),this.emit(Wt.CONTENTS.SELECTED,i),this.emit(Wt.CONTENTS.SELECTED_RANGE,e)))}range(t,e){var i=new Fe(t);return i.toRange(this.document,e)}cfiFromRange(t,e){return new Fe(t,this.cfiBase,e).toString()}cfiFromNode(t,e){return new Fe(t,this.cfiBase,e).toString()}map(t){var e=new J0(t);return e.section()}size(t,e){var i={scale:1,scalable:"no"};this.layoutStyle("scrolling"),t>=0&&(this.width(t),i.width=t,this.css("padding","0 "+t/12+"px")),e>=0&&(this.height(e),i.height=e),this.css("margin","0"),this.css("box-sizing","border-box"),this.viewport(i)}columns(t,e,i,r,a){let o=Bh("column-axis"),l=Bh("column-gap"),h=Bh("column-width"),f=Bh("column-fill"),m=this.writingMode().indexOf("vertical")===0?"vertical":"horizontal";this.layoutStyle("paginated"),a==="rtl"&&m==="horizontal"&&this.direction(a),this.width(t),this.height(e),this.viewport({width:t,height:e,scale:1,scalable:"no"}),this.css("overflow-y","hidden"),this.css("margin","0",!0),m==="vertical"?(this.css("padding-top",r/2+"px",!0),this.css("padding-bottom",r/2+"px",!0),this.css("padding-left","20px"),this.css("padding-right","20px"),this.css(o,"vertical")):(this.css("padding-top","20px"),this.css("padding-bottom","20px"),this.css("padding-left",r/2+"px",!0),this.css("padding-right",r/2+"px",!0),this.css(o,"horizontal")),this.css("box-sizing","border-box"),this.css("max-width","inherit"),this.css(f,"auto"),this.css(l,r+"px"),this.css(h,i+"px"),this.css("-webkit-line-box-contain","block glyphs replaced")}scaler(t,e,i){var r="scale("+t+")",a="";this.css("transform-origin","top left"),(e>=0||i>=0)&&(a=" translate("+(e||0)+"px, "+(i||0)+"px )"),this.css("transform",r+a)}fit(t,e,i){var r=this.viewport(),a=parseInt(r.width),o=parseInt(r.height),l=t/a,h=e/o,f=l<h?l:h;if(this.layoutStyle("paginated"),this.width(a),this.height(o),this.overflow("hidden"),this.scaler(f,0,0),this.css("background-size",a*f+"px "+o*f+"px"),this.css("background-color","transparent"),i&&i.properties.includes("page-spread-left")){var g=t-a*f;this.css("margin-left",g+"px")}}direction(t){this.documentElement&&(this.documentElement.style.direction=t)}mapPage(t,e,i,r,a){var o=new J0(e,a);return o.page(this,t,i,r)}linksHandler(){YP(this.content,t=>{this.emit(Wt.CONTENTS.LINK_CLICKED,t)})}writingMode(t){let e=Bh("writing-mode");return t&&this.documentElement&&(this.documentElement.style[e]=t),this.window.getComputedStyle(this.documentElement)[e]||""}layoutStyle(t){return t&&(this._layoutStyle=t,navigator.epubReadingSystem.layoutStyle=this._layoutStyle),this._layoutStyle||"paginated"}epubReadingSystem(t,e){return navigator.epubReadingSystem={name:t,version:e,layoutStyle:this.layoutStyle(),hasFeature:function(i){switch(i){case"dom-manipulation":return!0;case"layout-changes":return!0;case"touch-events":return!0;case"mouse-events":return!0;case"keyboard-events":return!0;case"spine-scripting":return!1;default:return!1}}},navigator.epubReadingSystem}destroy(){this.removeListeners()}}Ma(m_.prototype);class s5{constructor(t){this.rendition=t,this.highlights=[],this.underlines=[],this.marks=[],this._annotations={},this._annotationsBySectionIndex={},this.rendition.hooks.render.register(this.inject.bind(this)),this.rendition.hooks.unloaded.register(this.clear.bind(this))}add(t,e,i,r,a,o){let l=encodeURI(e+t),f=new Fe(e).spinePos,g=new bR({type:t,cfiRange:e,data:i,sectionIndex:f,cb:r,className:a,styles:o});return this._annotations[l]=g,f in this._annotationsBySectionIndex?this._annotationsBySectionIndex[f].push(l):this._annotationsBySectionIndex[f]=[l],this.rendition.views().forEach(y=>{g.sectionIndex===y.index&&g.attach(y)}),g}remove(t,e){let i=encodeURI(t+e);if(i in this._annotations){let r=this._annotations[i];if(e&&r.type!==e)return;this.rendition.views().forEach(o=>{this._removeFromAnnotationBySectionIndex(r.sectionIndex,i),r.sectionIndex===o.index&&r.detach(o)}),delete this._annotations[i]}}_removeFromAnnotationBySectionIndex(t,e){this._annotationsBySectionIndex[t]=this._annotationsAt(t).filter(i=>i!==e)}_annotationsAt(t){return this._annotationsBySectionIndex[t]}highlight(t,e,i,r,a){return this.add("highlight",t,e,i,r,a)}underline(t,e,i,r,a){return this.add("underline",t,e,i,r,a)}mark(t,e,i){return this.add("mark",t,e,i)}each(){return this._annotations.forEach.apply(this._annotations,arguments)}inject(t){let e=t.index;e in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[e].forEach(r=>{this._annotations[r].attach(t)})}clear(t){let e=t.index;e in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[e].forEach(r=>{this._annotations[r].detach(t)})}show(){}hide(){}}class bR{constructor({type:t,cfiRange:e,data:i,sectionIndex:r,cb:a,className:o,styles:l}){this.type=t,this.cfiRange=e,this.data=i,this.sectionIndex=r,this.mark=void 0,this.cb=a,this.className=o,this.styles=l}update(t){this.data=t}attach(t){let{cfiRange:e,data:i,type:r,mark:a,cb:o,className:l,styles:h}=this,f;return r==="highlight"?f=t.highlight(e,i,o,l,h):r==="underline"?f=t.underline(e,i,o,l,h):r==="mark"&&(f=t.mark(e,i,o)),this.mark=f,this.emit(Wt.ANNOTATION.ATTACH,f),f}detach(t){let{cfiRange:e,type:i}=this,r;return t&&(i==="highlight"?r=t.unhighlight(e):i==="underline"?r=t.ununderline(e):i==="mark"&&(r=t.unmark(e))),this.mark=void 0,this.emit(Wt.ANNOTATION.DETACH,r),r}text(){}}Ma(bR.prototype);var Ms={},gp={},RT;function a5(){if(RT)return gp;RT=1,Object.defineProperty(gp,"__esModule",{value:!0}),gp.createElement=u;function u(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}return gp.default={createElement:u},gp}var Ih={},kT;function o5(){if(kT)return Ih;kT=1,Object.defineProperty(Ih,"__esModule",{value:!0}),Ih.proxyMouse=u,Ih.clone=t,Ih.default={proxyMouse:u};function u(i,r){function a(f){for(var g=r.length-1;g>=0;g--){var m=r[g],y=f.clientX,b=f.clientY;if(f.touches&&f.touches.length&&(y=f.touches[0].clientX,b=f.touches[0].clientY),!!e(m,i,y,b)){m.dispatchEvent(t(f));break}}}if(i.nodeName==="iframe"||i.nodeName==="IFRAME")try{this.target=i.contentDocument}catch{this.target=i}else this.target=i;for(var o=["mouseup","mousedown","click","touchstart"],l=0;l<o.length;l++){var h=o[l];this.target.addEventListener(h,function(f){return a(f)},!1)}}function t(i){var r=Object.assign({},i,{bubbles:!1});try{return new MouseEvent(i.type,r)}catch{var a=document.createEvent("MouseEvents");return a.initMouseEvent(i.type,!1,r.cancelable,r.view,r.detail,r.screenX,r.screenY,r.clientX,r.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.button,r.relatedTarget),a}}function e(i,r,a,o){var l=r.getBoundingClientRect();function h(b,T,A){var w=b.top-l.top,E=b.left-l.left,D=w+b.height,R=E+b.width;return w<=A&&E<=T&&D>A&&R>T}var f=i.getBoundingClientRect();if(!h(f,a,o))return!1;for(var g=i.getClientRects(),m=0,y=g.length;m<y;m++)if(h(g[m],a,o))return!0;return!1}return Ih}var NT;function l5(){if(NT)return Ms;NT=1,Object.defineProperty(Ms,"__esModule",{value:!0}),Ms.Underline=Ms.Highlight=Ms.Mark=Ms.Pane=void 0;var u=function A(w,E,D){w===null&&(w=Function.prototype);var R=Object.getOwnPropertyDescriptor(w,E);if(R===void 0){var N=Object.getPrototypeOf(w);return N===null?void 0:A(N,E,D)}else{if("value"in R)return R.value;var x=R.get;return x===void 0?void 0:x.call(D)}},t=function(){function A(w,E){for(var D=0;D<E.length;D++){var R=E[D];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(w,R.key,R)}}return function(w,E,D){return E&&A(w.prototype,E),D&&A(w,D),w}}(),e=a5(),i=o(e),r=o5(),a=o(r);function o(A){return A&&A.__esModule?A:{default:A}}function l(A,w){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:A}function h(A,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);A.prototype=Object.create(w&&w.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(A,w):A.__proto__=w)}function f(A,w){if(!(A instanceof w))throw new TypeError("Cannot call a class as a function")}Ms.Pane=function(){function A(w){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document.body;f(this,A),this.target=w,this.element=i.default.createElement("svg"),this.marks=[],this.element.style.position="absolute",this.element.setAttribute("pointer-events","none"),a.default.proxyMouse(this.target,this.marks),this.container=E,this.container.appendChild(this.element),this.render()}return t(A,[{key:"addMark",value:function(E){var D=i.default.createElement("g");return this.element.appendChild(D),E.bind(D,this.container),this.marks.push(E),E.render(),E}},{key:"removeMark",value:function(E){var D=this.marks.indexOf(E);if(D!==-1){var R=E.unbind();this.element.removeChild(R),this.marks.splice(D,1)}}},{key:"render",value:function(){b(this.element,y(this.target,this.container));var E=!0,D=!1,R=void 0;try{for(var N=this.marks[Symbol.iterator](),x;!(E=(x=N.next()).done);E=!0){var L=x.value;L.render()}}catch(I){D=!0,R=I}finally{try{!E&&N.return&&N.return()}finally{if(D)throw R}}}}]),A}();var g=Ms.Mark=function(){function A(){f(this,A),this.element=null}return t(A,[{key:"bind",value:function(E,D){this.element=E,this.container=D}},{key:"unbind",value:function(){var E=this.element;return this.element=null,E}},{key:"render",value:function(){}},{key:"dispatchEvent",value:function(E){this.element&&this.element.dispatchEvent(E)}},{key:"getBoundingClientRect",value:function(){return this.element.getBoundingClientRect()}},{key:"getClientRects",value:function(){for(var E=[],D=this.element.firstChild;D;)E.push(D.getBoundingClientRect()),D=D.nextSibling;return E}},{key:"filteredRanges",value:function(){var E=Array.from(this.range.getClientRects());return E.filter(function(D){for(var R=0;R<E.length;R++){if(E[R]===D)return!0;var N=T(E[R],D);if(N)return!1}return!0})}}]),A}(),m=Ms.Highlight=function(A){h(w,A);function w(E,D,R,N){f(this,w);var x=l(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));return x.range=E,x.className=D,x.data=R||{},x.attributes=N||{},x}return t(w,[{key:"bind",value:function(D,R){u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"bind",this).call(this,D,R);for(var N in this.data)this.data.hasOwnProperty(N)&&(this.element.dataset[N]=this.data[N]);for(var N in this.attributes)this.attributes.hasOwnProperty(N)&&this.element.setAttribute(N,this.attributes[N]);this.className&&this.element.classList.add(this.className)}},{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var D=this.element.ownerDocument.createDocumentFragment(),R=this.filteredRanges(),N=this.element.getBoundingClientRect(),x=this.container.getBoundingClientRect(),L=0,I=R.length;L<I;L++){var U=R[L],F=i.default.createElement("rect");F.setAttribute("x",U.left-N.left+x.left),F.setAttribute("y",U.top-N.top+x.top),F.setAttribute("height",U.height),F.setAttribute("width",U.width),D.appendChild(F)}this.element.appendChild(D)}}]),w}(g);Ms.Underline=function(A){h(w,A);function w(E,D,R,N){return f(this,w),l(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,E,D,R,N))}return t(w,[{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var D=this.element.ownerDocument.createDocumentFragment(),R=this.filteredRanges(),N=this.element.getBoundingClientRect(),x=this.container.getBoundingClientRect(),L=0,I=R.length;L<I;L++){var U=R[L],F=i.default.createElement("rect");F.setAttribute("x",U.left-N.left+x.left),F.setAttribute("y",U.top-N.top+x.top),F.setAttribute("height",U.height),F.setAttribute("width",U.width),F.setAttribute("fill","none");var k=i.default.createElement("line");k.setAttribute("x1",U.left-N.left+x.left),k.setAttribute("x2",U.left-N.left+x.left+U.width),k.setAttribute("y1",U.top-N.top+x.top+U.height-1),k.setAttribute("y2",U.top-N.top+x.top+U.height-1),k.setAttribute("stroke-width",1),k.setAttribute("stroke","black"),k.setAttribute("stroke-linecap","square"),D.appendChild(F),D.appendChild(k)}this.element.appendChild(D)}}]),w}(m);function y(A,w){var E=w.getBoundingClientRect(),D=A.getBoundingClientRect();return{top:D.top-E.top,left:D.left-E.left,height:A.scrollHeight,width:A.scrollWidth}}function b(A,w){A.style.setProperty("top",w.top+"px","important"),A.style.setProperty("left",w.left+"px","important"),A.style.setProperty("height",w.height+"px","important"),A.style.setProperty("width",w.width+"px","important")}function T(A,w){return w.right<=A.right&&w.left>=A.left&&w.top>=A.top&&w.bottom<=A.bottom}return Ms}var Zv=l5();class wR{constructor(t,e){this.settings=jn({ignoreClass:"",axis:void 0,direction:void 0,width:0,height:0,layout:void 0,globalLayoutProperties:{},method:void 0,forceRight:!1,allowScriptedContent:!1,allowPopups:!1},e||{}),this.id="epubjs-view-"+qy(),this.section=t,this.index=t.index,this.element=this.container(this.settings.axis),this.added=!1,this.displayed=!1,this.rendered=!1,this.fixedWidth=0,this.fixedHeight=0,this.epubcfi=new Fe,this.layout=this.settings.layout,this.pane=void 0,this.highlights={},this.underlines={},this.marks={}}container(t){var e=document.createElement("div");return e.classList.add("epub-view"),e.style.height="0px",e.style.width="0px",e.style.overflow="hidden",e.style.position="relative",e.style.display="block",t&&t=="horizontal"?e.style.flex="none":e.style.flex="initial",e}create(){return this.iframe?this.iframe:(this.element||(this.element=this.createContainer()),this.iframe=document.createElement("iframe"),this.iframe.id=this.id,this.iframe.scrolling="no",this.iframe.style.overflow="hidden",this.iframe.seamless="seamless",this.iframe.style.border="none",this.iframe.sandbox="allow-same-origin",this.settings.allowScriptedContent&&(this.iframe.sandbox+=" allow-scripts"),this.settings.allowPopups&&(this.iframe.sandbox+=" allow-popups"),this.iframe.setAttribute("enable-annotation","true"),this.resizing=!0,this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this.element.setAttribute("ref",this.index),this.added=!0,this.elementBounds=c0(this.element),"srcdoc"in this.iframe?this.supportsSrcdoc=!0:this.supportsSrcdoc=!1,this.settings.method||(this.settings.method=this.supportsSrcdoc?"srcdoc":"write"),this.iframe)}render(t,e){return this.create(),this.size(),this.sectionRender||(this.sectionRender=this.section.render(t)),this.sectionRender.then((function(i){return this.load(i)}).bind(this)).then((function(){let i=this.contents.writingMode(),r;return this.settings.flow==="scrolled"?r=i.indexOf("vertical")===0?"horizontal":"vertical":r=i.indexOf("vertical")===0?"vertical":"horizontal",i.indexOf("vertical")===0&&this.settings.flow==="paginated"&&(this.layout.delta=this.layout.height),this.setAxis(r),this.emit(Wt.VIEWS.AXIS,r),this.setWritingMode(i),this.emit(Wt.VIEWS.WRITING_MODE,i),this.layout.format(this.contents,this.section,this.axis),this.addListeners(),new Promise((a,o)=>{this.expand(),this.settings.forceRight&&(this.element.style.marginLeft=this.width()+"px"),a()})}).bind(this),(function(i){return this.emit(Wt.VIEWS.LOAD_ERROR,i),new Promise((r,a)=>{a(i)})}).bind(this)).then((function(){this.emit(Wt.VIEWS.RENDERED,this.section)}).bind(this))}reset(){this.iframe&&(this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this._textWidth=void 0,this._contentWidth=void 0,this._textHeight=void 0,this._contentHeight=void 0),this._needsReframe=!0}size(t,e){var i=t||this.settings.width,r=e||this.settings.height;this.layout.name==="pre-paginated"?this.lock("both",i,r):this.settings.axis==="horizontal"?this.lock("height",i,r):this.lock("width",i,r),this.settings.width=i,this.settings.height=r}lock(t,e,i){var r=Y0(this.element),a;this.iframe?a=Y0(this.iframe):a={width:0,height:0},t=="width"&&Wi(e)&&(this.lockedWidth=e-r.width-a.width),t=="height"&&Wi(i)&&(this.lockedHeight=i-r.height-a.height),t==="both"&&Wi(e)&&Wi(i)&&(this.lockedWidth=e-r.width-a.width,this.lockedHeight=i-r.height-a.height),this.displayed&&this.iframe&&this.expand()}expand(t){var e=this.lockedWidth,i=this.lockedHeight,r;!this.iframe||this._expanding||(this._expanding=!0,this.layout.name==="pre-paginated"?(e=this.layout.columnWidth,i=this.layout.height):this.settings.axis==="horizontal"?(e=this.contents.textWidth(),e%this.layout.pageWidth>0&&(e=Math.ceil(e/this.layout.pageWidth)*this.layout.pageWidth),this.settings.forceEvenPages&&(r=e/this.layout.pageWidth,this.layout.divisor>1&&this.layout.name==="reflowable"&&r%2>0&&(e+=this.layout.pageWidth))):this.settings.axis==="vertical"&&(i=this.contents.textHeight(),this.settings.flow==="paginated"&&i%this.layout.height>0&&(i=Math.ceil(i/this.layout.height)*this.layout.height)),(this._needsReframe||e!=this._width||i!=this._height)&&this.reframe(e,i),this._expanding=!1)}reframe(t,e){var i;Wi(t)&&(this.element.style.width=t+"px",this.iframe.style.width=t+"px",this._width=t),Wi(e)&&(this.element.style.height=e+"px",this.iframe.style.height=e+"px",this._height=e);let r=this.prevBounds?t-this.prevBounds.width:t,a=this.prevBounds?e-this.prevBounds.height:e;i={width:t,height:e,widthDelta:r,heightDelta:a},this.pane&&this.pane.render(),requestAnimationFrame(()=>{let o;for(let l in this.marks)this.marks.hasOwnProperty(l)&&(o=this.marks[l],this.placeMark(o.element,o.range))}),this.onResize(this,i),this.emit(Wt.VIEWS.RESIZED,i),this.prevBounds=i,this.elementBounds=c0(this.element)}load(t){var e=new ze,i=e.promise;if(!this.iframe)return e.reject(new Error("No Iframe Available")),i;if(this.iframe.onload=(function(a){this.onLoad(a,e)}).bind(this),this.settings.method==="blobUrl")this.blobUrl=K0(t,"application/xhtml+xml"),this.iframe.src=this.blobUrl,this.element.appendChild(this.iframe);else if(this.settings.method==="srcdoc")this.iframe.srcdoc=t,this.element.appendChild(this.iframe);else{if(this.element.appendChild(this.iframe),this.document=this.iframe.contentDocument,!this.document)return e.reject(new Error("No Document Available")),i;if(this.iframe.contentDocument.open(),window.MSApp&&MSApp.execUnsafeLocalFunction){var r=this;MSApp.execUnsafeLocalFunction(function(){r.iframe.contentDocument.write(t)})}else this.iframe.contentDocument.write(t);this.iframe.contentDocument.close()}return i}onLoad(t,e){this.window=this.iframe.contentWindow,this.document=this.iframe.contentDocument,this.contents=new m_(this.document,this.document.body,this.section.cfiBase,this.section.index),this.rendering=!1;var i=this.document.querySelector("link[rel='canonical']");i?i.setAttribute("href",this.section.canonical):(i=this.document.createElement("link"),i.setAttribute("rel","canonical"),i.setAttribute("href",this.section.canonical),this.document.querySelector("head").appendChild(i)),this.contents.on(Wt.CONTENTS.EXPAND,()=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),this.contents.on(Wt.CONTENTS.RESIZE,r=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),e.resolve(this.contents)}setLayout(t){this.layout=t,this.contents&&(this.layout.format(this.contents),this.expand())}setAxis(t){this.settings.axis=t,t=="horizontal"?this.element.style.flex="none":this.element.style.flex="initial",this.size()}setWritingMode(t){this.writingMode=t}addListeners(){}removeListeners(t){}display(t){var e=new ze;return this.displayed?e.resolve(this):this.render(t).then((function(){this.emit(Wt.VIEWS.DISPLAYED,this),this.onDisplayed(this),this.displayed=!0,e.resolve(this)}).bind(this),function(i){e.reject(i,this)}),e.promise}show(){this.element.style.visibility="visible",this.iframe&&(this.iframe.style.visibility="visible",this.iframe.style.transform="translateZ(0)",this.iframe.offsetWidth,this.iframe.style.transform=null),this.emit(Wt.VIEWS.SHOWN,this)}hide(){this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.stopExpanding=!0,this.emit(Wt.VIEWS.HIDDEN,this)}offset(){return{top:this.element.offsetTop,left:this.element.offsetLeft}}width(){return this._width}height(){return this._height}position(){return this.element.getBoundingClientRect()}locationOf(t){this.iframe.getBoundingClientRect();var e=this.contents.locationOf(t,this.settings.ignoreClass);return{left:e.left,top:e.top}}onDisplayed(t){}onResize(t,e){}bounds(t){return(t||!this.elementBounds)&&(this.elementBounds=c0(this.element)),this.elementBounds}highlight(t,e={},i,r="epubjs-hl",a={}){if(!this.contents)return;const o=Object.assign({fill:"yellow","fill-opacity":"0.3","mix-blend-mode":"multiply"},a);let l=this.contents.range(t),h=()=>{this.emit(Wt.VIEWS.MARK_CLICKED,t,e)};e.epubcfi=t,this.pane||(this.pane=new Zv.Pane(this.iframe,this.element));let f=new Zv.Highlight(l,r,e,o),g=this.pane.addMark(f);return this.highlights[t]={mark:g,element:g.element,listeners:[h,i]},g.element.setAttribute("ref",r),g.element.addEventListener("click",h),g.element.addEventListener("touchstart",h),i&&(g.element.addEventListener("click",i),g.element.addEventListener("touchstart",i)),g}underline(t,e={},i,r="epubjs-ul",a={}){if(!this.contents)return;const o=Object.assign({stroke:"black","stroke-opacity":"0.3","mix-blend-mode":"multiply"},a);let l=this.contents.range(t),h=()=>{this.emit(Wt.VIEWS.MARK_CLICKED,t,e)};e.epubcfi=t,this.pane||(this.pane=new Zv.Pane(this.iframe,this.element));let f=new Zv.Underline(l,r,e,o),g=this.pane.addMark(f);return this.underlines[t]={mark:g,element:g.element,listeners:[h,i]},g.element.setAttribute("ref",r),g.element.addEventListener("click",h),g.element.addEventListener("touchstart",h),i&&(g.element.addEventListener("click",i),g.element.addEventListener("touchstart",i)),g}mark(t,e={},i){if(!this.contents)return;if(t in this.marks)return this.marks[t];let r=this.contents.range(t);if(!r)return;let a=r.commonAncestorContainer,o=a.nodeType===1?a:a.parentNode,l=f=>{this.emit(Wt.VIEWS.MARK_CLICKED,t,e)};r.collapsed&&a.nodeType===1?(r=new Range,r.selectNodeContents(a)):r.collapsed&&(r=new Range,r.selectNodeContents(o));let h=this.document.createElement("a");return h.setAttribute("ref","epubjs-mk"),h.style.position="absolute",h.dataset.epubcfi=t,e&&Object.keys(e).forEach(f=>{h.dataset[f]=e[f]}),i&&(h.addEventListener("click",i),h.addEventListener("touchstart",i)),h.addEventListener("click",l),h.addEventListener("touchstart",l),this.placeMark(h,r),this.element.appendChild(h),this.marks[t]={element:h,range:r,listeners:[l,i]},o}placeMark(t,e){let i,r,a;if(this.layout.name==="pre-paginated"||this.settings.axis!=="horizontal"){let l=e.getBoundingClientRect();i=l.top,r=l.right}else{let l=e.getClientRects(),h;for(var o=0;o!=l.length;o++)h=l[o],(!a||h.left<a)&&(a=h.left,r=Math.ceil(a/this.layout.props.pageWidth)*this.layout.props.pageWidth-this.layout.gap/2,i=h.top)}t.style.top=`${i}px`,t.style.left=`${r}px`}unhighlight(t){let e;t in this.highlights&&(e=this.highlights[t],this.pane.removeMark(e.mark),e.listeners.forEach(i=>{i&&(e.element.removeEventListener("click",i),e.element.removeEventListener("touchstart",i))}),delete this.highlights[t])}ununderline(t){let e;t in this.underlines&&(e=this.underlines[t],this.pane.removeMark(e.mark),e.listeners.forEach(i=>{i&&(e.element.removeEventListener("click",i),e.element.removeEventListener("touchstart",i))}),delete this.underlines[t])}unmark(t){let e;t in this.marks&&(e=this.marks[t],this.element.removeChild(e.element),e.listeners.forEach(i=>{i&&(e.element.removeEventListener("click",i),e.element.removeEventListener("touchstart",i))}),delete this.marks[t])}destroy(){for(let t in this.highlights)this.unhighlight(t);for(let t in this.underlines)this.ununderline(t);for(let t in this.marks)this.unmark(t);this.blobUrl&&cR(this.blobUrl),this.displayed&&(this.displayed=!1,this.removeListeners(),this.contents.destroy(),this.stopExpanding=!0,this.element.removeChild(this.iframe),this.pane&&(this.pane.element.remove(),this.pane=void 0),this.iframe=void 0,this.contents=void 0,this._textWidth=null,this._textHeight=null,this._width=null,this._height=null)}}Ma(wR.prototype);function u5(){var u="reverse",t=c5();return document.body.appendChild(t),t.scrollLeft>0?u="default":typeof Element<"u"&&Element.prototype.scrollIntoView?(t.children[0].children[1].scrollIntoView(),t.scrollLeft<0&&(u="negative")):(t.scrollLeft=1,t.scrollLeft===0&&(u="negative")),document.body.removeChild(t),u}function c5(){var u=document.createElement("div");u.dir="rtl",u.style.position="fixed",u.style.width="1px",u.style.height="1px",u.style.top="0px",u.style.left="0px",u.style.overflow="hidden";var t=document.createElement("div");t.style.width="2px";var e=document.createElement("span");e.style.width="1px",e.style.display="inline-block";var i=document.createElement("span");return i.style.width="1px",i.style.display="inline-block",t.appendChild(e),t.appendChild(i),u.appendChild(t),u}var B1,OT;function v_(){if(OT)return B1;OT=1;function u(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}return B1=u,B1}var P1,MT;function h5(){if(MT)return P1;MT=1;var u=typeof xs=="object"&&xs&&xs.Object===Object&&xs;return P1=u,P1}var z1,LT;function AR(){if(LT)return z1;LT=1;var u=h5(),t=typeof self=="object"&&self&&self.Object===Object&&self,e=u||t||Function("return this")();return z1=e,z1}var F1,IT;function f5(){if(IT)return F1;IT=1;var u=AR(),t=function(){return u.Date.now()};return F1=t,F1}var U1,BT;function d5(){if(BT)return U1;BT=1;var u=/\s/;function t(e){for(var i=e.length;i--&&u.test(e.charAt(i)););return i}return U1=t,U1}var H1,PT;function p5(){if(PT)return H1;PT=1;var u=d5(),t=/^\s+/;function e(i){return i&&i.slice(0,u(i)+1).replace(t,"")}return H1=e,H1}var j1,zT;function _R(){if(zT)return j1;zT=1;var u=AR(),t=u.Symbol;return j1=t,j1}var q1,FT;function g5(){if(FT)return q1;FT=1;var u=_R(),t=Object.prototype,e=t.hasOwnProperty,i=t.toString,r=u?u.toStringTag:void 0;function a(o){var l=e.call(o,r),h=o[r];try{o[r]=void 0;var f=!0}catch{}var g=i.call(o);return f&&(l?o[r]=h:delete o[r]),g}return q1=a,q1}var G1,UT;function m5(){if(UT)return G1;UT=1;var u=Object.prototype,t=u.toString;function e(i){return t.call(i)}return G1=e,G1}var V1,HT;function v5(){if(HT)return V1;HT=1;var u=_R(),t=g5(),e=m5(),i="[object Null]",r="[object Undefined]",a=u?u.toStringTag:void 0;function o(l){return l==null?l===void 0?r:i:a&&a in Object(l)?t(l):e(l)}return V1=o,V1}var $1,jT;function y5(){if(jT)return $1;jT=1;function u(t){return t!=null&&typeof t=="object"}return $1=u,$1}var W1,qT;function b5(){if(qT)return W1;qT=1;var u=v5(),t=y5(),e="[object Symbol]";function i(r){return typeof r=="symbol"||t(r)&&u(r)==e}return W1=i,W1}var Y1,GT;function w5(){if(GT)return Y1;GT=1;var u=p5(),t=v_(),e=b5(),i=NaN,r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function h(f){if(typeof f=="number")return f;if(e(f))return i;if(t(f)){var g=typeof f.valueOf=="function"?f.valueOf():f;f=t(g)?g+"":g}if(typeof f!="string")return f===0?f:+f;f=u(f);var m=a.test(f);return m||o.test(f)?l(f.slice(2),m?2:8):r.test(f)?i:+f}return Y1=h,Y1}var X1,VT;function ER(){if(VT)return X1;VT=1;var u=v_(),t=f5(),e=w5(),i="Expected a function",r=Math.max,a=Math.min;function o(l,h,f){var g,m,y,b,T,A,w=0,E=!1,D=!1,R=!0;if(typeof l!="function")throw new TypeError(i);h=e(h)||0,u(f)&&(E=!!f.leading,D="maxWait"in f,y=D?r(e(f.maxWait)||0,h):y,R="trailing"in f?!!f.trailing:R);function N(J){var ft=g,bt=m;return g=m=void 0,w=J,b=l.apply(bt,ft),b}function x(J){return w=J,T=setTimeout(U,h),E?N(J):b}function L(J){var ft=J-A,bt=J-w,X=h-ft;return D?a(X,y-bt):X}function I(J){var ft=J-A,bt=J-w;return A===void 0||ft>=h||ft<0||D&&bt>=y}function U(){var J=t();if(I(J))return F(J);T=setTimeout(U,L(J))}function F(J){return T=void 0,R&&g?N(J):(g=m=void 0,b)}function k(){T!==void 0&&clearTimeout(T),w=0,g=A=m=T=void 0}function $(){return T===void 0?b:F(t())}function Y(){var J=t(),ft=I(J);if(g=arguments,m=this,A=J,ft){if(T===void 0)return x(A);if(D)return clearTimeout(T),T=setTimeout(U,h),N(A)}return T===void 0&&(T=setTimeout(U,h)),b}return Y.cancel=k,Y.flush=$,Y}return X1=o,X1}var K1,$T;function A5(){if($T)return K1;$T=1;var u=ER(),t=v_(),e="Expected a function";function i(r,a,o){var l=!0,h=!0;if(typeof r!="function")throw new TypeError(e);return t(o)&&(l="leading"in o?!!o.leading:l,h="trailing"in o?!!o.trailing:h),u(r,a,{leading:l,maxWait:a,trailing:h})}return K1=i,K1}var _5=A5();const E5=qc(_5);class S5{constructor(t){this.settings=t||{},this.id="epubjs-container-"+qy(),this.container=this.create(this.settings),this.settings.hidden&&(this.wrapper=this.wrap(this.container))}create(t){let e=t.height,i=t.width,r=t.overflow||!1,a=t.axis||"vertical",o=t.direction;jn(this.settings,t),t.height&&Wi(t.height)&&(e=t.height+"px"),t.width&&Wi(t.width)&&(i=t.width+"px");let l=document.createElement("div");return l.id=this.id,l.classList.add("epub-container"),l.style.wordSpacing="0",l.style.lineHeight="0",l.style.verticalAlign="top",l.style.position="relative",a==="horizontal"&&(l.style.display="flex",l.style.flexDirection="row",l.style.flexWrap="nowrap"),i&&(l.style.width=i),e&&(l.style.height=e),r&&(r==="scroll"&&a==="vertical"?(l.style["overflow-y"]=r,l.style["overflow-x"]="hidden"):r==="scroll"&&a==="horizontal"?(l.style["overflow-y"]="hidden",l.style["overflow-x"]=r):l.style.overflow=r),o&&(l.dir=o,l.style.direction=o),o&&this.settings.fullsize&&(document.body.style.direction=o),l}wrap(t){var e=document.createElement("div");return e.style.visibility="hidden",e.style.overflow="hidden",e.style.width="0",e.style.height="0",e.appendChild(t),e}getElement(t){var e;if(sR(t)?e=t:typeof t=="string"&&(e=document.getElementById(t)),!e)throw new Error("Not an Element");return e}attachTo(t){var e=this.getElement(t),i;if(e)return this.settings.hidden?i=this.wrapper:i=this.container,e.appendChild(i),this.element=e,e}getContainer(){return this.container}onResize(t){(!Wi(this.settings.width)||!Wi(this.settings.height))&&(this.resizeFunc=E5(t,50),window.addEventListener("resize",this.resizeFunc,!1))}onOrientationChange(t){this.orientationChangeFunc=t,window.addEventListener("orientationchange",this.orientationChangeFunc,!1)}size(t,e){var i;let r=t||this.settings.width,a=e||this.settings.height;t===null?(i=this.element.getBoundingClientRect(),i.width&&(t=Math.floor(i.width),this.container.style.width=t+"px")):Wi(t)?this.container.style.width=t+"px":this.container.style.width=t,e===null?(i=i||this.element.getBoundingClientRect(),i.height&&(e=i.height,this.container.style.height=e+"px")):Wi(e)?this.container.style.height=e+"px":this.container.style.height=e,Wi(t)||(t=this.container.clientWidth),Wi(e)||(e=this.container.clientHeight),this.containerStyles=window.getComputedStyle(this.container),this.containerPadding={left:parseFloat(this.containerStyles["padding-left"])||0,right:parseFloat(this.containerStyles["padding-right"])||0,top:parseFloat(this.containerStyles["padding-top"])||0,bottom:parseFloat(this.containerStyles["padding-bottom"])||0};let o=X0(),l=window.getComputedStyle(document.body),h={left:parseFloat(l["padding-left"])||0,right:parseFloat(l["padding-right"])||0,top:parseFloat(l["padding-top"])||0,bottom:parseFloat(l["padding-bottom"])||0};return r||(t=o.width-h.left-h.right),(this.settings.fullsize&&!a||!a)&&(e=o.height-h.top-h.bottom),{width:t-this.containerPadding.left-this.containerPadding.right,height:e-this.containerPadding.top-this.containerPadding.bottom}}bounds(){let t;return this.container.style.overflow!=="visible"&&(t=this.container&&this.container.getBoundingClientRect()),!t||!t.width||!t.height?X0():t}getSheet(){var t=document.createElement("style");return t.appendChild(document.createTextNode("")),document.head.appendChild(t),t.sheet}addStyleRules(t,e){var i="#"+this.id+" ",r="";this.sheet||(this.sheet=this.getSheet()),e.forEach(function(a){for(var o in a)a.hasOwnProperty(o)&&(r+=o+":"+a[o]+";")}),this.sheet.insertRule(i+t+" {"+r+"}",0)}axis(t){t==="horizontal"?(this.container.style.display="flex",this.container.style.flexDirection="row",this.container.style.flexWrap="nowrap"):this.container.style.display="block",this.settings.axis=t}direction(t){this.container&&(this.container.dir=t,this.container.style.direction=t),this.settings.fullsize&&(document.body.style.direction=t),this.settings.dir=t}overflow(t){this.container&&(t==="scroll"&&this.settings.axis==="vertical"?(this.container.style["overflow-y"]=t,this.container.style["overflow-x"]="hidden"):t==="scroll"&&this.settings.axis==="horizontal"?(this.container.style["overflow-y"]="hidden",this.container.style["overflow-x"]=t):this.container.style.overflow=t),this.settings.overflow=t}destroy(){this.element&&(this.settings.hidden?this.wrapper:this.container,this.element.contains(this.container)&&this.element.removeChild(this.container),window.removeEventListener("resize",this.resizeFunc),window.removeEventListener("orientationChange",this.orientationChangeFunc))}}class x5{constructor(t){this.container=t,this._views=[],this.length=0,this.hidden=!1}all(){return this._views}first(){return this._views[0]}last(){return this._views[this._views.length-1]}indexOf(t){return this._views.indexOf(t)}slice(){return this._views.slice.apply(this._views,arguments)}get(t){return this._views[t]}append(t){return this._views.push(t),this.container&&this.container.appendChild(t.element),this.length++,t}prepend(t){return this._views.unshift(t),this.container&&this.container.insertBefore(t.element,this.container.firstChild),this.length++,t}insert(t,e){return this._views.splice(e,0,t),this.container&&(e<this.container.children.length?this.container.insertBefore(t.element,this.container.children[e]):this.container.appendChild(t.element)),this.length++,t}remove(t){var e=this._views.indexOf(t);e>-1&&this._views.splice(e,1),this.destroy(t),this.length--}destroy(t){t.displayed&&t.destroy(),this.container&&this.container.removeChild(t.element),t=null}forEach(){return this._views.forEach.apply(this._views,arguments)}clear(){var t,e=this.length;if(this.length){for(var i=0;i<e;i++)t=this._views[i],this.destroy(t);this._views=[],this.length=0}}find(t){for(var e,i=this.length,r=0;r<i;r++)if(e=this._views[r],e.displayed&&e.section.index==t.index)return e}displayed(){for(var t=[],e,i=this.length,r=0;r<i;r++)e=this._views[r],e.displayed&&t.push(e);return t}show(){for(var t,e=this.length,i=0;i<e;i++)t=this._views[i],t.displayed&&t.show();this.hidden=!1}hide(){for(var t,e=this.length,i=0;i<e;i++)t=this._views[i],t.displayed&&t.hide();this.hidden=!0}}class ty{constructor(t){this.name="default",this.optsSettings=t.settings,this.View=t.view,this.request=t.request,this.renditionQueue=t.queue,this.q=new g_(this),this.settings=jn(this.settings||{},{infinite:!0,hidden:!1,width:void 0,height:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",ignoreClass:"",fullsize:void 0,allowScriptedContent:!1,allowPopups:!1}),jn(this.settings,t.settings||{}),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,method:this.settings.method,width:0,height:0,forceEvenPages:!0,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.rendered=!1}render(t,e){let i=t.tagName;typeof this.settings.fullsize>"u"&&i&&(i.toLowerCase()=="body"||i.toLowerCase()=="html")&&(this.settings.fullsize=!0),this.settings.fullsize&&(this.settings.overflow="visible",this.overflow=this.settings.overflow),this.settings.size=e,this.settings.rtlScrollType=u5(),this.stage=new S5({width:e.width,height:e.height,overflow:this.overflow,hidden:this.settings.hidden,axis:this.settings.axis,fullsize:this.settings.fullsize,direction:this.settings.direction}),this.stage.attachTo(t),this.container=this.stage.getContainer(),this.views=new x5(this.container),this._bounds=this.bounds(),this._stageSize=this.stage.size(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.stage.onResize(this.onResized.bind(this)),this.stage.onOrientationChange(this.onOrientationChange.bind(this)),this.addEventListeners(),this.layout&&this.updateLayout(),this.rendered=!0}addEventListeners(){var t;window.addEventListener("unload",(function(e){this.destroy()}).bind(this)),this.settings.fullsize?t=window:t=this.container,this._onScroll=this.onScroll.bind(this),t.addEventListener("scroll",this._onScroll)}removeEventListeners(){var t;this.settings.fullsize?t=window:t=this.container,t.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}destroy(){clearTimeout(this.orientationTimeout),clearTimeout(this.resizeTimeout),clearTimeout(this.afterScrolled),this.clear(),this.removeEventListeners(),this.stage.destroy(),this.rendered=!1}onOrientationChange(t){let{orientation:e}=window;this.optsSettings.resizeOnOrientationChange&&this.resize(),clearTimeout(this.orientationTimeout),this.orientationTimeout=setTimeout((function(){this.orientationTimeout=void 0,this.optsSettings.resizeOnOrientationChange&&this.resize(),this.emit(Wt.MANAGERS.ORIENTATION_CHANGE,e)}).bind(this),500)}onResized(t){this.resize()}resize(t,e,i){let r=this.stage.size(t,e);if(this.winBounds=X0(),this.orientationTimeout&&this.winBounds.width===this.winBounds.height){this._stageSize=void 0;return}this._stageSize&&this._stageSize.width===r.width&&this._stageSize.height===r.height||(this._stageSize=r,this._bounds=this.bounds(),this.clear(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.updateLayout(),this.emit(Wt.MANAGERS.RESIZED,{width:this._stageSize.width,height:this._stageSize.height},i))}createView(t,e){return new this.View(t,jn(this.viewSettings,{forceRight:e}))}handleNextPrePaginated(t,e,i){let r;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1){if(t||e.index===0)return;if(r=e.next(),r&&!r.properties.includes("page-spread-left"))return i.call(this,r)}}display(t,e){var i=new ze,r=i.promise;(e===t.href||Wi(e))&&(e=void 0);var a=this.views.find(t);if(a&&t&&this.layout.name!=="pre-paginated"){let l=a.offset();if(this.settings.direction==="ltr")this.scrollTo(l.left,l.top,!0);else{let h=a.width();this.scrollTo(l.left+h,l.top,!0)}if(e){let h=a.locationOf(e),f=a.width();this.moveTo(h,f)}return i.resolve(),r}this.clear();let o=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&t.properties.includes("page-spread-right")&&(o=!0),this.add(t,o).then((function(l){if(e){let h=l.locationOf(e),f=l.width();this.moveTo(h,f)}}).bind(this),l=>{i.reject(l)}).then((function(){return this.handleNextPrePaginated(o,t,this.add)}).bind(this)).then((function(){this.views.show(),i.resolve()}).bind(this)),r}afterDisplayed(t){this.emit(Wt.MANAGERS.ADDED,t)}afterResized(t){this.emit(Wt.MANAGERS.RESIZE,t.section)}moveTo(t,e){var i=0,r=0;this.isPaginated?(i=Math.floor(t.left/this.layout.delta)*this.layout.delta,i+this.layout.delta>this.container.scrollWidth&&(i=this.container.scrollWidth-this.layout.delta),r=Math.floor(t.top/this.layout.delta)*this.layout.delta,r+this.layout.delta>this.container.scrollHeight&&(r=this.container.scrollHeight-this.layout.delta)):r=t.top,this.settings.direction==="rtl"&&(i=i+this.layout.delta,i=i-e),this.scrollTo(i,r,!0)}add(t,e){var i=this.createView(t,e);return this.views.append(i),i.onDisplayed=this.afterDisplayed.bind(this),i.onResize=this.afterResized.bind(this),i.on(Wt.VIEWS.AXIS,r=>{this.updateAxis(r)}),i.on(Wt.VIEWS.WRITING_MODE,r=>{this.updateWritingMode(r)}),i.display(this.request)}append(t,e){var i=this.createView(t,e);return this.views.append(i),i.onDisplayed=this.afterDisplayed.bind(this),i.onResize=this.afterResized.bind(this),i.on(Wt.VIEWS.AXIS,r=>{this.updateAxis(r)}),i.on(Wt.VIEWS.WRITING_MODE,r=>{this.updateWritingMode(r)}),i.display(this.request)}prepend(t,e){var i=this.createView(t,e);return i.on(Wt.VIEWS.RESIZED,r=>{this.counter(r)}),this.views.prepend(i),i.onDisplayed=this.afterDisplayed.bind(this),i.onResize=this.afterResized.bind(this),i.on(Wt.VIEWS.AXIS,r=>{this.updateAxis(r)}),i.on(Wt.VIEWS.WRITING_MODE,r=>{this.updateWritingMode(r)}),i.display(this.request)}counter(t){this.settings.axis==="vertical"?this.scrollBy(0,t.heightDelta,!0):this.scrollBy(t.widthDelta,0,!0)}next(){var t,e;let i=this.settings.direction;if(this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!i||i==="ltr")?(this.scrollLeft=this.container.scrollLeft,e=this.container.scrollLeft+this.container.offsetWidth+this.layout.delta,e<=this.container.scrollWidth?this.scrollBy(this.layout.delta,0,!0):t=this.views.last().section.next()):this.isPaginated&&this.settings.axis==="horizontal"&&i==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(e=this.container.scrollLeft,e>0?this.scrollBy(this.layout.delta,0,!0):t=this.views.last().section.next()):(e=this.container.scrollLeft+this.layout.delta*-1,e>this.container.scrollWidth*-1?this.scrollBy(this.layout.delta,0,!0):t=this.views.last().section.next())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop+this.container.offsetHeight<this.container.scrollHeight?this.scrollBy(0,this.layout.height,!0):t=this.views.last().section.next()):t=this.views.last().section.next(),t)){this.clear(),this.updateLayout();let r=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&t.properties.includes("page-spread-right")&&(r=!0),this.append(t,r).then((function(){return this.handleNextPrePaginated(r,t,this.append)}).bind(this),a=>a).then((function(){!this.isPaginated&&this.settings.axis==="horizontal"&&this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"&&this.scrollTo(this.container.scrollWidth,0,!0),this.views.show()}).bind(this))}}prev(){var t,e;let i=this.settings.direction;if(this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!i||i==="ltr")?(this.scrollLeft=this.container.scrollLeft,e=this.container.scrollLeft,e>0?this.scrollBy(-this.layout.delta,0,!0):t=this.views.first().section.prev()):this.isPaginated&&this.settings.axis==="horizontal"&&i==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(e=this.container.scrollLeft+this.container.offsetWidth,e<this.container.scrollWidth?this.scrollBy(-this.layout.delta,0,!0):t=this.views.first().section.prev()):(e=this.container.scrollLeft,e<0?this.scrollBy(-this.layout.delta,0,!0):t=this.views.first().section.prev())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop>0?this.scrollBy(0,-this.layout.height,!0):t=this.views.first().section.prev()):t=this.views.first().section.prev(),t)){this.clear(),this.updateLayout();let r=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&typeof t.prev()!="object"&&(r=!0),this.prepend(t,r).then((function(){var a;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1&&(a=t.prev(),a))return this.prepend(a)}).bind(this),a=>a).then((function(){this.isPaginated&&this.settings.axis==="horizontal"&&(this.settings.direction==="rtl"?this.settings.rtlScrollType==="default"?this.scrollTo(0,0,!0):this.scrollTo(this.container.scrollWidth*-1+this.layout.delta,0,!0):this.scrollTo(this.container.scrollWidth-this.layout.delta,0,!0)),this.views.show()}).bind(this))}}current(){var t=this.visible();return t.length?t[t.length-1]:null}clear(){this.views&&(this.views.hide(),this.scrollTo(0,0,!0),this.views.clear())}currentLocation(){return this.updateLayout(),this.isPaginated&&this.settings.axis==="horizontal"?this.location=this.paginatedLocation():this.location=this.scrolledLocation(),this.location}scrolledLocation(){let t=this.visible(),e=this.container.getBoundingClientRect(),i=e.height<window.innerHeight?e.height:window.innerHeight,r=e.width<window.innerWidth?e.width:window.innerWidth,a=this.settings.axis==="vertical";this.settings.direction;let o=0,l=0;return this.settings.fullsize&&(o=a?window.scrollY:window.scrollX),t.map(f=>{let{index:g,href:m}=f.section,y=f.position(),b=f.width(),T=f.height(),A,w,E,D;a?(A=o+e.top-y.top+l,w=A+i-l,D=this.layout.count(T,i).pages,E=i):(A=o+e.left-y.left+l,w=A+r-l,D=this.layout.count(b,r).pages,E=r);let R=Math.ceil(A/E),N=[],x=Math.ceil(w/E);if(this.settings.direction==="rtl"&&!a){let U=R;R=D-x,x=D-U}N=[];for(var L=R;L<=x;L++){let U=L+1;N.push(U)}let I=this.mapping.page(f.contents,f.section.cfiBase,A,w);return{index:g,href:m,pages:N,totalPages:D,mapping:I}})}paginatedLocation(){let t=this.visible(),e=this.container.getBoundingClientRect(),i=0,r=0;return this.settings.fullsize&&(i=window.scrollX),t.map(o=>{let{index:l,href:h}=o.section,f,g=o.position(),m=o.width(),y,b,T;this.settings.direction==="rtl"?(f=e.right-i,T=Math.min(Math.abs(f-g.left),this.layout.width)-r,b=g.width-(g.right-f)-r,y=b-T):(f=e.left+i,T=Math.min(g.right-f,this.layout.width)-r,y=f-g.left+r,b=y+T),r+=T;let A=this.mapping.page(o.contents,o.section.cfiBase,y,b),w=this.layout.count(m).pages,E=Math.floor(y/this.layout.pageWidth),D=[],R=Math.floor(b/this.layout.pageWidth);if(E<0&&(E=0,R=R+1),this.settings.direction==="rtl"){let x=E;E=w-R,R=w-x}for(var N=E+1;N<=R;N++){let x=N;D.push(x)}return{index:l,href:h,pages:D,totalPages:w,mapping:A}})}isVisible(t,e,i,r){var a=t.position(),o=r||this.bounds();return this.settings.axis==="horizontal"&&a.right>o.left-e&&a.left<o.right+i?!0:this.settings.axis==="vertical"&&a.bottom>o.top-e&&a.top<o.bottom+i}visible(){for(var t=this.bounds(),e=this.views.displayed(),i=e.length,r=[],a,o,l=0;l<i;l++)o=e[l],a=this.isVisible(o,0,0,t),a===!0&&r.push(o);return r}scrollBy(t,e,i){let r=this.settings.direction==="rtl"?-1:1;i&&(this.ignore=!0),this.settings.fullsize?window.scrollBy(t*r,e*r):(t&&(this.container.scrollLeft+=t*r),e&&(this.container.scrollTop+=e)),this.scrolled=!0}scrollTo(t,e,i){i&&(this.ignore=!0),this.settings.fullsize?window.scrollTo(t,e):(this.container.scrollLeft=t,this.container.scrollTop=e),this.scrolled=!0}onScroll(){let t,e;this.settings.fullsize?(t=window.scrollY,e=window.scrollX):(t=this.container.scrollTop,e=this.container.scrollLeft),this.scrollTop=t,this.scrollLeft=e,this.ignore?this.ignore=!1:(this.emit(Wt.MANAGERS.SCROLL,{top:t,left:e}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout((function(){this.emit(Wt.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}).bind(this),20))}bounds(){var t;return t=this.stage.bounds(),t}applyLayout(t){this.layout=t,this.updateLayout(),this.views&&this.views.length>0&&this.layout.name==="pre-paginated"&&this.display(this.views.first().section)}updateLayout(){this.stage&&(this._stageSize=this.stage.size(),this.isPaginated?(this.layout.calculate(this._stageSize.width,this._stageSize.height,this.settings.gap),this.settings.offset=this.layout.delta/this.layout.divisor):this.layout.calculate(this._stageSize.width,this._stageSize.height),this.viewSettings.width=this.layout.width,this.viewSettings.height=this.layout.height,this.setLayout(this.layout))}setLayout(t){this.viewSettings.layout=t,this.mapping=new J0(t.props,this.settings.direction,this.settings.axis),this.views&&this.views.forEach(function(e){e&&e.setLayout(t)})}updateWritingMode(t){this.writingMode=t}updateAxis(t,e){!e&&t===this.settings.axis||(this.settings.axis=t,this.stage&&this.stage.axis(t),this.viewSettings.axis=t,this.mapping&&(this.mapping=new J0(this.layout.props,this.settings.direction,this.settings.axis)),this.layout&&(t==="vertical"?this.layout.spread("none"):this.layout.spread(this.layout.settings.spread)))}updateFlow(t,e="auto"){let i=t==="paginated"||t==="auto";this.isPaginated=i,t==="scrolled-doc"||t==="scrolled-continuous"||t==="scrolled"?this.updateAxis("vertical"):this.updateAxis("horizontal"),this.viewSettings.flow=t,this.settings.overflow?this.overflow=this.settings.overflow:this.overflow=i?"hidden":e,this.stage&&this.stage.overflow(this.overflow),this.updateLayout()}getContents(){var t=[];return this.views&&this.views.forEach(function(e){const i=e&&e.contents;i&&t.push(i)}),t}direction(t="ltr"){this.settings.direction=t,this.stage&&this.stage.direction(t),this.viewSettings.direction=t,this.updateLayout()}isRendered(){return this.rendered}}Ma(ty.prototype);const C5={easeInCubic:function(u){return Math.pow(u,3)}};class Sw{constructor(t,e){this.settings=jn({duration:80,minVelocity:.2,minDistance:10,easing:C5.easeInCubic},e||{}),this.supportsTouch=this.supportsTouch(),this.supportsTouch&&this.setup(t)}setup(t){this.manager=t,this.layout=this.manager.layout,this.fullsize=this.manager.settings.fullsize,this.fullsize?(this.element=this.manager.stage.element,this.scroller=window,this.disableScroll()):(this.element=this.manager.stage.container,this.scroller=this.element,this.element.style.WebkitOverflowScrolling="touch"),this.manager.settings.offset=this.layout.width,this.manager.settings.afterScrolledTimeout=this.settings.duration*2,this.isVertical=this.manager.settings.axis==="vertical",!(!this.manager.isPaginated||this.isVertical)&&(this.touchCanceler=!1,this.resizeCanceler=!1,this.snapping=!1,this.scrollLeft,this.scrollTop,this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0,this.addListeners())}supportsTouch(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}disableScroll(){this.element.style.overflow="hidden"}enableScroll(){this.element.style.overflow=""}addListeners(){this._onResize=this.onResize.bind(this),window.addEventListener("resize",this._onResize),this._onScroll=this.onScroll.bind(this),this.scroller.addEventListener("scroll",this._onScroll),this._onTouchStart=this.onTouchStart.bind(this),this.scroller.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.on("touchstart",this._onTouchStart),this._onTouchMove=this.onTouchMove.bind(this),this.scroller.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.on("touchmove",this._onTouchMove),this._onTouchEnd=this.onTouchEnd.bind(this),this.scroller.addEventListener("touchend",this._onTouchEnd,{passive:!0}),this.on("touchend",this._onTouchEnd),this._afterDisplayed=this.afterDisplayed.bind(this),this.manager.on(Wt.MANAGERS.ADDED,this._afterDisplayed)}removeListeners(){window.removeEventListener("resize",this._onResize),this._onResize=void 0,this.scroller.removeEventListener("scroll",this._onScroll),this._onScroll=void 0,this.scroller.removeEventListener("touchstart",this._onTouchStart,{passive:!0}),this.off("touchstart",this._onTouchStart),this._onTouchStart=void 0,this.scroller.removeEventListener("touchmove",this._onTouchMove,{passive:!0}),this.off("touchmove",this._onTouchMove),this._onTouchMove=void 0,this.scroller.removeEventListener("touchend",this._onTouchEnd,{passive:!0}),this.off("touchend",this._onTouchEnd),this._onTouchEnd=void 0,this.manager.off(Wt.MANAGERS.ADDED,this._afterDisplayed),this._afterDisplayed=void 0}afterDisplayed(t){let e=t.contents;["touchstart","touchmove","touchend"].forEach(i=>{e.on(i,r=>this.triggerViewEvent(r,e))})}triggerViewEvent(t,e){this.emit(t.type,t,e)}onScroll(t){this.scrollLeft=this.fullsize?window.scrollX:this.scroller.scrollLeft,this.scrollTop=this.fullsize?window.scrollY:this.scroller.scrollTop}onResize(t){this.resizeCanceler=!0}onTouchStart(t){let{screenX:e,screenY:i}=t.touches[0];this.fullsize&&this.enableScroll(),this.touchCanceler=!0,this.startTouchX||(this.startTouchX=e,this.startTouchY=i,this.startTime=this.now()),this.endTouchX=e,this.endTouchY=i,this.endTime=this.now()}onTouchMove(t){let{screenX:e,screenY:i}=t.touches[0],r=Math.abs(i-this.endTouchY);this.touchCanceler=!0,!this.fullsize&&r<10&&(this.element.scrollLeft-=e-this.endTouchX),this.endTouchX=e,this.endTouchY=i,this.endTime=this.now()}onTouchEnd(t){this.fullsize&&this.disableScroll(),this.touchCanceler=!1;let e=this.wasSwiped();e!==0?this.snap(e):this.snap(),this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0}wasSwiped(){let t=this.layout.pageWidth*this.layout.divisor,e=this.endTouchX-this.startTouchX,i=Math.abs(e),r=this.endTime-this.startTime,a=e/r,o=this.settings.minVelocity;if(i<=this.settings.minDistance||i>=t)return 0;if(a>o)return-1;if(a<-o)return 1}needsSnap(){let t=this.scrollLeft,e=this.layout.pageWidth*this.layout.divisor;return t%e!==0}snap(t=0){let e=this.scrollLeft,i=this.layout.pageWidth*this.layout.divisor,r=Math.round(e/i)*i;return t&&(r+=t*i),this.smoothScrollTo(r)}smoothScrollTo(t){const e=new ze,i=this.scrollLeft,r=this.now(),a=this.settings.duration,o=this.settings.easing;this.snapping=!0;function l(){const h=this.now(),f=Math.min(1,(h-r)/a);if(o(f),this.touchCanceler||this.resizeCanceler){this.resizeCanceler=!1,this.snapping=!1,e.resolve();return}f<1?(window.requestAnimationFrame(l.bind(this)),this.scrollTo(i+(t-i)*f,0)):(this.scrollTo(t,0),this.snapping=!1,e.resolve())}return l.call(this),e.promise}scrollTo(t=0,e=0){this.fullsize?window.scroll(t,e):(this.scroller.scrollLeft=t,this.scroller.scrollTop=e)}now(){return"now"in window.performance?performance.now():new Date().getTime()}destroy(){this.scroller&&(this.fullsize&&this.enableScroll(),this.removeListeners(),this.scroller=void 0)}}Ma(Sw.prototype);var T5=ER();const D5=qc(T5);class R5 extends ty{constructor(t){super(t),this.name="continuous",this.settings=jn(this.settings||{},{infinite:!0,overflow:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",offset:500,offsetDelta:250,width:void 0,height:void 0,snap:!1,afterScrolledTimeout:10,allowScriptedContent:!1,allowPopups:!1}),jn(this.settings,t.settings||{}),t.settings.gap!="undefined"&&t.settings.gap===0&&(this.settings.gap=t.settings.gap),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,width:0,height:0,forceEvenPages:!1,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.scrollTop=0,this.scrollLeft=0}display(t,e){return ty.prototype.display.call(this,t,e).then((function(){return this.fill()}).bind(this))}fill(t){var e=t||new ze;return this.q.enqueue(()=>this.check()).then(i=>{i?this.fill(e):e.resolve()}),e.promise}moveTo(t){var e=0,i=0;this.isPaginated?(e=Math.floor(t.left/this.layout.delta)*this.layout.delta,e+this.settings.offsetDelta):(i=t.top,t.top+this.settings.offsetDelta),(e>0||i>0)&&this.scrollBy(e,i,!0)}afterResized(t){this.emit(Wt.MANAGERS.RESIZE,t.section)}removeShownListeners(t){t.onDisplayed=function(){}}add(t){var e=this.createView(t);return this.views.append(e),e.on(Wt.VIEWS.RESIZED,i=>{e.expanded=!0}),e.on(Wt.VIEWS.AXIS,i=>{this.updateAxis(i)}),e.on(Wt.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),e.onDisplayed=this.afterDisplayed.bind(this),e.onResize=this.afterResized.bind(this),e.display(this.request)}append(t){var e=this.createView(t);return e.on(Wt.VIEWS.RESIZED,i=>{e.expanded=!0}),e.on(Wt.VIEWS.AXIS,i=>{this.updateAxis(i)}),e.on(Wt.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),this.views.append(e),e.onDisplayed=this.afterDisplayed.bind(this),e}prepend(t){var e=this.createView(t);return e.on(Wt.VIEWS.RESIZED,i=>{this.counter(i),e.expanded=!0}),e.on(Wt.VIEWS.AXIS,i=>{this.updateAxis(i)}),e.on(Wt.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),this.views.prepend(e),e.onDisplayed=this.afterDisplayed.bind(this),e}counter(t){this.settings.axis==="vertical"?this.scrollBy(0,t.heightDelta,!0):this.scrollBy(t.widthDelta,0,!0)}update(t){for(var e=this.bounds(),i=this.views.all(),r=i.length,a=typeof t<"u"?t:this.settings.offset||0,o,l,h=new ze,f=[],g=0;g<r;g++)if(l=i[g],o=this.isVisible(l,a,a,e),o===!0)if(l.displayed)l.show();else{let m=l.display(this.request).then(function(y){y.show()},y=>{l.hide()});f.push(m)}else this.q.enqueue(l.destroy.bind(l)),clearTimeout(this.trimTimeout),this.trimTimeout=setTimeout((function(){this.q.enqueue(this.trim.bind(this))}).bind(this),250);return f.length?Promise.all(f).catch(m=>{h.reject(m)}):(h.resolve(),h.promise)}check(t,e){var i=new ze,r=[],a=this.settings.axis==="horizontal",o=this.settings.offset||0;t&&a&&(o=t),e&&!a&&(o=e);var l=this._bounds;let h=a?this.scrollLeft:this.scrollTop,f=a?Math.floor(l.width):l.height,g=a?this.container.scrollWidth:this.container.scrollHeight,m=this.writingMode&&this.writingMode.indexOf("vertical")===0?"vertical":"horizontal",y=this.settings.rtlScrollType,b=this.settings.direction==="rtl";this.settings.fullsize?(a&&b&&y==="negative"||!a&&b&&y==="default")&&(h=h*-1):(b&&y==="default"&&m==="horizontal"&&(h=g-f-h),b&&y==="negative"&&m==="horizontal"&&(h=h*-1));let T=()=>{let R=this.views.first(),N=R&&R.section.prev();N&&r.push(this.prepend(N))},A=()=>{let R=this.views.last(),N=R&&R.section.next();N&&r.push(this.append(N))},w=h+f+o,E=h-o;w>=g&&A(),E<0&&T();let D=r.map(R=>R.display(this.request));return r.length?Promise.all(D).then(()=>this.check()).then(()=>this.update(o),R=>R):(this.q.enqueue((function(){this.update()}).bind(this)),i.resolve(!1),i.promise)}trim(){for(var t=new ze,e=this.views.displayed(),i=e[0],r=e[e.length-1],a=this.views.indexOf(i),o=this.views.indexOf(r),l=this.views.slice(0,a),h=this.views.slice(o+1),f=0;f<l.length-1;f++)this.erase(l[f],l);for(var g=1;g<h.length;g++)this.erase(h[g]);return t.resolve(),t.promise}erase(t,e){var i,r;this.settings.fullsize?(i=window.scrollY,r=window.scrollX):(i=this.container.scrollTop,r=this.container.scrollLeft);var a=t.bounds();this.views.remove(t),e&&(this.settings.axis==="vertical"?this.scrollTo(0,i-a.height,!0):this.settings.direction==="rtl"?this.settings.fullsize?this.scrollTo(r+Math.floor(a.width),0,!0):this.scrollTo(r,0,!0):this.scrollTo(r-Math.floor(a.width),0,!0))}addEventListeners(t){window.addEventListener("unload",(function(e){this.ignore=!0,this.destroy()}).bind(this)),this.addScrollListeners(),this.isPaginated&&this.settings.snap&&(this.snapper=new Sw(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}addScrollListeners(){var t;this.tick=f_;let e=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.scrollDeltaVert=0,this.scrollDeltaHorz=0,this.settings.fullsize?(t=window,this.scrollTop=window.scrollY*e,this.scrollLeft=window.scrollX*e):(t=this.container,this.scrollTop=this.container.scrollTop,this.scrollLeft=this.container.scrollLeft),this._onScroll=this.onScroll.bind(this),t.addEventListener("scroll",this._onScroll),this._scrolled=D5(this.scrolled.bind(this),30),this.didScroll=!1}removeEventListeners(){var t;this.settings.fullsize?t=window:t=this.container,t.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}onScroll(){let t,e,i=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.settings.fullsize?(t=window.scrollY*i,e=window.scrollX*i):(t=this.container.scrollTop,e=this.container.scrollLeft),this.scrollTop=t,this.scrollLeft=e,this.ignore?this.ignore=!1:this._scrolled(),this.scrollDeltaVert+=Math.abs(t-this.prevScrollTop),this.scrollDeltaHorz+=Math.abs(e-this.prevScrollLeft),this.prevScrollTop=t,this.prevScrollLeft=e,clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout((function(){this.scrollDeltaVert=0,this.scrollDeltaHorz=0}).bind(this),150),clearTimeout(this.afterScrolled),this.didScroll=!1}scrolled(){this.q.enqueue((function(){return this.check()}).bind(this)),this.emit(Wt.MANAGERS.SCROLL,{top:this.scrollTop,left:this.scrollLeft}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout((function(){this.snapper&&this.snapper.supportsTouch&&this.snapper.needsSnap()||this.emit(Wt.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}).bind(this),this.settings.afterScrolledTimeout)}next(){let t=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(t,0,!0):this.scrollBy(0,this.layout.height,!0),this.q.enqueue((function(){return this.check()}).bind(this)))}prev(){let t=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(-t,0,!0):this.scrollBy(0,-this.layout.height,!0),this.q.enqueue((function(){return this.check()}).bind(this)))}updateFlow(t){this.rendered&&this.snapper&&(this.snapper.destroy(),this.snapper=void 0),super.updateFlow(t,"scroll"),this.rendered&&this.isPaginated&&this.settings.snap&&(this.snapper=new Sw(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}destroy(){super.destroy(),this.snapper&&this.snapper.destroy()}}class y_{constructor(t,e){this.settings=jn(this.settings||{},{width:null,height:null,ignoreClass:"",manager:"default",view:"iframe",flow:null,layout:null,spread:null,minSpreadWidth:800,stylesheet:null,resizeOnOrientationChange:!0,script:null,snap:!1,defaultDirection:"ltr",allowScriptedContent:!1,allowPopups:!1}),jn(this.settings,e),typeof this.settings.manager=="object"&&(this.manager=this.settings.manager),this.book=t,this.hooks={},this.hooks.display=new Ks(this),this.hooks.serialize=new Ks(this),this.hooks.content=new Ks(this),this.hooks.unloaded=new Ks(this),this.hooks.layout=new Ks(this),this.hooks.render=new Ks(this),this.hooks.show=new Ks(this),this.hooks.content.register(this.handleLinks.bind(this)),this.hooks.content.register(this.passEvents.bind(this)),this.hooks.content.register(this.adjustImages.bind(this)),this.book.spine.hooks.content.register(this.injectIdentifier.bind(this)),this.settings.stylesheet&&this.book.spine.hooks.content.register(this.injectStylesheet.bind(this)),this.settings.script&&this.book.spine.hooks.content.register(this.injectScript.bind(this)),this.themes=new i5(this),this.annotations=new s5(this),this.epubcfi=new Fe,this.q=new g_(this),this.location=void 0,this.q.enqueue(this.book.opened),this.starting=new ze,this.started=this.starting.promise,this.q.enqueue(this.start)}setManager(t){this.manager=t}requireManager(t){var e;return typeof t=="string"&&t==="default"?e=ty:typeof t=="string"&&t==="continuous"?e=R5:e=t,e}requireView(t){var e;return typeof t=="string"&&t==="iframe"?e=wR:e=t,e}start(){switch(!this.settings.layout&&(this.book.package.metadata.layout==="pre-paginated"||this.book.displayOptions.fixedLayout==="true")&&(this.settings.layout="pre-paginated"),this.book.package.metadata.spread){case"none":this.settings.spread="none";break;case"both":this.settings.spread=!0;break}this.manager||(this.ViewManager=this.requireManager(this.settings.manager),this.View=this.requireView(this.settings.view),this.manager=new this.ViewManager({view:this.View,queue:this.q,request:this.book.load.bind(this.book),settings:this.settings})),this.direction(this.book.package.metadata.direction||this.settings.defaultDirection),this.settings.globalLayoutProperties=this.determineLayoutProperties(this.book.package.metadata),this.flow(this.settings.globalLayoutProperties.flow),this.layout(this.settings.globalLayoutProperties),this.manager.on(Wt.MANAGERS.ADDED,this.afterDisplayed.bind(this)),this.manager.on(Wt.MANAGERS.REMOVED,this.afterRemoved.bind(this)),this.manager.on(Wt.MANAGERS.RESIZED,this.onResized.bind(this)),this.manager.on(Wt.MANAGERS.ORIENTATION_CHANGE,this.onOrientationChange.bind(this)),this.manager.on(Wt.MANAGERS.SCROLLED,this.reportLocation.bind(this)),this.emit(Wt.RENDITION.STARTED),this.starting.resolve()}attachTo(t){return this.q.enqueue((function(){this.manager.render(t,{width:this.settings.width,height:this.settings.height}),this.emit(Wt.RENDITION.ATTACHED)}).bind(this))}display(t){return this.displaying&&this.displaying.resolve(),this.q.enqueue(this._display,t)}_display(t){if(this.book){this.epubcfi.isCfiString(t);var e=new ze,i=e.promise,r;return this.displaying=e,this.book.locations.length()&&aR(t)&&(t=this.book.locations.cfiFromPercentage(parseFloat(t))),r=this.book.spine.get(t),r?(this.manager.display(r,t).then(()=>{e.resolve(r),this.displaying=void 0,this.emit(Wt.RENDITION.DISPLAYED,r),this.reportLocation()},a=>{this.emit(Wt.RENDITION.DISPLAY_ERROR,a)}),i):(e.reject(new Error("No Section Found")),i)}}afterDisplayed(t){t.on(Wt.VIEWS.MARK_CLICKED,(e,i)=>this.triggerMarkEvent(e,i,t.contents)),this.hooks.render.trigger(t,this).then(()=>{t.contents?this.hooks.content.trigger(t.contents,this).then(()=>{this.emit(Wt.RENDITION.RENDERED,t.section,t)}):this.emit(Wt.RENDITION.RENDERED,t.section,t)})}afterRemoved(t){this.hooks.unloaded.trigger(t,this).then(()=>{this.emit(Wt.RENDITION.REMOVED,t.section,t)})}onResized(t,e){this.emit(Wt.RENDITION.RESIZED,{width:t.width,height:t.height},e),this.location&&this.location.start&&this.display(e||this.location.start.cfi)}onOrientationChange(t){this.emit(Wt.RENDITION.ORIENTATION_CHANGE,t)}moveTo(t){this.manager.moveTo(t)}resize(t,e,i){t&&(this.settings.width=t),e&&(this.settings.height=e),this.manager.resize(t,e,i)}clear(){this.manager.clear()}next(){return this.q.enqueue(this.manager.next.bind(this.manager)).then(this.reportLocation.bind(this))}prev(){return this.q.enqueue(this.manager.prev.bind(this.manager)).then(this.reportLocation.bind(this))}determineLayoutProperties(t){var e,i=this.settings.layout||t.layout||"reflowable",r=this.settings.spread||t.spread||"auto",a=this.settings.orientation||t.orientation||"auto",o=this.settings.flow||t.flow||"auto",l=t.viewport||"",h=this.settings.minSpreadWidth||t.minSpreadWidth||800,f=this.settings.direction||t.direction||"ltr";return(this.settings.width===0||this.settings.width>0)&&(this.settings.height===0||this.settings.height>0),e={layout:i,spread:r,orientation:a,flow:o,viewport:l,minSpreadWidth:h,direction:f},e}flow(t){var e=t;(t==="scrolled"||t==="scrolled-doc"||t==="scrolled-continuous")&&(e="scrolled"),(t==="auto"||t==="paginated")&&(e="paginated"),this.settings.flow=t,this._layout&&this._layout.flow(e),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this.manager&&this.manager.updateFlow(e),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}layout(t){return t&&(this._layout=new vR(t),this._layout.spread(t.spread,this.settings.minSpreadWidth),this._layout.on(Wt.LAYOUT.UPDATED,(e,i)=>{this.emit(Wt.RENDITION.LAYOUT,e,i)})),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this._layout}spread(t,e){this.settings.spread=t,e&&(this.settings.minSpreadWidth=e),this._layout&&this._layout.spread(t,e),this.manager&&this.manager.isRendered()&&this.manager.updateLayout()}direction(t){this.settings.direction=t||"ltr",this.manager&&this.manager.direction(this.settings.direction),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}reportLocation(){return this.q.enqueue((function(){requestAnimationFrame((function(){var i=this.manager.currentLocation();if(i&&i.then&&typeof i.then=="function")i.then((function(r){let a=this.located(r);!a||!a.start||!a.end||(this.location=a,this.emit(Wt.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(Wt.RENDITION.RELOCATED,this.location))}).bind(this));else if(i){let r=this.located(i);if(!r||!r.start||!r.end)return;this.location=r,this.emit(Wt.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(Wt.RENDITION.RELOCATED,this.location)}}).bind(this))}).bind(this))}currentLocation(){var t=this.manager.currentLocation();if(t&&t.then&&typeof t.then=="function")t.then((function(e){return this.located(e)}).bind(this));else if(t)return this.located(t)}located(t){if(!t.length)return{};let e=t[0],i=t[t.length-1],r={start:{index:e.index,href:e.href,cfi:e.mapping.start,displayed:{page:e.pages[0]||1,total:e.totalPages}},end:{index:i.index,href:i.href,cfi:i.mapping.end,displayed:{page:i.pages[i.pages.length-1]||1,total:i.totalPages}}},a=this.book.locations.locationFromCfi(e.mapping.start),o=this.book.locations.locationFromCfi(i.mapping.end);a!=null&&(r.start.location=a,r.start.percentage=this.book.locations.percentageFromLocation(a)),o!=null&&(r.end.location=o,r.end.percentage=this.book.locations.percentageFromLocation(o));let l=this.book.pageList.pageFromCfi(e.mapping.start),h=this.book.pageList.pageFromCfi(i.mapping.end);return l!=-1&&(r.start.page=l),h!=-1&&(r.end.page=h),i.index===this.book.spine.last().index&&r.end.displayed.page>=r.end.displayed.total&&(r.atEnd=!0),e.index===this.book.spine.first().index&&r.start.displayed.page===1&&(r.atStart=!0),r}destroy(){this.manager&&this.manager.destroy(),this.book=void 0}passEvents(t){h0.forEach(e=>{t.on(e,i=>this.triggerViewEvent(i,t))}),t.on(Wt.CONTENTS.SELECTED,e=>this.triggerSelectedEvent(e,t))}triggerViewEvent(t,e){this.emit(t.type,t,e)}triggerSelectedEvent(t,e){this.emit(Wt.RENDITION.SELECTED,t,e)}triggerMarkEvent(t,e,i){this.emit(Wt.RENDITION.MARK_CLICKED,t,e,i)}getRange(t,e){var i=new Fe(t),r=this.manager.visible().filter(function(a){if(i.spinePos===a.index)return!0});if(r.length)return r[0].contents.range(i,e)}adjustImages(t){if(this._layout.name==="pre-paginated")return new Promise(function(a){a()});let e=t.window.getComputedStyle(t.content,null),i=(t.content.offsetHeight-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)))*.95,r=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight);return t.addStylesheetRules({img:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-r+"px":"100%")+"!important","max-height":i+"px!important","object-fit":"contain","page-break-inside":"avoid","break-inside":"avoid","box-sizing":"border-box"},svg:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-r+"px":"100%")+"!important","max-height":i+"px!important","page-break-inside":"avoid","break-inside":"avoid"}}),new Promise(function(a,o){setTimeout(function(){a()},1)})}getContents(){return this.manager?this.manager.getContents():[]}views(){return(this.manager?this.manager.views:void 0)||[]}handleLinks(t){t&&t.on(Wt.CONTENTS.LINK_CLICKED,e=>{let i=this.book.path.relative(e);this.display(i)})}injectStylesheet(t,e){let i=t.createElement("link");i.setAttribute("type","text/css"),i.setAttribute("rel","stylesheet"),i.setAttribute("href",this.settings.stylesheet),t.getElementsByTagName("head")[0].appendChild(i)}injectScript(t,e){let i=t.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("src",this.settings.script),i.textContent=" ",t.getElementsByTagName("head")[0].appendChild(i)}injectIdentifier(t,e){let i=this.book.packaging.metadata.identifier,r=t.createElement("meta");r.setAttribute("name","dc.relation.ispartof"),i&&r.setAttribute("content",i),t.getElementsByTagName("head")[0].appendChild(r)}}Ma(y_.prototype);function Jl(u){throw new Error('Could not dynamically require "'+u+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Z1={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var WT;function k5(){return WT||(WT=1,function(u,t){(function(e){u.exports=e()})(function(){return function e(i,r,a){function o(f,g){if(!r[f]){if(!i[f]){var m=typeof Jl=="function"&&Jl;if(!g&&m)return m(f,!0);if(l)return l(f,!0);var y=new Error("Cannot find module '"+f+"'");throw y.code="MODULE_NOT_FOUND",y}var b=r[f]={exports:{}};i[f][0].call(b.exports,function(T){var A=i[f][1][T];return o(A||T)},b,b.exports,e,i,r,a)}return r[f].exports}for(var l=typeof Jl=="function"&&Jl,h=0;h<a.length;h++)o(a[h]);return o}({1:[function(e,i,r){var a=e("./utils"),o=e("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(h){for(var f=[],g,m,y,b,T,A,w,E=0,D=h.length,R=D,N=a.getTypeOf(h)!=="string";E<h.length;)R=D-E,N?(g=h[E++],m=E<D?h[E++]:0,y=E<D?h[E++]:0):(g=h.charCodeAt(E++),m=E<D?h.charCodeAt(E++):0,y=E<D?h.charCodeAt(E++):0),b=g>>2,T=(g&3)<<4|m>>4,A=R>1?(m&15)<<2|y>>6:64,w=R>2?y&63:64,f.push(l.charAt(b)+l.charAt(T)+l.charAt(A)+l.charAt(w));return f.join("")},r.decode=function(h){var f,g,m,y,b,T,A,w=0,E=0,D="data:";if(h.substr(0,D.length)===D)throw new Error("Invalid base64 input, it looks like a data url.");h=h.replace(/[^A-Za-z0-9+/=]/g,"");var R=h.length*3/4;if(h.charAt(h.length-1)===l.charAt(64)&&R--,h.charAt(h.length-2)===l.charAt(64)&&R--,R%1!==0)throw new Error("Invalid base64 input, bad content length.");var N;for(o.uint8array?N=new Uint8Array(R|0):N=new Array(R|0);w<h.length;)y=l.indexOf(h.charAt(w++)),b=l.indexOf(h.charAt(w++)),T=l.indexOf(h.charAt(w++)),A=l.indexOf(h.charAt(w++)),f=y<<2|b>>4,g=(b&15)<<4|T>>2,m=(T&3)<<6|A,N[E++]=f,T!==64&&(N[E++]=g),A!==64&&(N[E++]=m);return N}},{"./support":30,"./utils":32}],2:[function(e,i,r){var a=e("./external"),o=e("./stream/DataWorker"),l=e("./stream/Crc32Probe"),h=e("./stream/DataLengthProbe");function f(g,m,y,b,T){this.compressedSize=g,this.uncompressedSize=m,this.crc32=y,this.compression=b,this.compressedContent=T}f.prototype={getContentWorker:function(){var g=new o(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new h("data_length")),m=this;return g.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),g},getCompressedWorker:function(){return new o(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(g,m,y){return g.pipe(new l).pipe(new h("uncompressedSize")).pipe(m.compressWorker(y)).pipe(new h("compressedSize")).withStreamInfo("compression",m)},i.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,i,r){var a=e("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},r.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,i,r){var a=e("./utils");function o(){for(var g,m=[],y=0;y<256;y++){g=y;for(var b=0;b<8;b++)g=g&1?3988292384^g>>>1:g>>>1;m[y]=g}return m}var l=o();function h(g,m,y,b){var T=l,A=b+y;g=g^-1;for(var w=b;w<A;w++)g=g>>>8^T[(g^m[w])&255];return g^-1}function f(g,m,y,b){var T=l,A=b+y;g=g^-1;for(var w=b;w<A;w++)g=g>>>8^T[(g^m.charCodeAt(w))&255];return g^-1}i.exports=function(m,y){if(typeof m>"u"||!m.length)return 0;var b=a.getTypeOf(m)!=="string";return b?h(y|0,m,m.length,0):f(y|0,m,m.length,0)}},{"./utils":32}],5:[function(e,i,r){r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(e,i,r){var a=null;typeof Promise<"u"?a=Promise:a=e("lie"),i.exports={Promise:a}},{lie:37}],7:[function(e,i,r){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=e("pako"),l=e("./utils"),h=e("./stream/GenericWorker"),f=a?"uint8array":"array";r.magic="\b\0";function g(m,y){h.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=y,this.meta={}}l.inherits(g,h),g.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(f,m.data),!1)},g.prototype.flush=function(){h.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},g.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this._pako=null},g.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(y){m.push({data:y,meta:m.meta})}},r.compressWorker=function(m){return new g("Deflate",m)},r.uncompressWorker=function(){return new g("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,i,r){var a=e("../utils"),o=e("../stream/GenericWorker"),l=e("../utf8"),h=e("../crc32"),f=e("../signature"),g=function(E,D){var R="",N;for(N=0;N<D;N++)R+=String.fromCharCode(E&255),E=E>>>8;return R},m=function(E,D){var R=E;return E||(R=D?16893:33204),(R&65535)<<16},y=function(E){return(E||0)&63},b=function(E,D,R,N,x,L){var I=E.file,U=E.compression,F=L!==l.utf8encode,k=a.transformTo("string",L(I.name)),$=a.transformTo("string",l.utf8encode(I.name)),Y=I.comment,J=a.transformTo("string",L(Y)),ft=a.transformTo("string",l.utf8encode(Y)),bt=$.length!==I.name.length,X=ft.length!==Y.length,Z,ct,_t="",K="",it="",gt=I.dir,At=I.date,Dt={crc32:0,compressedSize:0,uncompressedSize:0};(!D||R)&&(Dt.crc32=E.crc32,Dt.compressedSize=E.compressedSize,Dt.uncompressedSize=E.uncompressedSize);var qt=0;D&&(qt|=8),!F&&(bt||X)&&(qt|=2048);var Ht=0,Yt=0;gt&&(Ht|=16),x==="UNIX"?(Yt=798,Ht|=m(I.unixPermissions,gt)):(Yt=20,Ht|=y(I.dosPermissions)),Z=At.getUTCHours(),Z=Z<<6,Z=Z|At.getUTCMinutes(),Z=Z<<5,Z=Z|At.getUTCSeconds()/2,ct=At.getUTCFullYear()-1980,ct=ct<<4,ct=ct|At.getUTCMonth()+1,ct=ct<<5,ct=ct|At.getUTCDate(),bt&&(K=g(1,1)+g(h(k),4)+$,_t+="up"+g(K.length,2)+K),X&&(it=g(1,1)+g(h(J),4)+ft,_t+="uc"+g(it.length,2)+it);var zt="";zt+=`
\0`,zt+=g(qt,2),zt+=U.magic,zt+=g(Z,2),zt+=g(ct,2),zt+=g(Dt.crc32,4),zt+=g(Dt.compressedSize,4),zt+=g(Dt.uncompressedSize,4),zt+=g(k.length,2),zt+=g(_t.length,2);var ve=f.LOCAL_FILE_HEADER+zt+k+_t,Te=f.CENTRAL_FILE_HEADER+g(Yt,2)+zt+g(J.length,2)+"\0\0\0\0"+g(Ht,4)+g(N,4)+k+_t+J;return{fileRecord:ve,dirRecord:Te}},T=function(E,D,R,N,x){var L="",I=a.transformTo("string",x(N));return L=f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+g(E,2)+g(E,2)+g(D,4)+g(R,4)+g(I.length,2)+I,L},A=function(E){var D="";return D=f.DATA_DESCRIPTOR+g(E.crc32,4)+g(E.compressedSize,4)+g(E.uncompressedSize,4),D};function w(E,D,R,N){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=D,this.zipPlatform=R,this.encodeFileName=N,this.streamFiles=E,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(w,o),w.prototype.push=function(E){var D=E.meta.percent||0,R=this.entriesCount,N=this._sources.length;this.accumulate?this.contentBuffer.push(E):(this.bytesWritten+=E.data.length,o.prototype.push.call(this,{data:E.data,meta:{currentFile:this.currentFile,percent:R?(D+100*(R-N-1))/R:100}}))},w.prototype.openedSource=function(E){this.currentSourceOffset=this.bytesWritten,this.currentFile=E.file.name;var D=this.streamFiles&&!E.file.dir;if(D){var R=b(E,D,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:R.fileRecord,meta:{percent:0}})}else this.accumulate=!0},w.prototype.closedSource=function(E){this.accumulate=!1;var D=this.streamFiles&&!E.file.dir,R=b(E,D,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(R.dirRecord),D)this.push({data:A(E),meta:{percent:100}});else for(this.push({data:R.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},w.prototype.flush=function(){for(var E=this.bytesWritten,D=0;D<this.dirRecords.length;D++)this.push({data:this.dirRecords[D],meta:{percent:100}});var R=this.bytesWritten-E,N=T(this.dirRecords.length,R,E,this.zipComment,this.encodeFileName);this.push({data:N,meta:{percent:100}})},w.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},w.prototype.registerPrevious=function(E){this._sources.push(E);var D=this;return E.on("data",function(R){D.processChunk(R)}),E.on("end",function(){D.closedSource(D.previous.streamInfo),D._sources.length?D.prepareNextSource():D.end()}),E.on("error",function(R){D.error(R)}),this},w.prototype.resume=function(){if(!o.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0},w.prototype.error=function(E){var D=this._sources;if(!o.prototype.error.call(this,E))return!1;for(var R=0;R<D.length;R++)try{D[R].error(E)}catch{}return!0},w.prototype.lock=function(){o.prototype.lock.call(this);for(var E=this._sources,D=0;D<E.length;D++)E[D].lock()},i.exports=w},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,i,r){var a=e("../compressions"),o=e("./ZipFileWorker"),l=function(h,f){var g=h||f,m=a[g];if(!m)throw new Error(g+" is not a valid compression method !");return m};r.generateWorker=function(h,f,g){var m=new o(f.streamFiles,g,f.platform,f.encodeFileName),y=0;try{h.forEach(function(b,T){y++;var A=l(T.options.compression,f.compression),w=T.options.compressionOptions||f.compressionOptions||{},E=T.dir,D=T.date;T._compressWorker(A,w).withStreamInfo("file",{name:b,dir:E,date:D,comment:T.comment||"",unixPermissions:T.unixPermissions,dosPermissions:T.dosPermissions}).pipe(m)}),m.entriesCount=y}catch(b){m.error(b)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,i,r){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new a;for(var l in this)typeof this[l]!="function"&&(o[l]=this[l]);return o}}a.prototype=e("./object"),a.prototype.loadAsync=e("./load"),a.support=e("./support"),a.defaults=e("./defaults"),a.version="3.10.1",a.loadAsync=function(o,l){return new a().loadAsync(o,l)},a.external=e("./external"),i.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,i,r){var a=e("./utils"),o=e("./external"),l=e("./utf8"),h=e("./zipEntries"),f=e("./stream/Crc32Probe"),g=e("./nodejsUtils");function m(y){return new o.Promise(function(b,T){var A=y.decompressed.getContentWorker().pipe(new f);A.on("error",function(w){T(w)}).on("end",function(){A.streamInfo.crc32!==y.decompressed.crc32?T(new Error("Corrupted zip : CRC32 mismatch")):b()}).resume()})}i.exports=function(y,b){var T=this;return b=a.extend(b||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),g.isNode&&g.isStream(y)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",y,!0,b.optimizedBinaryString,b.base64).then(function(A){var w=new h(b);return w.load(A),w}).then(function(w){var E=[o.Promise.resolve(w)],D=w.files;if(b.checkCRC32)for(var R=0;R<D.length;R++)E.push(m(D[R]));return o.Promise.all(E)}).then(function(w){for(var E=w.shift(),D=E.files,R=0;R<D.length;R++){var N=D[R],x=N.fileNameStr,L=a.resolve(N.fileNameStr);T.file(L,N.decompressed,{binary:!0,optimizedBinaryString:!0,date:N.date,dir:N.dir,comment:N.fileCommentStr.length?N.fileCommentStr:null,unixPermissions:N.unixPermissions,dosPermissions:N.dosPermissions,createFolders:b.createFolders}),N.dir||(T.file(L).unsafeOriginalName=x)}return E.zipComment.length&&(T.comment=E.zipComment),T})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,i,r){var a=e("../utils"),o=e("../stream/GenericWorker");function l(h,f){o.call(this,"Nodejs stream input adapter for "+h),this._upstreamEnded=!1,this._bindStream(f)}a.inherits(l,o),l.prototype._bindStream=function(h){var f=this;this._stream=h,h.pause(),h.on("data",function(g){f.push({data:g,meta:{percent:0}})}).on("error",function(g){f.isPaused?this.generatedError=g:f.error(g)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},l.prototype.pause=function(){return o.prototype.pause.call(this)?(this._stream.pause(),!0):!1},l.prototype.resume=function(){return o.prototype.resume.call(this)?(this._upstreamEnded?this.end():this._stream.resume(),!0):!1},i.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,i,r){var a=e("readable-stream").Readable,o=e("../utils");o.inherits(l,a);function l(h,f,g){a.call(this,f),this._helper=h;var m=this;h.on("data",function(y,b){m.push(y)||m._helper.pause(),g&&g(b)}).on("error",function(y){m.emit("error",y)}).on("end",function(){m.push(null)})}l.prototype._read=function(){this._helper.resume()},i.exports=l},{"../utils":32,"readable-stream":16}],14:[function(e,i,r){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,o);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,o)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var o=new Buffer(a);return o.fill(0),o},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(e,i,r){var a=e("./utf8"),o=e("./utils"),l=e("./stream/GenericWorker"),h=e("./stream/StreamHelper"),f=e("./defaults"),g=e("./compressedObject"),m=e("./zipObject"),y=e("./generate"),b=e("./nodejsUtils"),T=e("./nodejs/NodejsStreamInputAdapter"),A=function(x,L,I){var U=o.getTypeOf(L),F,k=o.extend(I||{},f);k.date=k.date||new Date,k.compression!==null&&(k.compression=k.compression.toUpperCase()),typeof k.unixPermissions=="string"&&(k.unixPermissions=parseInt(k.unixPermissions,8)),k.unixPermissions&&k.unixPermissions&16384&&(k.dir=!0),k.dosPermissions&&k.dosPermissions&16&&(k.dir=!0),k.dir&&(x=E(x)),k.createFolders&&(F=w(x))&&D.call(this,F,!0);var $=U==="string"&&k.binary===!1&&k.base64===!1;(!I||typeof I.binary>"u")&&(k.binary=!$);var Y=L instanceof g&&L.uncompressedSize===0;(Y||k.dir||!L||L.length===0)&&(k.base64=!1,k.binary=!0,L="",k.compression="STORE",U="string");var J=null;L instanceof g||L instanceof l?J=L:b.isNode&&b.isStream(L)?J=new T(x,L):J=o.prepareContent(x,L,k.binary,k.optimizedBinaryString,k.base64);var ft=new m(x,J,k);this.files[x]=ft},w=function(x){x.slice(-1)==="/"&&(x=x.substring(0,x.length-1));var L=x.lastIndexOf("/");return L>0?x.substring(0,L):""},E=function(x){return x.slice(-1)!=="/"&&(x+="/"),x},D=function(x,L){return L=typeof L<"u"?L:f.createFolders,x=E(x),this.files[x]||A.call(this,x,null,{dir:!0,createFolders:L}),this.files[x]};function R(x){return Object.prototype.toString.call(x)==="[object RegExp]"}var N={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(x){var L,I,U;for(L in this.files)U=this.files[L],I=L.slice(this.root.length,L.length),I&&L.slice(0,this.root.length)===this.root&&x(I,U)},filter:function(x){var L=[];return this.forEach(function(I,U){x(I,U)&&L.push(U)}),L},file:function(x,L,I){if(arguments.length===1)if(R(x)){var U=x;return this.filter(function(k,$){return!$.dir&&U.test(k)})}else{var F=this.files[this.root+x];return F&&!F.dir?F:null}else x=this.root+x,A.call(this,x,L,I);return this},folder:function(x){if(!x)return this;if(R(x))return this.filter(function(F,k){return k.dir&&x.test(F)});var L=this.root+x,I=D.call(this,L),U=this.clone();return U.root=I.name,U},remove:function(x){x=this.root+x;var L=this.files[x];if(L||(x.slice(-1)!=="/"&&(x+="/"),L=this.files[x]),L&&!L.dir)delete this.files[x];else for(var I=this.filter(function(F,k){return k.name.slice(0,x.length)===x}),U=0;U<I.length;U++)delete this.files[I[U].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(x){var L,I={};try{if(I=o.extend(x||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode}),I.type=I.type.toLowerCase(),I.compression=I.compression.toUpperCase(),I.type==="binarystring"&&(I.type="string"),!I.type)throw new Error("No output type specified.");o.checkSupport(I.type),(I.platform==="darwin"||I.platform==="freebsd"||I.platform==="linux"||I.platform==="sunos")&&(I.platform="UNIX"),I.platform==="win32"&&(I.platform="DOS");var U=I.comment||this.comment||"";L=y.generateWorker(this,I,U)}catch(F){L=new l("error"),L.error(F)}return new h(L,I.type||"string",I.mimeType)},generateAsync:function(x,L){return this.generateInternalStream(x).accumulate(L)},generateNodeStream:function(x,L){return x=x||{},x.type||(x.type="nodebuffer"),this.generateInternalStream(x).toNodejsStream(L)}};i.exports=N},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,i,r){i.exports=e("stream")},{stream:void 0}],17:[function(e,i,r){var a=e("./DataReader"),o=e("../utils");function l(h){a.call(this,h);for(var f=0;f<this.data.length;f++)h[f]=h[f]&255}o.inherits(l,a),l.prototype.byteAt=function(h){return this.data[this.zero+h]},l.prototype.lastIndexOfSignature=function(h){for(var f=h.charCodeAt(0),g=h.charCodeAt(1),m=h.charCodeAt(2),y=h.charCodeAt(3),b=this.length-4;b>=0;--b)if(this.data[b]===f&&this.data[b+1]===g&&this.data[b+2]===m&&this.data[b+3]===y)return b-this.zero;return-1},l.prototype.readAndCheckSignature=function(h){var f=h.charCodeAt(0),g=h.charCodeAt(1),m=h.charCodeAt(2),y=h.charCodeAt(3),b=this.readData(4);return f===b[0]&&g===b[1]&&m===b[2]&&y===b[3]},l.prototype.readData=function(h){if(this.checkOffset(h),h===0)return[];var f=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,f},i.exports=l},{"../utils":32,"./DataReader":18}],18:[function(e,i,r){var a=e("../utils");function o(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var h=0,f;for(this.checkOffset(l),f=this.index+l-1;f>=this.index;f--)h=(h<<8)+this.byteAt(f);return this.index+=l,h},readString:function(l){return a.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC((l>>25&127)+1980,(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(l&31)<<1))}},i.exports=o},{"../utils":32}],19:[function(e,i,r){var a=e("./Uint8ArrayReader"),o=e("../utils");function l(h){a.call(this,h)}o.inherits(l,a),l.prototype.readData=function(h){this.checkOffset(h);var f=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,f},i.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,i,r){var a=e("./DataReader"),o=e("../utils");function l(h){a.call(this,h)}o.inherits(l,a),l.prototype.byteAt=function(h){return this.data.charCodeAt(this.zero+h)},l.prototype.lastIndexOfSignature=function(h){return this.data.lastIndexOf(h)-this.zero},l.prototype.readAndCheckSignature=function(h){var f=this.readData(4);return h===f},l.prototype.readData=function(h){this.checkOffset(h);var f=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,f},i.exports=l},{"../utils":32,"./DataReader":18}],21:[function(e,i,r){var a=e("./ArrayReader"),o=e("../utils");function l(h){a.call(this,h)}o.inherits(l,a),l.prototype.readData=function(h){if(this.checkOffset(h),h===0)return new Uint8Array(0);var f=this.data.subarray(this.zero+this.index,this.zero+this.index+h);return this.index+=h,f},i.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(e,i,r){var a=e("../utils"),o=e("../support"),l=e("./ArrayReader"),h=e("./StringReader"),f=e("./NodeBufferReader"),g=e("./Uint8ArrayReader");i.exports=function(m){var y=a.getTypeOf(m);return a.checkSupport(y),y==="string"&&!o.uint8array?new h(m):y==="nodebuffer"?new f(m):o.uint8array?new g(a.transformTo("uint8array",m)):new l(a.transformTo("array",m))}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,i,r){r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,i,r){var a=e("./GenericWorker"),o=e("../utils");function l(h){a.call(this,"ConvertWorker to "+h),this.destType=h}o.inherits(l,a),l.prototype.processChunk=function(h){this.push({data:o.transformTo(this.destType,h.data),meta:h.meta})},i.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(e,i,r){var a=e("./GenericWorker"),o=e("../crc32"),l=e("../utils");function h(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}l.inherits(h,a),h.prototype.processChunk=function(f){this.streamInfo.crc32=o(f.data,this.streamInfo.crc32||0),this.push(f)},i.exports=h},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,i,r){var a=e("../utils"),o=e("./GenericWorker");function l(h){o.call(this,"DataLengthProbe for "+h),this.propName=h,this.withStreamInfo(h,0)}a.inherits(l,o),l.prototype.processChunk=function(h){if(h){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+h.data.length}o.prototype.processChunk.call(this,h)},i.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(e,i,r){var a=e("../utils"),o=e("./GenericWorker"),l=16*1024;function h(f){o.call(this,"DataWorker");var g=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,f.then(function(m){g.dataIsReady=!0,g.data=m,g.max=m&&m.length||0,g.type=a.getTypeOf(m),g.isPaused||g._tickAndRepeat()},function(m){g.error(m)})}a.inherits(h,o),h.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},h.prototype.resume=function(){return o.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0):!1},h.prototype._tickAndRepeat=function(){this._tickScheduled=!1,!(this.isPaused||this.isFinished)&&(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},h.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var f=l,g=null,m=Math.min(this.max,this.index+f);if(this.index>=this.max)return this.end();switch(this.type){case"string":g=this.data.substring(this.index,m);break;case"uint8array":g=this.data.subarray(this.index,m);break;case"array":case"nodebuffer":g=this.data.slice(this.index,m);break}return this.index=m,this.push({data:g,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=h},{"../utils":32,"./GenericWorker":28}],28:[function(e,i,r){function a(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return this.isFinished?!1:(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,l){return this._listeners[o].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,l){if(this._listeners[o])for(var h=0;h<this._listeners[o].length;h++)this._listeners[o][h].call(this,l)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var l=this;return o.on("data",function(h){l.processChunk(h)}),o.on("end",function(){l.end()}),o.on("error",function(h){l.error(h)}),this},pause:function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var o=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,l){return this.extraStreamInfo[o]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},i.exports=a},{}],29:[function(e,i,r){var a=e("../utils"),o=e("./ConvertWorker"),l=e("./GenericWorker"),h=e("../base64"),f=e("../support"),g=e("../external"),m=null;if(f.nodestream)try{m=e("../nodejs/NodejsStreamOutputAdapter")}catch{}function y(w,E,D){switch(w){case"blob":return a.newBlob(a.transformTo("arraybuffer",E),D);case"base64":return h.encode(E);default:return a.transformTo(w,E)}}function b(w,E){var D,R=0,N=null,x=0;for(D=0;D<E.length;D++)x+=E[D].length;switch(w){case"string":return E.join("");case"array":return Array.prototype.concat.apply([],E);case"uint8array":for(N=new Uint8Array(x),D=0;D<E.length;D++)N.set(E[D],R),R+=E[D].length;return N;case"nodebuffer":return Buffer.concat(E);default:throw new Error("concat : unsupported type '"+w+"'")}}function T(w,E){return new g.Promise(function(D,R){var N=[],x=w._internalType,L=w._outputType,I=w._mimeType;w.on("data",function(U,F){N.push(U),E&&E(F)}).on("error",function(U){N=[],R(U)}).on("end",function(){try{var U=y(L,b(x,N),I);D(U)}catch(F){R(F)}N=[]}).resume()})}function A(w,E,D){var R=E;switch(E){case"blob":case"arraybuffer":R="uint8array";break;case"base64":R="string";break}try{this._internalType=R,this._outputType=E,this._mimeType=D,a.checkSupport(R),this._worker=w.pipe(new o(R)),w.lock()}catch(N){this._worker=new l("error"),this._worker.error(N)}}A.prototype={accumulate:function(w){return T(this,w)},on:function(w,E){var D=this;return w==="data"?this._worker.on(w,function(R){E.call(D,R.data,R.meta)}):this._worker.on(w,function(){a.delay(E,arguments,D)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(w){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},w)}},i.exports=A},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,i,r){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",r.nodebuffer=typeof Buffer<"u",r.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")r.blob=!1;else{var a=new ArrayBuffer(0);try{r.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var o=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,l=new o;l.append(a),r.blob=l.getBlob("application/zip").size===0}catch{r.blob=!1}}}try{r.nodestream=!!e("readable-stream").Readable}catch{r.nodestream=!1}},{"readable-stream":16}],31:[function(e,i,r){for(var a=e("./utils"),o=e("./support"),l=e("./nodejsUtils"),h=e("./stream/GenericWorker"),f=new Array(256),g=0;g<256;g++)f[g]=g>=252?6:g>=248?5:g>=240?4:g>=224?3:g>=192?2:1;f[254]=f[254]=1;var m=function(w){var E,D,R,N,x,L=w.length,I=0;for(N=0;N<L;N++)D=w.charCodeAt(N),(D&64512)===55296&&N+1<L&&(R=w.charCodeAt(N+1),(R&64512)===56320&&(D=65536+(D-55296<<10)+(R-56320),N++)),I+=D<128?1:D<2048?2:D<65536?3:4;for(o.uint8array?E=new Uint8Array(I):E=new Array(I),x=0,N=0;x<I;N++)D=w.charCodeAt(N),(D&64512)===55296&&N+1<L&&(R=w.charCodeAt(N+1),(R&64512)===56320&&(D=65536+(D-55296<<10)+(R-56320),N++)),D<128?E[x++]=D:D<2048?(E[x++]=192|D>>>6,E[x++]=128|D&63):D<65536?(E[x++]=224|D>>>12,E[x++]=128|D>>>6&63,E[x++]=128|D&63):(E[x++]=240|D>>>18,E[x++]=128|D>>>12&63,E[x++]=128|D>>>6&63,E[x++]=128|D&63);return E},y=function(w,E){var D;for(E=E||w.length,E>w.length&&(E=w.length),D=E-1;D>=0&&(w[D]&192)===128;)D--;return D<0||D===0?E:D+f[w[D]]>E?D:E},b=function(w){var E,D,R,N,x=w.length,L=new Array(x*2);for(D=0,E=0;E<x;){if(R=w[E++],R<128){L[D++]=R;continue}if(N=f[R],N>4){L[D++]=65533,E+=N-1;continue}for(R&=N===2?31:N===3?15:7;N>1&&E<x;)R=R<<6|w[E++]&63,N--;if(N>1){L[D++]=65533;continue}R<65536?L[D++]=R:(R-=65536,L[D++]=55296|R>>10&1023,L[D++]=56320|R&1023)}return L.length!==D&&(L.subarray?L=L.subarray(0,D):L.length=D),a.applyFromCharCode(L)};r.utf8encode=function(E){return o.nodebuffer?l.newBufferFrom(E,"utf-8"):m(E)},r.utf8decode=function(E){return o.nodebuffer?a.transformTo("nodebuffer",E).toString("utf-8"):(E=a.transformTo(o.uint8array?"uint8array":"array",E),b(E))};function T(){h.call(this,"utf-8 decode"),this.leftOver=null}a.inherits(T,h),T.prototype.processChunk=function(w){var E=a.transformTo(o.uint8array?"uint8array":"array",w.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var D=E;E=new Uint8Array(D.length+this.leftOver.length),E.set(this.leftOver,0),E.set(D,this.leftOver.length)}else E=this.leftOver.concat(E);this.leftOver=null}var R=y(E),N=E;R!==E.length&&(o.uint8array?(N=E.subarray(0,R),this.leftOver=E.subarray(R,E.length)):(N=E.slice(0,R),this.leftOver=E.slice(R,E.length))),this.push({data:r.utf8decode(N),meta:w.meta})},T.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=T;function A(){h.call(this,"utf-8 encode")}a.inherits(A,h),A.prototype.processChunk=function(w){this.push({data:r.utf8encode(w.data),meta:w.meta})},r.Utf8EncodeWorker=A},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,i,r){var a=e("./support"),o=e("./base64"),l=e("./nodejsUtils"),h=e("./external");e("setimmediate");function f(w){var E=null;return a.uint8array?E=new Uint8Array(w.length):E=new Array(w.length),m(w,E)}r.newBlob=function(w,E){r.checkSupport("blob");try{return new Blob([w],{type:E})}catch{try{var D=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,R=new D;return R.append(w),R.getBlob(E)}catch{throw new Error("Bug : can't construct the Blob.")}}};function g(w){return w}function m(w,E){for(var D=0;D<w.length;++D)E[D]=w.charCodeAt(D)&255;return E}var y={stringifyByChunk:function(w,E,D){var R=[],N=0,x=w.length;if(x<=D)return String.fromCharCode.apply(null,w);for(;N<x;)E==="array"||E==="nodebuffer"?R.push(String.fromCharCode.apply(null,w.slice(N,Math.min(N+D,x)))):R.push(String.fromCharCode.apply(null,w.subarray(N,Math.min(N+D,x)))),N+=D;return R.join("")},stringifyByChar:function(w){for(var E="",D=0;D<w.length;D++)E+=String.fromCharCode(w[D]);return E},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function b(w){var E=65536,D=r.getTypeOf(w),R=!0;if(D==="uint8array"?R=y.applyCanBeUsed.uint8array:D==="nodebuffer"&&(R=y.applyCanBeUsed.nodebuffer),R)for(;E>1;)try{return y.stringifyByChunk(w,D,E)}catch{E=Math.floor(E/2)}return y.stringifyByChar(w)}r.applyFromCharCode=b;function T(w,E){for(var D=0;D<w.length;D++)E[D]=w[D];return E}var A={};A.string={string:g,array:function(w){return m(w,new Array(w.length))},arraybuffer:function(w){return A.string.uint8array(w).buffer},uint8array:function(w){return m(w,new Uint8Array(w.length))},nodebuffer:function(w){return m(w,l.allocBuffer(w.length))}},A.array={string:b,array:g,arraybuffer:function(w){return new Uint8Array(w).buffer},uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return l.newBufferFrom(w)}},A.arraybuffer={string:function(w){return b(new Uint8Array(w))},array:function(w){return T(new Uint8Array(w),new Array(w.byteLength))},arraybuffer:g,uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return l.newBufferFrom(new Uint8Array(w))}},A.uint8array={string:b,array:function(w){return T(w,new Array(w.length))},arraybuffer:function(w){return w.buffer},uint8array:g,nodebuffer:function(w){return l.newBufferFrom(w)}},A.nodebuffer={string:b,array:function(w){return T(w,new Array(w.length))},arraybuffer:function(w){return A.nodebuffer.uint8array(w).buffer},uint8array:function(w){return T(w,new Uint8Array(w.length))},nodebuffer:g},r.transformTo=function(w,E){if(E||(E=""),!w)return E;r.checkSupport(w);var D=r.getTypeOf(E),R=A[D][w](E);return R},r.resolve=function(w){for(var E=w.split("/"),D=[],R=0;R<E.length;R++){var N=E[R];N==="."||N===""&&R!==0&&R!==E.length-1||(N===".."?D.pop():D.push(N))}return D.join("/")},r.getTypeOf=function(w){if(typeof w=="string")return"string";if(Object.prototype.toString.call(w)==="[object Array]")return"array";if(a.nodebuffer&&l.isBuffer(w))return"nodebuffer";if(a.uint8array&&w instanceof Uint8Array)return"uint8array";if(a.arraybuffer&&w instanceof ArrayBuffer)return"arraybuffer"},r.checkSupport=function(w){var E=a[w.toLowerCase()];if(!E)throw new Error(w+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(w){var E="",D,R;for(R=0;R<(w||"").length;R++)D=w.charCodeAt(R),E+="\\x"+(D<16?"0":"")+D.toString(16).toUpperCase();return E},r.delay=function(w,E,D){setImmediate(function(){w.apply(D||null,E||[])})},r.inherits=function(w,E){var D=function(){};D.prototype=E.prototype,w.prototype=new D},r.extend=function(){var w={},E,D;for(E=0;E<arguments.length;E++)for(D in arguments[E])Object.prototype.hasOwnProperty.call(arguments[E],D)&&typeof w[D]>"u"&&(w[D]=arguments[E][D]);return w},r.prepareContent=function(w,E,D,R,N){var x=h.Promise.resolve(E).then(function(L){var I=a.blob&&(L instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(L))!==-1);return I&&typeof FileReader<"u"?new h.Promise(function(U,F){var k=new FileReader;k.onload=function($){U($.target.result)},k.onerror=function($){F($.target.error)},k.readAsArrayBuffer(L)}):L});return x.then(function(L){var I=r.getTypeOf(L);return I?(I==="arraybuffer"?L=r.transformTo("uint8array",L):I==="string"&&(N?L=o.decode(L):D&&R!==!0&&(L=f(L))),L):h.Promise.reject(new Error("Can't read the data of '"+w+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,i,r){var a=e("./reader/readerFor"),o=e("./utils"),l=e("./signature"),h=e("./zipEntry"),f=e("./support");function g(m){this.files=[],this.loadOptions=m}g.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(y)+", expected "+o.pretty(m)+")")}},isSignature:function(m,y){var b=this.reader.index;this.reader.setIndex(m);var T=this.reader.readString(4),A=T===y;return this.reader.setIndex(b),A},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),y=f.uint8array?"uint8array":"array",b=o.transformTo(y,m);this.zipComment=this.loadOptions.decodeFileName(b)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m=this.zip64EndOfCentralSize-44,y=0,b,T,A;y<m;)b=this.reader.readInt(2),T=this.reader.readInt(4),A=this.reader.readData(T),this.zip64ExtensibleData[b]={id:b,length:T,value:A}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,y;for(m=0;m<this.files.length;m++)y=this.files[m],this.reader.setIndex(y.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),y.readLocalPart(this.reader),y.handleUTF8(),y.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)m=new h({zip64:this.zip64},this.loadOptions),m.readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(m<0){var y=!this.isSignature(0,l.LOCAL_FILE_HEADER);throw y?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(m);var b=m;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,m=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),m<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var T=this.centralDirOffset+this.centralDirSize;this.zip64&&(T+=20,T+=12+this.zip64EndOfCentralSize);var A=b-T;if(A>0)this.isSignature(b,l.CENTRAL_FILE_HEADER)||(this.reader.zero=A);else if(A<0)throw new Error("Corrupted zip: missing "+Math.abs(A)+" bytes.")},prepareReader:function(m){this.reader=a(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=g},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,i,r){var a=e("./reader/readerFor"),o=e("./utils"),l=e("./compressedObject"),h=e("./crc32"),f=e("./utf8"),g=e("./compressions"),m=e("./support"),y=0,b=3,T=function(w){for(var E in g)if(Object.prototype.hasOwnProperty.call(g,E)&&g[E].magic===w)return g[E];return null};function A(w,E){this.options=w,this.loadOptions=E}A.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(w){var E,D;if(w.skip(22),this.fileNameLength=w.readInt(2),D=w.readInt(2),this.fileName=w.readData(this.fileNameLength),w.skip(D),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(E=T(this.compressionMethod),E===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,E,w.readData(this.compressedSize))},readCentralPart:function(w){this.versionMadeBy=w.readInt(2),w.skip(2),this.bitFlag=w.readInt(2),this.compressionMethod=w.readString(2),this.date=w.readDate(),this.crc32=w.readInt(4),this.compressedSize=w.readInt(4),this.uncompressedSize=w.readInt(4);var E=w.readInt(2);if(this.extraFieldsLength=w.readInt(2),this.fileCommentLength=w.readInt(2),this.diskNumberStart=w.readInt(2),this.internalFileAttributes=w.readInt(2),this.externalFileAttributes=w.readInt(4),this.localHeaderOffset=w.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");w.skip(E),this.readExtraFields(w),this.parseZIP64ExtraField(w),this.fileComment=w.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var w=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),w===y&&(this.dosPermissions=this.externalFileAttributes&63),w===b&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var w=a(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=w.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=w.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=w.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=w.readInt(4))}},readExtraFields:function(w){var E=w.index+this.extraFieldsLength,D,R,N;for(this.extraFields||(this.extraFields={});w.index+4<E;)D=w.readInt(2),R=w.readInt(2),N=w.readData(R),this.extraFields[D]={id:D,length:R,value:N};w.setIndex(E)},handleUTF8:function(){var w=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var E=this.findExtraFieldUnicodePath();if(E!==null)this.fileNameStr=E;else{var D=o.transformTo(w,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(D)}var R=this.findExtraFieldUnicodeComment();if(R!==null)this.fileCommentStr=R;else{var N=o.transformTo(w,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(N)}}},findExtraFieldUnicodePath:function(){var w=this.extraFields[28789];if(w){var E=a(w.value);return E.readInt(1)!==1||h(this.fileName)!==E.readInt(4)?null:f.utf8decode(E.readData(w.length-5))}return null},findExtraFieldUnicodeComment:function(){var w=this.extraFields[25461];if(w){var E=a(w.value);return E.readInt(1)!==1||h(this.fileComment)!==E.readInt(4)?null:f.utf8decode(E.readData(w.length-5))}return null}},i.exports=A},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,i,r){var a=e("./stream/StreamHelper"),o=e("./stream/DataWorker"),l=e("./utf8"),h=e("./compressedObject"),f=e("./stream/GenericWorker"),g=function(T,A,w){this.name=T,this.dir=w.dir,this.date=w.date,this.comment=w.comment,this.unixPermissions=w.unixPermissions,this.dosPermissions=w.dosPermissions,this._data=A,this._dataBinary=w.binary,this.options={compression:w.compression,compressionOptions:w.compressionOptions}};g.prototype={internalStream:function(T){var A=null,w="string";try{if(!T)throw new Error("No output type specified.");w=T.toLowerCase();var E=w==="string"||w==="text";(w==="binarystring"||w==="text")&&(w="string"),A=this._decompressWorker();var D=!this._dataBinary;D&&!E&&(A=A.pipe(new l.Utf8EncodeWorker)),!D&&E&&(A=A.pipe(new l.Utf8DecodeWorker))}catch(R){A=new f("error"),A.error(R)}return new a(A,w,"")},async:function(T,A){return this.internalStream(T).accumulate(A)},nodeStream:function(T,A){return this.internalStream(T||"nodebuffer").toNodejsStream(A)},_compressWorker:function(T,A){if(this._data instanceof h&&this._data.compression.magic===T.magic)return this._data.getCompressedWorker();var w=this._decompressWorker();return this._dataBinary||(w=w.pipe(new l.Utf8EncodeWorker)),h.createWorkerFrom(w,T,A)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof f?this._data:new o(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},b=0;b<m.length;b++)g.prototype[m[b]]=y;i.exports=g},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,i,r){(function(a){var o=a.MutationObserver||a.WebKitMutationObserver,l;if(o){var h=0,f=new o(T),g=a.document.createTextNode("");f.observe(g,{characterData:!0}),l=function(){g.data=h=++h%2}}else if(!a.setImmediate&&typeof a.MessageChannel<"u"){var m=new a.MessageChannel;m.port1.onmessage=T,l=function(){m.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?l=function(){var w=a.document.createElement("script");w.onreadystatechange=function(){T(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},a.document.documentElement.appendChild(w)}:l=function(){setTimeout(T,0)};var y,b=[];function T(){y=!0;for(var w,E,D=b.length;D;){for(E=b,b=[],w=-1;++w<D;)E[w]();D=b.length}y=!1}i.exports=A;function A(w){b.push(w)===1&&!y&&l()}}).call(this,typeof xs<"u"?xs:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(e,i,r){var a=e("immediate");function o(){}var l={},h=["REJECTED"],f=["FULFILLED"],g=["PENDING"];i.exports=m;function m(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,x!==o&&A(this,x)}m.prototype.finally=function(x){if(typeof x!="function")return this;var L=this.constructor;return this.then(I,U);function I(F){function k(){return F}return L.resolve(x()).then(k)}function U(F){function k(){throw F}return L.resolve(x()).then(k)}},m.prototype.catch=function(x){return this.then(null,x)},m.prototype.then=function(x,L){if(typeof x!="function"&&this.state===f||typeof L!="function"&&this.state===h)return this;var I=new this.constructor(o);if(this.state!==g){var U=this.state===f?x:L;b(I,U,this.outcome)}else this.queue.push(new y(I,x,L));return I};function y(x,L,I){this.promise=x,typeof L=="function"&&(this.onFulfilled=L,this.callFulfilled=this.otherCallFulfilled),typeof I=="function"&&(this.onRejected=I,this.callRejected=this.otherCallRejected)}y.prototype.callFulfilled=function(x){l.resolve(this.promise,x)},y.prototype.otherCallFulfilled=function(x){b(this.promise,this.onFulfilled,x)},y.prototype.callRejected=function(x){l.reject(this.promise,x)},y.prototype.otherCallRejected=function(x){b(this.promise,this.onRejected,x)};function b(x,L,I){a(function(){var U;try{U=L(I)}catch(F){return l.reject(x,F)}U===x?l.reject(x,new TypeError("Cannot resolve promise with itself")):l.resolve(x,U)})}l.resolve=function(x,L){var I=w(T,L);if(I.status==="error")return l.reject(x,I.value);var U=I.value;if(U)A(x,U);else{x.state=f,x.outcome=L;for(var F=-1,k=x.queue.length;++F<k;)x.queue[F].callFulfilled(L)}return x},l.reject=function(x,L){x.state=h,x.outcome=L;for(var I=-1,U=x.queue.length;++I<U;)x.queue[I].callRejected(L);return x};function T(x){var L=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof L=="function")return function(){L.apply(x,arguments)}}function A(x,L){var I=!1;function U(Y){I||(I=!0,l.reject(x,Y))}function F(Y){I||(I=!0,l.resolve(x,Y))}function k(){L(F,U)}var $=w(k);$.status==="error"&&U($.value)}function w(x,L){var I={};try{I.value=x(L),I.status="success"}catch(U){I.status="error",I.value=U}return I}m.resolve=E;function E(x){return x instanceof this?x:l.resolve(new this(o),x)}m.reject=D;function D(x){var L=new this(o);return l.reject(L,x)}m.all=R;function R(x){var L=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=x.length,U=!1;if(!I)return this.resolve([]);for(var F=new Array(I),k=0,$=-1,Y=new this(o);++$<I;)J(x[$],$);return Y;function J(ft,bt){L.resolve(ft).then(X,function(Z){U||(U=!0,l.reject(Y,Z))});function X(Z){F[bt]=Z,++k===I&&!U&&(U=!0,l.resolve(Y,F))}}}m.race=N;function N(x){var L=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=x.length,U=!1;if(!I)return this.resolve([]);for(var F=-1,k=new this(o);++F<I;)$(x[F]);return k;function $(Y){L.resolve(Y).then(function(J){U||(U=!0,l.resolve(k,J))},function(J){U||(U=!0,l.reject(k,J))})}}},{immediate:36}],38:[function(e,i,r){var a=e("./lib/utils/common").assign,o=e("./lib/deflate"),l=e("./lib/inflate"),h=e("./lib/zlib/constants"),f={};a(f,o,l,h),i.exports=f},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,i,r){var a=e("./zlib/deflate"),o=e("./utils/common"),l=e("./utils/strings"),h=e("./zlib/messages"),f=e("./zlib/zstream"),g=Object.prototype.toString,m=0,y=4,b=0,T=1,A=2,w=-1,E=0,D=8;function R(I){if(!(this instanceof R))return new R(I);this.options=o.assign({level:w,method:D,chunkSize:16384,windowBits:15,memLevel:8,strategy:E,to:""},I||{});var U=this.options;U.raw&&U.windowBits>0?U.windowBits=-U.windowBits:U.gzip&&U.windowBits>0&&U.windowBits<16&&(U.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var F=a.deflateInit2(this.strm,U.level,U.method,U.windowBits,U.memLevel,U.strategy);if(F!==b)throw new Error(h[F]);if(U.header&&a.deflateSetHeader(this.strm,U.header),U.dictionary){var k;if(typeof U.dictionary=="string"?k=l.string2buf(U.dictionary):g.call(U.dictionary)==="[object ArrayBuffer]"?k=new Uint8Array(U.dictionary):k=U.dictionary,F=a.deflateSetDictionary(this.strm,k),F!==b)throw new Error(h[F]);this._dict_set=!0}}R.prototype.push=function(I,U){var F=this.strm,k=this.options.chunkSize,$,Y;if(this.ended)return!1;Y=U===~~U?U:U===!0?y:m,typeof I=="string"?F.input=l.string2buf(I):g.call(I)==="[object ArrayBuffer]"?F.input=new Uint8Array(I):F.input=I,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new o.Buf8(k),F.next_out=0,F.avail_out=k),$=a.deflate(F,Y),$!==T&&$!==b)return this.onEnd($),this.ended=!0,!1;(F.avail_out===0||F.avail_in===0&&(Y===y||Y===A))&&(this.options.to==="string"?this.onData(l.buf2binstring(o.shrinkBuf(F.output,F.next_out))):this.onData(o.shrinkBuf(F.output,F.next_out)))}while((F.avail_in>0||F.avail_out===0)&&$!==T);return Y===y?($=a.deflateEnd(this.strm),this.onEnd($),this.ended=!0,$===b):(Y===A&&(this.onEnd(b),F.avail_out=0),!0)},R.prototype.onData=function(I){this.chunks.push(I)},R.prototype.onEnd=function(I){I===b&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=I,this.msg=this.strm.msg};function N(I,U){var F=new R(U);if(F.push(I,!0),F.err)throw F.msg||h[F.err];return F.result}function x(I,U){return U=U||{},U.raw=!0,N(I,U)}function L(I,U){return U=U||{},U.gzip=!0,N(I,U)}r.Deflate=R,r.deflate=N,r.deflateRaw=x,r.gzip=L},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,i,r){var a=e("./zlib/inflate"),o=e("./utils/common"),l=e("./utils/strings"),h=e("./zlib/constants"),f=e("./zlib/messages"),g=e("./zlib/zstream"),m=e("./zlib/gzheader"),y=Object.prototype.toString;function b(w){if(!(this instanceof b))return new b(w);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},w||{});var E=this.options;E.raw&&E.windowBits>=0&&E.windowBits<16&&(E.windowBits=-E.windowBits,E.windowBits===0&&(E.windowBits=-15)),E.windowBits>=0&&E.windowBits<16&&!(w&&w.windowBits)&&(E.windowBits+=32),E.windowBits>15&&E.windowBits<48&&(E.windowBits&15)===0&&(E.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var D=a.inflateInit2(this.strm,E.windowBits);if(D!==h.Z_OK)throw new Error(f[D]);this.header=new m,a.inflateGetHeader(this.strm,this.header)}b.prototype.push=function(w,E){var D=this.strm,R=this.options.chunkSize,N=this.options.dictionary,x,L,I,U,F,k,$=!1;if(this.ended)return!1;L=E===~~E?E:E===!0?h.Z_FINISH:h.Z_NO_FLUSH,typeof w=="string"?D.input=l.binstring2buf(w):y.call(w)==="[object ArrayBuffer]"?D.input=new Uint8Array(w):D.input=w,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new o.Buf8(R),D.next_out=0,D.avail_out=R),x=a.inflate(D,h.Z_NO_FLUSH),x===h.Z_NEED_DICT&&N&&(typeof N=="string"?k=l.string2buf(N):y.call(N)==="[object ArrayBuffer]"?k=new Uint8Array(N):k=N,x=a.inflateSetDictionary(this.strm,k)),x===h.Z_BUF_ERROR&&$===!0&&(x=h.Z_OK,$=!1),x!==h.Z_STREAM_END&&x!==h.Z_OK)return this.onEnd(x),this.ended=!0,!1;D.next_out&&(D.avail_out===0||x===h.Z_STREAM_END||D.avail_in===0&&(L===h.Z_FINISH||L===h.Z_SYNC_FLUSH))&&(this.options.to==="string"?(I=l.utf8border(D.output,D.next_out),U=D.next_out-I,F=l.buf2string(D.output,I),D.next_out=U,D.avail_out=R-U,U&&o.arraySet(D.output,D.output,I,U,0),this.onData(F)):this.onData(o.shrinkBuf(D.output,D.next_out))),D.avail_in===0&&D.avail_out===0&&($=!0)}while((D.avail_in>0||D.avail_out===0)&&x!==h.Z_STREAM_END);return x===h.Z_STREAM_END&&(L=h.Z_FINISH),L===h.Z_FINISH?(x=a.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===h.Z_OK):(L===h.Z_SYNC_FLUSH&&(this.onEnd(h.Z_OK),D.avail_out=0),!0)},b.prototype.onData=function(w){this.chunks.push(w)},b.prototype.onEnd=function(w){w===h.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg};function T(w,E){var D=new b(E);if(D.push(w,!0),D.err)throw D.msg||f[D.err];return D.result}function A(w,E){return E=E||{},E.raw=!0,T(w,E)}r.Inflate=b,r.inflate=T,r.inflateRaw=A,r.ungzip=T},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,i,r){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(h){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var g=f.shift();if(g){if(typeof g!="object")throw new TypeError(g+"must be non-object");for(var m in g)g.hasOwnProperty(m)&&(h[m]=g[m])}}return h},r.shrinkBuf=function(h,f){return h.length===f?h:h.subarray?h.subarray(0,f):(h.length=f,h)};var o={arraySet:function(h,f,g,m,y){if(f.subarray&&h.subarray){h.set(f.subarray(g,g+m),y);return}for(var b=0;b<m;b++)h[y+b]=f[g+b]},flattenChunks:function(h){var f,g,m,y,b,T;for(m=0,f=0,g=h.length;f<g;f++)m+=h[f].length;for(T=new Uint8Array(m),y=0,f=0,g=h.length;f<g;f++)b=h[f],T.set(b,y),y+=b.length;return T}},l={arraySet:function(h,f,g,m,y){for(var b=0;b<m;b++)h[y+b]=f[g+b]},flattenChunks:function(h){return[].concat.apply([],h)}};r.setTyped=function(h){h?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,o)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,l))},r.setTyped(a)},{}],42:[function(e,i,r){var a=e("./common"),o=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var h=new a.Buf8(256),f=0;f<256;f++)h[f]=f>=252?6:f>=248?5:f>=240?4:f>=224?3:f>=192?2:1;h[254]=h[254]=1,r.string2buf=function(m){var y,b,T,A,w,E=m.length,D=0;for(A=0;A<E;A++)b=m.charCodeAt(A),(b&64512)===55296&&A+1<E&&(T=m.charCodeAt(A+1),(T&64512)===56320&&(b=65536+(b-55296<<10)+(T-56320),A++)),D+=b<128?1:b<2048?2:b<65536?3:4;for(y=new a.Buf8(D),w=0,A=0;w<D;A++)b=m.charCodeAt(A),(b&64512)===55296&&A+1<E&&(T=m.charCodeAt(A+1),(T&64512)===56320&&(b=65536+(b-55296<<10)+(T-56320),A++)),b<128?y[w++]=b:b<2048?(y[w++]=192|b>>>6,y[w++]=128|b&63):b<65536?(y[w++]=224|b>>>12,y[w++]=128|b>>>6&63,y[w++]=128|b&63):(y[w++]=240|b>>>18,y[w++]=128|b>>>12&63,y[w++]=128|b>>>6&63,y[w++]=128|b&63);return y};function g(m,y){if(y<65537&&(m.subarray&&l||!m.subarray&&o))return String.fromCharCode.apply(null,a.shrinkBuf(m,y));for(var b="",T=0;T<y;T++)b+=String.fromCharCode(m[T]);return b}r.buf2binstring=function(m){return g(m,m.length)},r.binstring2buf=function(m){for(var y=new a.Buf8(m.length),b=0,T=y.length;b<T;b++)y[b]=m.charCodeAt(b);return y},r.buf2string=function(m,y){var b,T,A,w,E=y||m.length,D=new Array(E*2);for(T=0,b=0;b<E;){if(A=m[b++],A<128){D[T++]=A;continue}if(w=h[A],w>4){D[T++]=65533,b+=w-1;continue}for(A&=w===2?31:w===3?15:7;w>1&&b<E;)A=A<<6|m[b++]&63,w--;if(w>1){D[T++]=65533;continue}A<65536?D[T++]=A:(A-=65536,D[T++]=55296|A>>10&1023,D[T++]=56320|A&1023)}return g(D,T)},r.utf8border=function(m,y){var b;for(y=y||m.length,y>m.length&&(y=m.length),b=y-1;b>=0&&(m[b]&192)===128;)b--;return b<0||b===0?y:b+h[m[b]]>y?b:y}},{"./common":41}],43:[function(e,i,r){function a(o,l,h,f){for(var g=o&65535|0,m=o>>>16&65535|0,y=0;h!==0;){y=h>2e3?2e3:h,h-=y;do g=g+l[f++]|0,m=m+g|0;while(--y);g%=65521,m%=65521}return g|m<<16|0}i.exports=a},{}],44:[function(e,i,r){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,i,r){function a(){for(var h,f=[],g=0;g<256;g++){h=g;for(var m=0;m<8;m++)h=h&1?3988292384^h>>>1:h>>>1;f[g]=h}return f}var o=a();function l(h,f,g,m){var y=o,b=m+g;h^=-1;for(var T=m;T<b;T++)h=h>>>8^y[(h^f[T])&255];return h^-1}i.exports=l},{}],46:[function(e,i,r){var a=e("../utils/common"),o=e("./trees"),l=e("./adler32"),h=e("./crc32"),f=e("./messages"),g=0,m=1,y=3,b=4,T=5,A=0,w=1,E=-2,D=-3,R=-5,N=-1,x=1,L=2,I=3,U=4,F=0,k=2,$=8,Y=9,J=15,ft=8,bt=29,X=256,Z=X+1+bt,ct=30,_t=19,K=2*Z+1,it=15,gt=3,At=258,Dt=At+gt+1,qt=32,Ht=42,Yt=69,zt=73,ve=91,Te=103,oe=113,fe=666,de=1,ye=2,Ue=3,ke=4,ue=3;function Zt(C,at){return C.msg=f[at],at}function Xt(C){return(C<<1)-(C>4?9:0)}function re(C){for(var at=C.length;--at>=0;)C[at]=0}function Jt(C){var at=C.state,pt=at.pending;pt>C.avail_out&&(pt=C.avail_out),pt!==0&&(a.arraySet(C.output,at.pending_buf,at.pending_out,pt,C.next_out),C.next_out+=pt,at.pending_out+=pt,C.total_out+=pt,C.avail_out-=pt,at.pending-=pt,at.pending===0&&(at.pending_out=0))}function kt(C,at){o._tr_flush_block(C,C.block_start>=0?C.block_start:-1,C.strstart-C.block_start,at),C.block_start=C.strstart,Jt(C.strm)}function ne(C,at){C.pending_buf[C.pending++]=at}function Be(C,at){C.pending_buf[C.pending++]=at>>>8&255,C.pending_buf[C.pending++]=at&255}function Ii(C,at,pt,H){var et=C.avail_in;return et>H&&(et=H),et===0?0:(C.avail_in-=et,a.arraySet(at,C.input,C.next_in,et,pt),C.state.wrap===1?C.adler=l(C.adler,at,et,pt):C.state.wrap===2&&(C.adler=h(C.adler,at,et,pt)),C.next_in+=et,C.total_in+=et,et)}function ni(C,at){var pt=C.max_chain_length,H=C.strstart,et,dt,Ft=C.prev_length,It=C.nice_match,jt=C.strstart>C.w_size-Dt?C.strstart-(C.w_size-Dt):0,ge=C.window,Di=C.w_mask,He=C.prev,we=C.strstart+At,Ae=ge[H+Ft-1],Ci=ge[H+Ft];C.prev_length>=C.good_match&&(pt>>=2),It>C.lookahead&&(It=C.lookahead);do if(et=at,!(ge[et+Ft]!==Ci||ge[et+Ft-1]!==Ae||ge[et]!==ge[H]||ge[++et]!==ge[H+1])){H+=2,et++;do;while(ge[++H]===ge[++et]&&ge[++H]===ge[++et]&&ge[++H]===ge[++et]&&ge[++H]===ge[++et]&&ge[++H]===ge[++et]&&ge[++H]===ge[++et]&&ge[++H]===ge[++et]&&ge[++H]===ge[++et]&&H<we);if(dt=At-(we-H),H=we-At,dt>Ft){if(C.match_start=at,Ft=dt,dt>=It)break;Ae=ge[H+Ft-1],Ci=ge[H+Ft]}}while((at=He[at&Di])>jt&&--pt!==0);return Ft<=C.lookahead?Ft:C.lookahead}function De(C){var at=C.w_size,pt,H,et,dt,Ft;do{if(dt=C.window_size-C.lookahead-C.strstart,C.strstart>=at+(at-Dt)){a.arraySet(C.window,C.window,at,at,0),C.match_start-=at,C.strstart-=at,C.block_start-=at,H=C.hash_size,pt=H;do et=C.head[--pt],C.head[pt]=et>=at?et-at:0;while(--H);H=at,pt=H;do et=C.prev[--pt],C.prev[pt]=et>=at?et-at:0;while(--H);dt+=at}if(C.strm.avail_in===0)break;if(H=Ii(C.strm,C.window,C.strstart+C.lookahead,dt),C.lookahead+=H,C.lookahead+C.insert>=gt)for(Ft=C.strstart-C.insert,C.ins_h=C.window[Ft],C.ins_h=(C.ins_h<<C.hash_shift^C.window[Ft+1])&C.hash_mask;C.insert&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[Ft+gt-1])&C.hash_mask,C.prev[Ft&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=Ft,Ft++,C.insert--,!(C.lookahead+C.insert<gt)););}while(C.lookahead<Dt&&C.strm.avail_in!==0)}function ri(C,at){var pt=65535;for(pt>C.pending_buf_size-5&&(pt=C.pending_buf_size-5);;){if(C.lookahead<=1){if(De(C),C.lookahead===0&&at===g)return de;if(C.lookahead===0)break}C.strstart+=C.lookahead,C.lookahead=0;var H=C.block_start+pt;if((C.strstart===0||C.strstart>=H)&&(C.lookahead=C.strstart-H,C.strstart=H,kt(C,!1),C.strm.avail_out===0)||C.strstart-C.block_start>=C.w_size-Dt&&(kt(C,!1),C.strm.avail_out===0))return de}return C.insert=0,at===b?(kt(C,!0),C.strm.avail_out===0?Ue:ke):(C.strstart>C.block_start&&(kt(C,!1),C.strm.avail_out===0),de)}function Xe(C,at){for(var pt,H;;){if(C.lookahead<Dt){if(De(C),C.lookahead<Dt&&at===g)return de;if(C.lookahead===0)break}if(pt=0,C.lookahead>=gt&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+gt-1])&C.hash_mask,pt=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),pt!==0&&C.strstart-pt<=C.w_size-Dt&&(C.match_length=ni(C,pt)),C.match_length>=gt)if(H=o._tr_tally(C,C.strstart-C.match_start,C.match_length-gt),C.lookahead-=C.match_length,C.match_length<=C.max_lazy_match&&C.lookahead>=gt){C.match_length--;do C.strstart++,C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+gt-1])&C.hash_mask,pt=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart;while(--C.match_length!==0);C.strstart++}else C.strstart+=C.match_length,C.match_length=0,C.ins_h=C.window[C.strstart],C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+1])&C.hash_mask;else H=o._tr_tally(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++;if(H&&(kt(C,!1),C.strm.avail_out===0))return de}return C.insert=C.strstart<gt-1?C.strstart:gt-1,at===b?(kt(C,!0),C.strm.avail_out===0?Ue:ke):C.last_lit&&(kt(C,!1),C.strm.avail_out===0)?de:ye}function tn(C,at){for(var pt,H,et;;){if(C.lookahead<Dt){if(De(C),C.lookahead<Dt&&at===g)return de;if(C.lookahead===0)break}if(pt=0,C.lookahead>=gt&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+gt-1])&C.hash_mask,pt=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),C.prev_length=C.match_length,C.prev_match=C.match_start,C.match_length=gt-1,pt!==0&&C.prev_length<C.max_lazy_match&&C.strstart-pt<=C.w_size-Dt&&(C.match_length=ni(C,pt),C.match_length<=5&&(C.strategy===x||C.match_length===gt&&C.strstart-C.match_start>4096)&&(C.match_length=gt-1)),C.prev_length>=gt&&C.match_length<=C.prev_length){et=C.strstart+C.lookahead-gt,H=o._tr_tally(C,C.strstart-1-C.prev_match,C.prev_length-gt),C.lookahead-=C.prev_length-1,C.prev_length-=2;do++C.strstart<=et&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+gt-1])&C.hash_mask,pt=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart);while(--C.prev_length!==0);if(C.match_available=0,C.match_length=gt-1,C.strstart++,H&&(kt(C,!1),C.strm.avail_out===0))return de}else if(C.match_available){if(H=o._tr_tally(C,0,C.window[C.strstart-1]),H&&kt(C,!1),C.strstart++,C.lookahead--,C.strm.avail_out===0)return de}else C.match_available=1,C.strstart++,C.lookahead--}return C.match_available&&(H=o._tr_tally(C,0,C.window[C.strstart-1]),C.match_available=0),C.insert=C.strstart<gt-1?C.strstart:gt-1,at===b?(kt(C,!0),C.strm.avail_out===0?Ue:ke):C.last_lit&&(kt(C,!1),C.strm.avail_out===0)?de:ye}function Gn(C,at){for(var pt,H,et,dt,Ft=C.window;;){if(C.lookahead<=At){if(De(C),C.lookahead<=At&&at===g)return de;if(C.lookahead===0)break}if(C.match_length=0,C.lookahead>=gt&&C.strstart>0&&(et=C.strstart-1,H=Ft[et],H===Ft[++et]&&H===Ft[++et]&&H===Ft[++et])){dt=C.strstart+At;do;while(H===Ft[++et]&&H===Ft[++et]&&H===Ft[++et]&&H===Ft[++et]&&H===Ft[++et]&&H===Ft[++et]&&H===Ft[++et]&&H===Ft[++et]&&et<dt);C.match_length=At-(dt-et),C.match_length>C.lookahead&&(C.match_length=C.lookahead)}if(C.match_length>=gt?(pt=o._tr_tally(C,1,C.match_length-gt),C.lookahead-=C.match_length,C.strstart+=C.match_length,C.match_length=0):(pt=o._tr_tally(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++),pt&&(kt(C,!1),C.strm.avail_out===0))return de}return C.insert=0,at===b?(kt(C,!0),C.strm.avail_out===0?Ue:ke):C.last_lit&&(kt(C,!1),C.strm.avail_out===0)?de:ye}function Dn(C,at){for(var pt;;){if(C.lookahead===0&&(De(C),C.lookahead===0)){if(at===g)return de;break}if(C.match_length=0,pt=o._tr_tally(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++,pt&&(kt(C,!1),C.strm.avail_out===0))return de}return C.insert=0,at===b?(kt(C,!0),C.strm.avail_out===0?Ue:ke):C.last_lit&&(kt(C,!1),C.strm.avail_out===0)?de:ye}function vi(C,at,pt,H,et){this.good_length=C,this.max_lazy=at,this.nice_length=pt,this.max_chain=H,this.func=et}var Ui;Ui=[new vi(0,0,0,0,ri),new vi(4,4,8,4,Xe),new vi(4,5,16,8,Xe),new vi(4,6,32,32,Xe),new vi(4,4,16,16,tn),new vi(8,16,32,32,tn),new vi(8,16,128,128,tn),new vi(8,32,128,256,tn),new vi(32,128,258,1024,tn),new vi(32,258,258,4096,tn)];function hn(C){C.window_size=2*C.w_size,re(C.head),C.max_lazy_match=Ui[C.level].max_lazy,C.good_match=Ui[C.level].good_length,C.nice_match=Ui[C.level].nice_length,C.max_chain_length=Ui[C.level].max_chain,C.strstart=0,C.block_start=0,C.lookahead=0,C.insert=0,C.match_length=C.prev_length=gt-1,C.match_available=0,C.ins_h=0}function V(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=$,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(K*2),this.dyn_dtree=new a.Buf16((2*ct+1)*2),this.bl_tree=new a.Buf16((2*_t+1)*2),re(this.dyn_ltree),re(this.dyn_dtree),re(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(it+1),this.heap=new a.Buf16(2*Z+1),re(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*Z+1),re(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ct(C){var at;return!C||!C.state?Zt(C,E):(C.total_in=C.total_out=0,C.data_type=k,at=C.state,at.pending=0,at.pending_out=0,at.wrap<0&&(at.wrap=-at.wrap),at.status=at.wrap?Ht:oe,C.adler=at.wrap===2?0:1,at.last_flush=g,o._tr_init(at),A)}function Lt(C){var at=Ct(C);return at===A&&hn(C.state),at}function $t(C,at){return!C||!C.state||C.state.wrap!==2?E:(C.state.gzhead=at,A)}function nt(C,at,pt,H,et,dt){if(!C)return E;var Ft=1;if(at===N&&(at=6),H<0?(Ft=0,H=-H):H>15&&(Ft=2,H-=16),et<1||et>Y||pt!==$||H<8||H>15||at<0||at>9||dt<0||dt>U)return Zt(C,E);H===8&&(H=9);var It=new V;return C.state=It,It.strm=C,It.wrap=Ft,It.gzhead=null,It.w_bits=H,It.w_size=1<<It.w_bits,It.w_mask=It.w_size-1,It.hash_bits=et+7,It.hash_size=1<<It.hash_bits,It.hash_mask=It.hash_size-1,It.hash_shift=~~((It.hash_bits+gt-1)/gt),It.window=new a.Buf8(It.w_size*2),It.head=new a.Buf16(It.hash_size),It.prev=new a.Buf16(It.w_size),It.lit_bufsize=1<<et+6,It.pending_buf_size=It.lit_bufsize*4,It.pending_buf=new a.Buf8(It.pending_buf_size),It.d_buf=1*It.lit_bufsize,It.l_buf=3*It.lit_bufsize,It.level=at,It.strategy=dt,It.method=pt,Lt(C)}function M(C,at){return nt(C,at,$,J,ft,F)}function S(C,at){var pt,H,et,dt;if(!C||!C.state||at>T||at<0)return C?Zt(C,E):E;if(H=C.state,!C.output||!C.input&&C.avail_in!==0||H.status===fe&&at!==b)return Zt(C,C.avail_out===0?R:E);if(H.strm=C,pt=H.last_flush,H.last_flush=at,H.status===Ht)if(H.wrap===2)C.adler=0,ne(H,31),ne(H,139),ne(H,8),H.gzhead?(ne(H,(H.gzhead.text?1:0)+(H.gzhead.hcrc?2:0)+(H.gzhead.extra?4:0)+(H.gzhead.name?8:0)+(H.gzhead.comment?16:0)),ne(H,H.gzhead.time&255),ne(H,H.gzhead.time>>8&255),ne(H,H.gzhead.time>>16&255),ne(H,H.gzhead.time>>24&255),ne(H,H.level===9?2:H.strategy>=L||H.level<2?4:0),ne(H,H.gzhead.os&255),H.gzhead.extra&&H.gzhead.extra.length&&(ne(H,H.gzhead.extra.length&255),ne(H,H.gzhead.extra.length>>8&255)),H.gzhead.hcrc&&(C.adler=h(C.adler,H.pending_buf,H.pending,0)),H.gzindex=0,H.status=Yt):(ne(H,0),ne(H,0),ne(H,0),ne(H,0),ne(H,0),ne(H,H.level===9?2:H.strategy>=L||H.level<2?4:0),ne(H,ue),H.status=oe);else{var Ft=$+(H.w_bits-8<<4)<<8,It=-1;H.strategy>=L||H.level<2?It=0:H.level<6?It=1:H.level===6?It=2:It=3,Ft|=It<<6,H.strstart!==0&&(Ft|=qt),Ft+=31-Ft%31,H.status=oe,Be(H,Ft),H.strstart!==0&&(Be(H,C.adler>>>16),Be(H,C.adler&65535)),C.adler=1}if(H.status===Yt)if(H.gzhead.extra){for(et=H.pending;H.gzindex<(H.gzhead.extra.length&65535)&&!(H.pending===H.pending_buf_size&&(H.gzhead.hcrc&&H.pending>et&&(C.adler=h(C.adler,H.pending_buf,H.pending-et,et)),Jt(C),et=H.pending,H.pending===H.pending_buf_size));)ne(H,H.gzhead.extra[H.gzindex]&255),H.gzindex++;H.gzhead.hcrc&&H.pending>et&&(C.adler=h(C.adler,H.pending_buf,H.pending-et,et)),H.gzindex===H.gzhead.extra.length&&(H.gzindex=0,H.status=zt)}else H.status=zt;if(H.status===zt)if(H.gzhead.name){et=H.pending;do{if(H.pending===H.pending_buf_size&&(H.gzhead.hcrc&&H.pending>et&&(C.adler=h(C.adler,H.pending_buf,H.pending-et,et)),Jt(C),et=H.pending,H.pending===H.pending_buf_size)){dt=1;break}H.gzindex<H.gzhead.name.length?dt=H.gzhead.name.charCodeAt(H.gzindex++)&255:dt=0,ne(H,dt)}while(dt!==0);H.gzhead.hcrc&&H.pending>et&&(C.adler=h(C.adler,H.pending_buf,H.pending-et,et)),dt===0&&(H.gzindex=0,H.status=ve)}else H.status=ve;if(H.status===ve)if(H.gzhead.comment){et=H.pending;do{if(H.pending===H.pending_buf_size&&(H.gzhead.hcrc&&H.pending>et&&(C.adler=h(C.adler,H.pending_buf,H.pending-et,et)),Jt(C),et=H.pending,H.pending===H.pending_buf_size)){dt=1;break}H.gzindex<H.gzhead.comment.length?dt=H.gzhead.comment.charCodeAt(H.gzindex++)&255:dt=0,ne(H,dt)}while(dt!==0);H.gzhead.hcrc&&H.pending>et&&(C.adler=h(C.adler,H.pending_buf,H.pending-et,et)),dt===0&&(H.status=Te)}else H.status=Te;if(H.status===Te&&(H.gzhead.hcrc?(H.pending+2>H.pending_buf_size&&Jt(C),H.pending+2<=H.pending_buf_size&&(ne(H,C.adler&255),ne(H,C.adler>>8&255),C.adler=0,H.status=oe)):H.status=oe),H.pending!==0){if(Jt(C),C.avail_out===0)return H.last_flush=-1,A}else if(C.avail_in===0&&Xt(at)<=Xt(pt)&&at!==b)return Zt(C,R);if(H.status===fe&&C.avail_in!==0)return Zt(C,R);if(C.avail_in!==0||H.lookahead!==0||at!==g&&H.status!==fe){var jt=H.strategy===L?Dn(H,at):H.strategy===I?Gn(H,at):Ui[H.level].func(H,at);if((jt===Ue||jt===ke)&&(H.status=fe),jt===de||jt===Ue)return C.avail_out===0&&(H.last_flush=-1),A;if(jt===ye&&(at===m?o._tr_align(H):at!==T&&(o._tr_stored_block(H,0,0,!1),at===y&&(re(H.head),H.lookahead===0&&(H.strstart=0,H.block_start=0,H.insert=0))),Jt(C),C.avail_out===0))return H.last_flush=-1,A}return at!==b?A:H.wrap<=0?w:(H.wrap===2?(ne(H,C.adler&255),ne(H,C.adler>>8&255),ne(H,C.adler>>16&255),ne(H,C.adler>>24&255),ne(H,C.total_in&255),ne(H,C.total_in>>8&255),ne(H,C.total_in>>16&255),ne(H,C.total_in>>24&255)):(Be(H,C.adler>>>16),Be(H,C.adler&65535)),Jt(C),H.wrap>0&&(H.wrap=-H.wrap),H.pending!==0?A:w)}function q(C){var at;return!C||!C.state?E:(at=C.state.status,at!==Ht&&at!==Yt&&at!==zt&&at!==ve&&at!==Te&&at!==oe&&at!==fe?Zt(C,E):(C.state=null,at===oe?Zt(C,D):A))}function st(C,at){var pt=at.length,H,et,dt,Ft,It,jt,ge,Di;if(!C||!C.state||(H=C.state,Ft=H.wrap,Ft===2||Ft===1&&H.status!==Ht||H.lookahead))return E;for(Ft===1&&(C.adler=l(C.adler,at,pt,0)),H.wrap=0,pt>=H.w_size&&(Ft===0&&(re(H.head),H.strstart=0,H.block_start=0,H.insert=0),Di=new a.Buf8(H.w_size),a.arraySet(Di,at,pt-H.w_size,H.w_size,0),at=Di,pt=H.w_size),It=C.avail_in,jt=C.next_in,ge=C.input,C.avail_in=pt,C.next_in=0,C.input=at,De(H);H.lookahead>=gt;){et=H.strstart,dt=H.lookahead-(gt-1);do H.ins_h=(H.ins_h<<H.hash_shift^H.window[et+gt-1])&H.hash_mask,H.prev[et&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=et,et++;while(--dt);H.strstart=et,H.lookahead=gt-1,De(H)}return H.strstart+=H.lookahead,H.block_start=H.strstart,H.insert=H.lookahead,H.lookahead=0,H.match_length=H.prev_length=gt-1,H.match_available=0,C.next_in=jt,C.input=ge,C.avail_in=It,H.wrap=Ft,A}r.deflateInit=M,r.deflateInit2=nt,r.deflateReset=Lt,r.deflateResetKeep=Ct,r.deflateSetHeader=$t,r.deflate=S,r.deflateEnd=q,r.deflateSetDictionary=st,r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,i,r){function a(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}i.exports=a},{}],48:[function(e,i,r){var a=30,o=12;i.exports=function(h,f){var g,m,y,b,T,A,w,E,D,R,N,x,L,I,U,F,k,$,Y,J,ft,bt,X,Z,ct;g=h.state,m=h.next_in,Z=h.input,y=m+(h.avail_in-5),b=h.next_out,ct=h.output,T=b-(f-h.avail_out),A=b+(h.avail_out-257),w=g.dmax,E=g.wsize,D=g.whave,R=g.wnext,N=g.window,x=g.hold,L=g.bits,I=g.lencode,U=g.distcode,F=(1<<g.lenbits)-1,k=(1<<g.distbits)-1;t:do{L<15&&(x+=Z[m++]<<L,L+=8,x+=Z[m++]<<L,L+=8),$=I[x&F];e:for(;;){if(Y=$>>>24,x>>>=Y,L-=Y,Y=$>>>16&255,Y===0)ct[b++]=$&65535;else if(Y&16){J=$&65535,Y&=15,Y&&(L<Y&&(x+=Z[m++]<<L,L+=8),J+=x&(1<<Y)-1,x>>>=Y,L-=Y),L<15&&(x+=Z[m++]<<L,L+=8,x+=Z[m++]<<L,L+=8),$=U[x&k];i:for(;;){if(Y=$>>>24,x>>>=Y,L-=Y,Y=$>>>16&255,Y&16){if(ft=$&65535,Y&=15,L<Y&&(x+=Z[m++]<<L,L+=8,L<Y&&(x+=Z[m++]<<L,L+=8)),ft+=x&(1<<Y)-1,ft>w){h.msg="invalid distance too far back",g.mode=a;break t}if(x>>>=Y,L-=Y,Y=b-T,ft>Y){if(Y=ft-Y,Y>D&&g.sane){h.msg="invalid distance too far back",g.mode=a;break t}if(bt=0,X=N,R===0){if(bt+=E-Y,Y<J){J-=Y;do ct[b++]=N[bt++];while(--Y);bt=b-ft,X=ct}}else if(R<Y){if(bt+=E+R-Y,Y-=R,Y<J){J-=Y;do ct[b++]=N[bt++];while(--Y);if(bt=0,R<J){Y=R,J-=Y;do ct[b++]=N[bt++];while(--Y);bt=b-ft,X=ct}}}else if(bt+=R-Y,Y<J){J-=Y;do ct[b++]=N[bt++];while(--Y);bt=b-ft,X=ct}for(;J>2;)ct[b++]=X[bt++],ct[b++]=X[bt++],ct[b++]=X[bt++],J-=3;J&&(ct[b++]=X[bt++],J>1&&(ct[b++]=X[bt++]))}else{bt=b-ft;do ct[b++]=ct[bt++],ct[b++]=ct[bt++],ct[b++]=ct[bt++],J-=3;while(J>2);J&&(ct[b++]=ct[bt++],J>1&&(ct[b++]=ct[bt++]))}}else if((Y&64)===0){$=U[($&65535)+(x&(1<<Y)-1)];continue i}else{h.msg="invalid distance code",g.mode=a;break t}break}}else if((Y&64)===0){$=I[($&65535)+(x&(1<<Y)-1)];continue e}else if(Y&32){g.mode=o;break t}else{h.msg="invalid literal/length code",g.mode=a;break t}break}}while(m<y&&b<A);J=L>>3,m-=J,L-=J<<3,x&=(1<<L)-1,h.next_in=m,h.next_out=b,h.avail_in=m<y?5+(y-m):5-(m-y),h.avail_out=b<A?257+(A-b):257-(b-A),g.hold=x,g.bits=L}},{}],49:[function(e,i,r){var a=e("../utils/common"),o=e("./adler32"),l=e("./crc32"),h=e("./inffast"),f=e("./inftrees"),g=0,m=1,y=2,b=4,T=5,A=6,w=0,E=1,D=2,R=-2,N=-3,x=-4,L=-5,I=8,U=1,F=2,k=3,$=4,Y=5,J=6,ft=7,bt=8,X=9,Z=10,ct=11,_t=12,K=13,it=14,gt=15,At=16,Dt=17,qt=18,Ht=19,Yt=20,zt=21,ve=22,Te=23,oe=24,fe=25,de=26,ye=27,Ue=28,ke=29,ue=30,Zt=31,Xt=32,re=852,Jt=592,kt=15,ne=kt;function Be(nt){return(nt>>>24&255)+(nt>>>8&65280)+((nt&65280)<<8)+((nt&255)<<24)}function Ii(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ni(nt){var M;return!nt||!nt.state?R:(M=nt.state,nt.total_in=nt.total_out=M.total=0,nt.msg="",M.wrap&&(nt.adler=M.wrap&1),M.mode=U,M.last=0,M.havedict=0,M.dmax=32768,M.head=null,M.hold=0,M.bits=0,M.lencode=M.lendyn=new a.Buf32(re),M.distcode=M.distdyn=new a.Buf32(Jt),M.sane=1,M.back=-1,w)}function De(nt){var M;return!nt||!nt.state?R:(M=nt.state,M.wsize=0,M.whave=0,M.wnext=0,ni(nt))}function ri(nt,M){var S,q;return!nt||!nt.state||(q=nt.state,M<0?(S=0,M=-M):(S=(M>>4)+1,M<48&&(M&=15)),M&&(M<8||M>15))?R:(q.window!==null&&q.wbits!==M&&(q.window=null),q.wrap=S,q.wbits=M,De(nt))}function Xe(nt,M){var S,q;return nt?(q=new Ii,nt.state=q,q.window=null,S=ri(nt,M),S!==w&&(nt.state=null),S):R}function tn(nt){return Xe(nt,ne)}var Gn=!0,Dn,vi;function Ui(nt){if(Gn){var M;for(Dn=new a.Buf32(512),vi=new a.Buf32(32),M=0;M<144;)nt.lens[M++]=8;for(;M<256;)nt.lens[M++]=9;for(;M<280;)nt.lens[M++]=7;for(;M<288;)nt.lens[M++]=8;for(f(m,nt.lens,0,288,Dn,0,nt.work,{bits:9}),M=0;M<32;)nt.lens[M++]=5;f(y,nt.lens,0,32,vi,0,nt.work,{bits:5}),Gn=!1}nt.lencode=Dn,nt.lenbits=9,nt.distcode=vi,nt.distbits=5}function hn(nt,M,S,q){var st,C=nt.state;return C.window===null&&(C.wsize=1<<C.wbits,C.wnext=0,C.whave=0,C.window=new a.Buf8(C.wsize)),q>=C.wsize?(a.arraySet(C.window,M,S-C.wsize,C.wsize,0),C.wnext=0,C.whave=C.wsize):(st=C.wsize-C.wnext,st>q&&(st=q),a.arraySet(C.window,M,S-q,st,C.wnext),q-=st,q?(a.arraySet(C.window,M,S-q,q,0),C.wnext=q,C.whave=C.wsize):(C.wnext+=st,C.wnext===C.wsize&&(C.wnext=0),C.whave<C.wsize&&(C.whave+=st))),0}function V(nt,M){var S,q,st,C,at,pt,H,et,dt,Ft,It,jt,ge,Di,He=0,we,Ae,Ci,ti,Vn,is,si,qe,Hi=new a.Buf8(4),pr,en,Ds=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!nt||!nt.state||!nt.output||!nt.input&&nt.avail_in!==0)return R;S=nt.state,S.mode===_t&&(S.mode=K),at=nt.next_out,st=nt.output,H=nt.avail_out,C=nt.next_in,q=nt.input,pt=nt.avail_in,et=S.hold,dt=S.bits,Ft=pt,It=H,qe=w;t:for(;;)switch(S.mode){case U:if(S.wrap===0){S.mode=K;break}for(;dt<16;){if(pt===0)break t;pt--,et+=q[C++]<<dt,dt+=8}if(S.wrap&2&&et===35615){S.check=0,Hi[0]=et&255,Hi[1]=et>>>8&255,S.check=l(S.check,Hi,2,0),et=0,dt=0,S.mode=F;break}if(S.flags=0,S.head&&(S.head.done=!1),!(S.wrap&1)||(((et&255)<<8)+(et>>8))%31){nt.msg="incorrect header check",S.mode=ue;break}if((et&15)!==I){nt.msg="unknown compression method",S.mode=ue;break}if(et>>>=4,dt-=4,si=(et&15)+8,S.wbits===0)S.wbits=si;else if(si>S.wbits){nt.msg="invalid window size",S.mode=ue;break}S.dmax=1<<si,nt.adler=S.check=1,S.mode=et&512?Z:_t,et=0,dt=0;break;case F:for(;dt<16;){if(pt===0)break t;pt--,et+=q[C++]<<dt,dt+=8}if(S.flags=et,(S.flags&255)!==I){nt.msg="unknown compression method",S.mode=ue;break}if(S.flags&57344){nt.msg="unknown header flags set",S.mode=ue;break}S.head&&(S.head.text=et>>8&1),S.flags&512&&(Hi[0]=et&255,Hi[1]=et>>>8&255,S.check=l(S.check,Hi,2,0)),et=0,dt=0,S.mode=k;case k:for(;dt<32;){if(pt===0)break t;pt--,et+=q[C++]<<dt,dt+=8}S.head&&(S.head.time=et),S.flags&512&&(Hi[0]=et&255,Hi[1]=et>>>8&255,Hi[2]=et>>>16&255,Hi[3]=et>>>24&255,S.check=l(S.check,Hi,4,0)),et=0,dt=0,S.mode=$;case $:for(;dt<16;){if(pt===0)break t;pt--,et+=q[C++]<<dt,dt+=8}S.head&&(S.head.xflags=et&255,S.head.os=et>>8),S.flags&512&&(Hi[0]=et&255,Hi[1]=et>>>8&255,S.check=l(S.check,Hi,2,0)),et=0,dt=0,S.mode=Y;case Y:if(S.flags&1024){for(;dt<16;){if(pt===0)break t;pt--,et+=q[C++]<<dt,dt+=8}S.length=et,S.head&&(S.head.extra_len=et),S.flags&512&&(Hi[0]=et&255,Hi[1]=et>>>8&255,S.check=l(S.check,Hi,2,0)),et=0,dt=0}else S.head&&(S.head.extra=null);S.mode=J;case J:if(S.flags&1024&&(jt=S.length,jt>pt&&(jt=pt),jt&&(S.head&&(si=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),a.arraySet(S.head.extra,q,C,jt,si)),S.flags&512&&(S.check=l(S.check,q,jt,C)),pt-=jt,C+=jt,S.length-=jt),S.length))break t;S.length=0,S.mode=ft;case ft:if(S.flags&2048){if(pt===0)break t;jt=0;do si=q[C+jt++],S.head&&si&&S.length<65536&&(S.head.name+=String.fromCharCode(si));while(si&&jt<pt);if(S.flags&512&&(S.check=l(S.check,q,jt,C)),pt-=jt,C+=jt,si)break t}else S.head&&(S.head.name=null);S.length=0,S.mode=bt;case bt:if(S.flags&4096){if(pt===0)break t;jt=0;do si=q[C+jt++],S.head&&si&&S.length<65536&&(S.head.comment+=String.fromCharCode(si));while(si&&jt<pt);if(S.flags&512&&(S.check=l(S.check,q,jt,C)),pt-=jt,C+=jt,si)break t}else S.head&&(S.head.comment=null);S.mode=X;case X:if(S.flags&512){for(;dt<16;){if(pt===0)break t;pt--,et+=q[C++]<<dt,dt+=8}if(et!==(S.check&65535)){nt.msg="header crc mismatch",S.mode=ue;break}et=0,dt=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),nt.adler=S.check=0,S.mode=_t;break;case Z:for(;dt<32;){if(pt===0)break t;pt--,et+=q[C++]<<dt,dt+=8}nt.adler=S.check=Be(et),et=0,dt=0,S.mode=ct;case ct:if(S.havedict===0)return nt.next_out=at,nt.avail_out=H,nt.next_in=C,nt.avail_in=pt,S.hold=et,S.bits=dt,D;nt.adler=S.check=1,S.mode=_t;case _t:if(M===T||M===A)break t;case K:if(S.last){et>>>=dt&7,dt-=dt&7,S.mode=ye;break}for(;dt<3;){if(pt===0)break t;pt--,et+=q[C++]<<dt,dt+=8}switch(S.last=et&1,et>>>=1,dt-=1,et&3){case 0:S.mode=it;break;case 1:if(Ui(S),S.mode=Yt,M===A){et>>>=2,dt-=2;break t}break;case 2:S.mode=Dt;break;case 3:nt.msg="invalid block type",S.mode=ue}et>>>=2,dt-=2;break;case it:for(et>>>=dt&7,dt-=dt&7;dt<32;){if(pt===0)break t;pt--,et+=q[C++]<<dt,dt+=8}if((et&65535)!==(et>>>16^65535)){nt.msg="invalid stored block lengths",S.mode=ue;break}if(S.length=et&65535,et=0,dt=0,S.mode=gt,M===A)break t;case gt:S.mode=At;case At:if(jt=S.length,jt){if(jt>pt&&(jt=pt),jt>H&&(jt=H),jt===0)break t;a.arraySet(st,q,C,jt,at),pt-=jt,C+=jt,H-=jt,at+=jt,S.length-=jt;break}S.mode=_t;break;case Dt:for(;dt<14;){if(pt===0)break t;pt--,et+=q[C++]<<dt,dt+=8}if(S.nlen=(et&31)+257,et>>>=5,dt-=5,S.ndist=(et&31)+1,et>>>=5,dt-=5,S.ncode=(et&15)+4,et>>>=4,dt-=4,S.nlen>286||S.ndist>30){nt.msg="too many length or distance symbols",S.mode=ue;break}S.have=0,S.mode=qt;case qt:for(;S.have<S.ncode;){for(;dt<3;){if(pt===0)break t;pt--,et+=q[C++]<<dt,dt+=8}S.lens[Ds[S.have++]]=et&7,et>>>=3,dt-=3}for(;S.have<19;)S.lens[Ds[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,pr={bits:S.lenbits},qe=f(g,S.lens,0,19,S.lencode,0,S.work,pr),S.lenbits=pr.bits,qe){nt.msg="invalid code lengths set",S.mode=ue;break}S.have=0,S.mode=Ht;case Ht:for(;S.have<S.nlen+S.ndist;){for(;He=S.lencode[et&(1<<S.lenbits)-1],we=He>>>24,Ae=He>>>16&255,Ci=He&65535,!(we<=dt);){if(pt===0)break t;pt--,et+=q[C++]<<dt,dt+=8}if(Ci<16)et>>>=we,dt-=we,S.lens[S.have++]=Ci;else{if(Ci===16){for(en=we+2;dt<en;){if(pt===0)break t;pt--,et+=q[C++]<<dt,dt+=8}if(et>>>=we,dt-=we,S.have===0){nt.msg="invalid bit length repeat",S.mode=ue;break}si=S.lens[S.have-1],jt=3+(et&3),et>>>=2,dt-=2}else if(Ci===17){for(en=we+3;dt<en;){if(pt===0)break t;pt--,et+=q[C++]<<dt,dt+=8}et>>>=we,dt-=we,si=0,jt=3+(et&7),et>>>=3,dt-=3}else{for(en=we+7;dt<en;){if(pt===0)break t;pt--,et+=q[C++]<<dt,dt+=8}et>>>=we,dt-=we,si=0,jt=11+(et&127),et>>>=7,dt-=7}if(S.have+jt>S.nlen+S.ndist){nt.msg="invalid bit length repeat",S.mode=ue;break}for(;jt--;)S.lens[S.have++]=si}}if(S.mode===ue)break;if(S.lens[256]===0){nt.msg="invalid code -- missing end-of-block",S.mode=ue;break}if(S.lenbits=9,pr={bits:S.lenbits},qe=f(m,S.lens,0,S.nlen,S.lencode,0,S.work,pr),S.lenbits=pr.bits,qe){nt.msg="invalid literal/lengths set",S.mode=ue;break}if(S.distbits=6,S.distcode=S.distdyn,pr={bits:S.distbits},qe=f(y,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,pr),S.distbits=pr.bits,qe){nt.msg="invalid distances set",S.mode=ue;break}if(S.mode=Yt,M===A)break t;case Yt:S.mode=zt;case zt:if(pt>=6&&H>=258){nt.next_out=at,nt.avail_out=H,nt.next_in=C,nt.avail_in=pt,S.hold=et,S.bits=dt,h(nt,It),at=nt.next_out,st=nt.output,H=nt.avail_out,C=nt.next_in,q=nt.input,pt=nt.avail_in,et=S.hold,dt=S.bits,S.mode===_t&&(S.back=-1);break}for(S.back=0;He=S.lencode[et&(1<<S.lenbits)-1],we=He>>>24,Ae=He>>>16&255,Ci=He&65535,!(we<=dt);){if(pt===0)break t;pt--,et+=q[C++]<<dt,dt+=8}if(Ae&&(Ae&240)===0){for(ti=we,Vn=Ae,is=Ci;He=S.lencode[is+((et&(1<<ti+Vn)-1)>>ti)],we=He>>>24,Ae=He>>>16&255,Ci=He&65535,!(ti+we<=dt);){if(pt===0)break t;pt--,et+=q[C++]<<dt,dt+=8}et>>>=ti,dt-=ti,S.back+=ti}if(et>>>=we,dt-=we,S.back+=we,S.length=Ci,Ae===0){S.mode=de;break}if(Ae&32){S.back=-1,S.mode=_t;break}if(Ae&64){nt.msg="invalid literal/length code",S.mode=ue;break}S.extra=Ae&15,S.mode=ve;case ve:if(S.extra){for(en=S.extra;dt<en;){if(pt===0)break t;pt--,et+=q[C++]<<dt,dt+=8}S.length+=et&(1<<S.extra)-1,et>>>=S.extra,dt-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=Te;case Te:for(;He=S.distcode[et&(1<<S.distbits)-1],we=He>>>24,Ae=He>>>16&255,Ci=He&65535,!(we<=dt);){if(pt===0)break t;pt--,et+=q[C++]<<dt,dt+=8}if((Ae&240)===0){for(ti=we,Vn=Ae,is=Ci;He=S.distcode[is+((et&(1<<ti+Vn)-1)>>ti)],we=He>>>24,Ae=He>>>16&255,Ci=He&65535,!(ti+we<=dt);){if(pt===0)break t;pt--,et+=q[C++]<<dt,dt+=8}et>>>=ti,dt-=ti,S.back+=ti}if(et>>>=we,dt-=we,S.back+=we,Ae&64){nt.msg="invalid distance code",S.mode=ue;break}S.offset=Ci,S.extra=Ae&15,S.mode=oe;case oe:if(S.extra){for(en=S.extra;dt<en;){if(pt===0)break t;pt--,et+=q[C++]<<dt,dt+=8}S.offset+=et&(1<<S.extra)-1,et>>>=S.extra,dt-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){nt.msg="invalid distance too far back",S.mode=ue;break}S.mode=fe;case fe:if(H===0)break t;if(jt=It-H,S.offset>jt){if(jt=S.offset-jt,jt>S.whave&&S.sane){nt.msg="invalid distance too far back",S.mode=ue;break}jt>S.wnext?(jt-=S.wnext,ge=S.wsize-jt):ge=S.wnext-jt,jt>S.length&&(jt=S.length),Di=S.window}else Di=st,ge=at-S.offset,jt=S.length;jt>H&&(jt=H),H-=jt,S.length-=jt;do st[at++]=Di[ge++];while(--jt);S.length===0&&(S.mode=zt);break;case de:if(H===0)break t;st[at++]=S.length,H--,S.mode=zt;break;case ye:if(S.wrap){for(;dt<32;){if(pt===0)break t;pt--,et|=q[C++]<<dt,dt+=8}if(It-=H,nt.total_out+=It,S.total+=It,It&&(nt.adler=S.check=S.flags?l(S.check,st,It,at-It):o(S.check,st,It,at-It)),It=H,(S.flags?et:Be(et))!==S.check){nt.msg="incorrect data check",S.mode=ue;break}et=0,dt=0}S.mode=Ue;case Ue:if(S.wrap&&S.flags){for(;dt<32;){if(pt===0)break t;pt--,et+=q[C++]<<dt,dt+=8}if(et!==(S.total&4294967295)){nt.msg="incorrect length check",S.mode=ue;break}et=0,dt=0}S.mode=ke;case ke:qe=E;break t;case ue:qe=N;break t;case Zt:return x;case Xt:default:return R}return nt.next_out=at,nt.avail_out=H,nt.next_in=C,nt.avail_in=pt,S.hold=et,S.bits=dt,(S.wsize||It!==nt.avail_out&&S.mode<ue&&(S.mode<ye||M!==b))&&hn(nt,nt.output,nt.next_out,It-nt.avail_out),Ft-=nt.avail_in,It-=nt.avail_out,nt.total_in+=Ft,nt.total_out+=It,S.total+=It,S.wrap&&It&&(nt.adler=S.check=S.flags?l(S.check,st,It,nt.next_out-It):o(S.check,st,It,nt.next_out-It)),nt.data_type=S.bits+(S.last?64:0)+(S.mode===_t?128:0)+(S.mode===Yt||S.mode===gt?256:0),(Ft===0&&It===0||M===b)&&qe===w&&(qe=L),qe}function Ct(nt){if(!nt||!nt.state)return R;var M=nt.state;return M.window&&(M.window=null),nt.state=null,w}function Lt(nt,M){var S;return!nt||!nt.state||(S=nt.state,(S.wrap&2)===0)?R:(S.head=M,M.done=!1,w)}function $t(nt,M){var S=M.length,q,st,C;return!nt||!nt.state||(q=nt.state,q.wrap!==0&&q.mode!==ct)?R:q.mode===ct&&(st=1,st=o(st,M,S,0),st!==q.check)?N:(C=hn(nt,M,S,S),C?(q.mode=Zt,x):(q.havedict=1,w))}r.inflateReset=De,r.inflateReset2=ri,r.inflateResetKeep=ni,r.inflateInit=tn,r.inflateInit2=Xe,r.inflate=V,r.inflateEnd=Ct,r.inflateGetHeader=Lt,r.inflateSetDictionary=$t,r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,i,r){var a=e("../utils/common"),o=15,l=852,h=592,f=0,g=1,m=2,y=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],b=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],T=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],A=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(E,D,R,N,x,L,I,U){var F=U.bits,k=0,$=0,Y=0,J=0,ft=0,bt=0,X=0,Z=0,ct=0,_t=0,K,it,gt,At,Dt,qt=null,Ht=0,Yt,zt=new a.Buf16(o+1),ve=new a.Buf16(o+1),Te=null,oe=0,fe,de,ye;for(k=0;k<=o;k++)zt[k]=0;for($=0;$<N;$++)zt[D[R+$]]++;for(ft=F,J=o;J>=1&&zt[J]===0;J--);if(ft>J&&(ft=J),J===0)return x[L++]=1<<24|64<<16|0,x[L++]=1<<24|64<<16|0,U.bits=1,0;for(Y=1;Y<J&&zt[Y]===0;Y++);for(ft<Y&&(ft=Y),Z=1,k=1;k<=o;k++)if(Z<<=1,Z-=zt[k],Z<0)return-1;if(Z>0&&(E===f||J!==1))return-1;for(ve[1]=0,k=1;k<o;k++)ve[k+1]=ve[k]+zt[k];for($=0;$<N;$++)D[R+$]!==0&&(I[ve[D[R+$]]++]=$);if(E===f?(qt=Te=I,Yt=19):E===g?(qt=y,Ht-=257,Te=b,oe-=257,Yt=256):(qt=T,Te=A,Yt=-1),_t=0,$=0,k=Y,Dt=L,bt=ft,X=0,gt=-1,ct=1<<ft,At=ct-1,E===g&&ct>l||E===m&&ct>h)return 1;for(;;){fe=k-X,I[$]<Yt?(de=0,ye=I[$]):I[$]>Yt?(de=Te[oe+I[$]],ye=qt[Ht+I[$]]):(de=96,ye=0),K=1<<k-X,it=1<<bt,Y=it;do it-=K,x[Dt+(_t>>X)+it]=fe<<24|de<<16|ye|0;while(it!==0);for(K=1<<k-1;_t&K;)K>>=1;if(K!==0?(_t&=K-1,_t+=K):_t=0,$++,--zt[k]===0){if(k===J)break;k=D[R+I[$]]}if(k>ft&&(_t&At)!==gt){for(X===0&&(X=ft),Dt+=Y,bt=k-X,Z=1<<bt;bt+X<J&&(Z-=zt[bt+X],!(Z<=0));)bt++,Z<<=1;if(ct+=1<<bt,E===g&&ct>l||E===m&&ct>h)return 1;gt=_t&At,x[gt]=ft<<24|bt<<16|Dt-L|0}}return _t!==0&&(x[Dt+_t]=k-X<<24|64<<16|0),U.bits=ft,0}},{"../utils/common":41}],51:[function(e,i,r){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,i,r){var a=e("../utils/common"),o=4,l=0,h=1,f=2;function g(V){for(var Ct=V.length;--Ct>=0;)V[Ct]=0}var m=0,y=1,b=2,T=3,A=258,w=29,E=256,D=E+1+w,R=30,N=19,x=2*D+1,L=15,I=16,U=7,F=256,k=16,$=17,Y=18,J=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ft=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],bt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Z=512,ct=new Array((D+2)*2);g(ct);var _t=new Array(R*2);g(_t);var K=new Array(Z);g(K);var it=new Array(A-T+1);g(it);var gt=new Array(w);g(gt);var At=new Array(R);g(At);function Dt(V,Ct,Lt,$t,nt){this.static_tree=V,this.extra_bits=Ct,this.extra_base=Lt,this.elems=$t,this.max_length=nt,this.has_stree=V&&V.length}var qt,Ht,Yt;function zt(V,Ct){this.dyn_tree=V,this.max_code=0,this.stat_desc=Ct}function ve(V){return V<256?K[V]:K[256+(V>>>7)]}function Te(V,Ct){V.pending_buf[V.pending++]=Ct&255,V.pending_buf[V.pending++]=Ct>>>8&255}function oe(V,Ct,Lt){V.bi_valid>I-Lt?(V.bi_buf|=Ct<<V.bi_valid&65535,Te(V,V.bi_buf),V.bi_buf=Ct>>I-V.bi_valid,V.bi_valid+=Lt-I):(V.bi_buf|=Ct<<V.bi_valid&65535,V.bi_valid+=Lt)}function fe(V,Ct,Lt){oe(V,Lt[Ct*2],Lt[Ct*2+1])}function de(V,Ct){var Lt=0;do Lt|=V&1,V>>>=1,Lt<<=1;while(--Ct>0);return Lt>>>1}function ye(V){V.bi_valid===16?(Te(V,V.bi_buf),V.bi_buf=0,V.bi_valid=0):V.bi_valid>=8&&(V.pending_buf[V.pending++]=V.bi_buf&255,V.bi_buf>>=8,V.bi_valid-=8)}function Ue(V,Ct){var Lt=Ct.dyn_tree,$t=Ct.max_code,nt=Ct.stat_desc.static_tree,M=Ct.stat_desc.has_stree,S=Ct.stat_desc.extra_bits,q=Ct.stat_desc.extra_base,st=Ct.stat_desc.max_length,C,at,pt,H,et,dt,Ft=0;for(H=0;H<=L;H++)V.bl_count[H]=0;for(Lt[V.heap[V.heap_max]*2+1]=0,C=V.heap_max+1;C<x;C++)at=V.heap[C],H=Lt[Lt[at*2+1]*2+1]+1,H>st&&(H=st,Ft++),Lt[at*2+1]=H,!(at>$t)&&(V.bl_count[H]++,et=0,at>=q&&(et=S[at-q]),dt=Lt[at*2],V.opt_len+=dt*(H+et),M&&(V.static_len+=dt*(nt[at*2+1]+et)));if(Ft!==0){do{for(H=st-1;V.bl_count[H]===0;)H--;V.bl_count[H]--,V.bl_count[H+1]+=2,V.bl_count[st]--,Ft-=2}while(Ft>0);for(H=st;H!==0;H--)for(at=V.bl_count[H];at!==0;)pt=V.heap[--C],!(pt>$t)&&(Lt[pt*2+1]!==H&&(V.opt_len+=(H-Lt[pt*2+1])*Lt[pt*2],Lt[pt*2+1]=H),at--)}}function ke(V,Ct,Lt){var $t=new Array(L+1),nt=0,M,S;for(M=1;M<=L;M++)$t[M]=nt=nt+Lt[M-1]<<1;for(S=0;S<=Ct;S++){var q=V[S*2+1];q!==0&&(V[S*2]=de($t[q]++,q))}}function ue(){var V,Ct,Lt,$t,nt,M=new Array(L+1);for(Lt=0,$t=0;$t<w-1;$t++)for(gt[$t]=Lt,V=0;V<1<<J[$t];V++)it[Lt++]=$t;for(it[Lt-1]=$t,nt=0,$t=0;$t<16;$t++)for(At[$t]=nt,V=0;V<1<<ft[$t];V++)K[nt++]=$t;for(nt>>=7;$t<R;$t++)for(At[$t]=nt<<7,V=0;V<1<<ft[$t]-7;V++)K[256+nt++]=$t;for(Ct=0;Ct<=L;Ct++)M[Ct]=0;for(V=0;V<=143;)ct[V*2+1]=8,V++,M[8]++;for(;V<=255;)ct[V*2+1]=9,V++,M[9]++;for(;V<=279;)ct[V*2+1]=7,V++,M[7]++;for(;V<=287;)ct[V*2+1]=8,V++,M[8]++;for(ke(ct,D+1,M),V=0;V<R;V++)_t[V*2+1]=5,_t[V*2]=de(V,5);qt=new Dt(ct,J,E+1,D,L),Ht=new Dt(_t,ft,0,R,L),Yt=new Dt(new Array(0),bt,0,N,U)}function Zt(V){var Ct;for(Ct=0;Ct<D;Ct++)V.dyn_ltree[Ct*2]=0;for(Ct=0;Ct<R;Ct++)V.dyn_dtree[Ct*2]=0;for(Ct=0;Ct<N;Ct++)V.bl_tree[Ct*2]=0;V.dyn_ltree[F*2]=1,V.opt_len=V.static_len=0,V.last_lit=V.matches=0}function Xt(V){V.bi_valid>8?Te(V,V.bi_buf):V.bi_valid>0&&(V.pending_buf[V.pending++]=V.bi_buf),V.bi_buf=0,V.bi_valid=0}function re(V,Ct,Lt,$t){Xt(V),Te(V,Lt),Te(V,~Lt),a.arraySet(V.pending_buf,V.window,Ct,Lt,V.pending),V.pending+=Lt}function Jt(V,Ct,Lt,$t){var nt=Ct*2,M=Lt*2;return V[nt]<V[M]||V[nt]===V[M]&&$t[Ct]<=$t[Lt]}function kt(V,Ct,Lt){for(var $t=V.heap[Lt],nt=Lt<<1;nt<=V.heap_len&&(nt<V.heap_len&&Jt(Ct,V.heap[nt+1],V.heap[nt],V.depth)&&nt++,!Jt(Ct,$t,V.heap[nt],V.depth));)V.heap[Lt]=V.heap[nt],Lt=nt,nt<<=1;V.heap[Lt]=$t}function ne(V,Ct,Lt){var $t,nt,M=0,S,q;if(V.last_lit!==0)do $t=V.pending_buf[V.d_buf+M*2]<<8|V.pending_buf[V.d_buf+M*2+1],nt=V.pending_buf[V.l_buf+M],M++,$t===0?fe(V,nt,Ct):(S=it[nt],fe(V,S+E+1,Ct),q=J[S],q!==0&&(nt-=gt[S],oe(V,nt,q)),$t--,S=ve($t),fe(V,S,Lt),q=ft[S],q!==0&&($t-=At[S],oe(V,$t,q)));while(M<V.last_lit);fe(V,F,Ct)}function Be(V,Ct){var Lt=Ct.dyn_tree,$t=Ct.stat_desc.static_tree,nt=Ct.stat_desc.has_stree,M=Ct.stat_desc.elems,S,q,st=-1,C;for(V.heap_len=0,V.heap_max=x,S=0;S<M;S++)Lt[S*2]!==0?(V.heap[++V.heap_len]=st=S,V.depth[S]=0):Lt[S*2+1]=0;for(;V.heap_len<2;)C=V.heap[++V.heap_len]=st<2?++st:0,Lt[C*2]=1,V.depth[C]=0,V.opt_len--,nt&&(V.static_len-=$t[C*2+1]);for(Ct.max_code=st,S=V.heap_len>>1;S>=1;S--)kt(V,Lt,S);C=M;do S=V.heap[1],V.heap[1]=V.heap[V.heap_len--],kt(V,Lt,1),q=V.heap[1],V.heap[--V.heap_max]=S,V.heap[--V.heap_max]=q,Lt[C*2]=Lt[S*2]+Lt[q*2],V.depth[C]=(V.depth[S]>=V.depth[q]?V.depth[S]:V.depth[q])+1,Lt[S*2+1]=Lt[q*2+1]=C,V.heap[1]=C++,kt(V,Lt,1);while(V.heap_len>=2);V.heap[--V.heap_max]=V.heap[1],Ue(V,Ct),ke(Lt,st,V.bl_count)}function Ii(V,Ct,Lt){var $t,nt=-1,M,S=Ct[0*2+1],q=0,st=7,C=4;for(S===0&&(st=138,C=3),Ct[(Lt+1)*2+1]=65535,$t=0;$t<=Lt;$t++)M=S,S=Ct[($t+1)*2+1],!(++q<st&&M===S)&&(q<C?V.bl_tree[M*2]+=q:M!==0?(M!==nt&&V.bl_tree[M*2]++,V.bl_tree[k*2]++):q<=10?V.bl_tree[$*2]++:V.bl_tree[Y*2]++,q=0,nt=M,S===0?(st=138,C=3):M===S?(st=6,C=3):(st=7,C=4))}function ni(V,Ct,Lt){var $t,nt=-1,M,S=Ct[0*2+1],q=0,st=7,C=4;for(S===0&&(st=138,C=3),$t=0;$t<=Lt;$t++)if(M=S,S=Ct[($t+1)*2+1],!(++q<st&&M===S)){if(q<C)do fe(V,M,V.bl_tree);while(--q!==0);else M!==0?(M!==nt&&(fe(V,M,V.bl_tree),q--),fe(V,k,V.bl_tree),oe(V,q-3,2)):q<=10?(fe(V,$,V.bl_tree),oe(V,q-3,3)):(fe(V,Y,V.bl_tree),oe(V,q-11,7));q=0,nt=M,S===0?(st=138,C=3):M===S?(st=6,C=3):(st=7,C=4)}}function De(V){var Ct;for(Ii(V,V.dyn_ltree,V.l_desc.max_code),Ii(V,V.dyn_dtree,V.d_desc.max_code),Be(V,V.bl_desc),Ct=N-1;Ct>=3&&V.bl_tree[X[Ct]*2+1]===0;Ct--);return V.opt_len+=3*(Ct+1)+5+5+4,Ct}function ri(V,Ct,Lt,$t){var nt;for(oe(V,Ct-257,5),oe(V,Lt-1,5),oe(V,$t-4,4),nt=0;nt<$t;nt++)oe(V,V.bl_tree[X[nt]*2+1],3);ni(V,V.dyn_ltree,Ct-1),ni(V,V.dyn_dtree,Lt-1)}function Xe(V){var Ct=4093624447,Lt;for(Lt=0;Lt<=31;Lt++,Ct>>>=1)if(Ct&1&&V.dyn_ltree[Lt*2]!==0)return l;if(V.dyn_ltree[9*2]!==0||V.dyn_ltree[10*2]!==0||V.dyn_ltree[13*2]!==0)return h;for(Lt=32;Lt<E;Lt++)if(V.dyn_ltree[Lt*2]!==0)return h;return l}var tn=!1;function Gn(V){tn||(ue(),tn=!0),V.l_desc=new zt(V.dyn_ltree,qt),V.d_desc=new zt(V.dyn_dtree,Ht),V.bl_desc=new zt(V.bl_tree,Yt),V.bi_buf=0,V.bi_valid=0,Zt(V)}function Dn(V,Ct,Lt,$t){oe(V,(m<<1)+($t?1:0),3),re(V,Ct,Lt)}function vi(V){oe(V,y<<1,3),fe(V,F,ct),ye(V)}function Ui(V,Ct,Lt,$t){var nt,M,S=0;V.level>0?(V.strm.data_type===f&&(V.strm.data_type=Xe(V)),Be(V,V.l_desc),Be(V,V.d_desc),S=De(V),nt=V.opt_len+3+7>>>3,M=V.static_len+3+7>>>3,M<=nt&&(nt=M)):nt=M=Lt+5,Lt+4<=nt&&Ct!==-1?Dn(V,Ct,Lt,$t):V.strategy===o||M===nt?(oe(V,(y<<1)+($t?1:0),3),ne(V,ct,_t)):(oe(V,(b<<1)+($t?1:0),3),ri(V,V.l_desc.max_code+1,V.d_desc.max_code+1,S+1),ne(V,V.dyn_ltree,V.dyn_dtree)),Zt(V),$t&&Xt(V)}function hn(V,Ct,Lt){return V.pending_buf[V.d_buf+V.last_lit*2]=Ct>>>8&255,V.pending_buf[V.d_buf+V.last_lit*2+1]=Ct&255,V.pending_buf[V.l_buf+V.last_lit]=Lt&255,V.last_lit++,Ct===0?V.dyn_ltree[Lt*2]++:(V.matches++,Ct--,V.dyn_ltree[(it[Lt]+E+1)*2]++,V.dyn_dtree[ve(Ct)*2]++),V.last_lit===V.lit_bufsize-1}r._tr_init=Gn,r._tr_stored_block=Dn,r._tr_flush_block=Ui,r._tr_tally=hn,r._tr_align=vi},{"../utils/common":41}],53:[function(e,i,r){function a(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}i.exports=a},{}],54:[function(e,i,r){(function(a){(function(o,l){if(o.setImmediate)return;var h=1,f={},g=!1,m=o.document,y;function b(U){typeof U!="function"&&(U=new Function(""+U));for(var F=new Array(arguments.length-1),k=0;k<F.length;k++)F[k]=arguments[k+1];var $={callback:U,args:F};return f[h]=$,y(h),h++}function T(U){delete f[U]}function A(U){var F=U.callback,k=U.args;switch(k.length){case 0:F();break;case 1:F(k[0]);break;case 2:F(k[0],k[1]);break;case 3:F(k[0],k[1],k[2]);break;default:F.apply(l,k);break}}function w(U){if(g)setTimeout(w,0,U);else{var F=f[U];if(F){g=!0;try{A(F)}finally{T(U),g=!1}}}}function E(){y=function(U){process.nextTick(function(){w(U)})}}function D(){if(o.postMessage&&!o.importScripts){var U=!0,F=o.onmessage;return o.onmessage=function(){U=!1},o.postMessage("","*"),o.onmessage=F,U}}function R(){var U="setImmediate$"+Math.random()+"$",F=function(k){k.source===o&&typeof k.data=="string"&&k.data.indexOf(U)===0&&w(+k.data.slice(U.length))};o.addEventListener?o.addEventListener("message",F,!1):o.attachEvent("onmessage",F),y=function(k){o.postMessage(U+k,"*")}}function N(){var U=new MessageChannel;U.port1.onmessage=function(F){var k=F.data;w(k)},y=function(F){U.port2.postMessage(F)}}function x(){var U=m.documentElement;y=function(F){var k=m.createElement("script");k.onreadystatechange=function(){w(F),k.onreadystatechange=null,U.removeChild(k),k=null},U.appendChild(k)}}function L(){y=function(U){setTimeout(w,0,U)}}var I=Object.getPrototypeOf&&Object.getPrototypeOf(o);I=I&&I.setTimeout?I:o,{}.toString.call(o.process)==="[object process]"?E():D()?R():o.MessageChannel?N():m&&"onreadystatechange"in m.createElement("script")?x():L(),I.setImmediate=b,I.clearImmediate=T})(typeof self>"u"?typeof a>"u"?this:a:self)}).call(this,typeof xs<"u"?xs:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(Z1)),Z1.exports}var N5=k5();const O5=qc(N5);class M5{constructor(){this.zip=void 0,this.urlCache={},this.checkRequirements()}checkRequirements(){try{this.zip=new O5}catch{throw new Error("JSZip lib not loaded")}}open(t,e){return this.zip.loadAsync(t,{base64:e})}openUrl(t,e){return Yp(t,"binary").then((function(i){return this.zip.loadAsync(i,{base64:e})}).bind(this))}request(t,e){var i=new ze,r,a=new zo(t);return e||(e=a.extension),e=="blob"?r=this.getBlob(t):r=this.getText(t),r?r.then((function(o){let l=this.handleResponse(o,e);i.resolve(l)}).bind(this)):i.reject({message:"File not found in the epub: "+t,stack:new Error().stack}),i.promise}handleResponse(t,e){var i;return e=="json"?i=JSON.parse(t):Wp(e)?i=ka(t,"text/xml"):e=="xhtml"?i=ka(t,"application/xhtml+xml"):e=="html"||e=="htm"?i=ka(t,"text/html"):i=t,i}getBlob(t,e){var i=window.decodeURIComponent(t.substr(1)),r=this.zip.file(i);if(r)return e=e||Qh.lookup(r.name),r.async("uint8array").then(function(a){return new Blob([a],{type:e})})}getText(t,e){var i=window.decodeURIComponent(t.substr(1)),r=this.zip.file(i);if(r)return r.async("string").then(function(a){return a})}getBase64(t,e){var i=window.decodeURIComponent(t.substr(1)),r=this.zip.file(i);if(r)return e=e||Qh.lookup(r.name),r.async("base64").then(function(a){return"data:"+e+";base64,"+a})}createUrl(t,e){var i=new ze,r=window.URL||window.webkitURL||window.mozURL,a,o,l=e&&e.base64;return t in this.urlCache?(i.resolve(this.urlCache[t]),i.promise):(l?(o=this.getBase64(t),o&&o.then((function(h){this.urlCache[t]=h,i.resolve(h)}).bind(this))):(o=this.getBlob(t),o&&o.then((function(h){a=r.createObjectURL(h),this.urlCache[t]=a,i.resolve(a)}).bind(this))),o||i.reject({message:"File not found in the epub: "+t,stack:new Error().stack}),i.promise)}revokeUrl(t){var e=window.URL||window.webkitURL||window.mozURL,i=this.urlCache[t];i&&e.revokeObjectURL(i)}destroy(){var t=window.URL||window.webkitURL||window.mozURL;for(let e in this.urlCache)t.revokeObjectURL(e);this.zip=void 0,this.urlCache={}}}var Q1={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var YT;function L5(){return YT||(YT=1,function(u,t){(function(e){u.exports=e()})(function(){return function e(i,r,a){function o(f,g){if(!r[f]){if(!i[f]){var m=typeof Jl=="function"&&Jl;if(!g&&m)return m(f,!0);if(l)return l(f,!0);var y=new Error("Cannot find module '"+f+"'");throw y.code="MODULE_NOT_FOUND",y}var b=r[f]={exports:{}};i[f][0].call(b.exports,function(T){var A=i[f][1][T];return o(A||T)},b,b.exports,e,i,r,a)}return r[f].exports}for(var l=typeof Jl=="function"&&Jl,h=0;h<a.length;h++)o(a[h]);return o}({1:[function(e,i,r){(function(a){var o=a.MutationObserver||a.WebKitMutationObserver,l;if(o){var h=0,f=new o(T),g=a.document.createTextNode("");f.observe(g,{characterData:!0}),l=function(){g.data=h=++h%2}}else if(!a.setImmediate&&typeof a.MessageChannel<"u"){var m=new a.MessageChannel;m.port1.onmessage=T,l=function(){m.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?l=function(){var w=a.document.createElement("script");w.onreadystatechange=function(){T(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},a.document.documentElement.appendChild(w)}:l=function(){setTimeout(T,0)};var y,b=[];function T(){y=!0;for(var w,E,D=b.length;D;){for(E=b,b=[],w=-1;++w<D;)E[w]();D=b.length}y=!1}i.exports=A;function A(w){b.push(w)===1&&!y&&l()}}).call(this,typeof xs<"u"?xs:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(e,i,r){var a=e(1);function o(){}var l={},h=["REJECTED"],f=["FULFILLED"],g=["PENDING"];i.exports=m;function m(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,x!==o&&A(this,x)}m.prototype.catch=function(x){return this.then(null,x)},m.prototype.then=function(x,L){if(typeof x!="function"&&this.state===f||typeof L!="function"&&this.state===h)return this;var I=new this.constructor(o);if(this.state!==g){var U=this.state===f?x:L;b(I,U,this.outcome)}else this.queue.push(new y(I,x,L));return I};function y(x,L,I){this.promise=x,typeof L=="function"&&(this.onFulfilled=L,this.callFulfilled=this.otherCallFulfilled),typeof I=="function"&&(this.onRejected=I,this.callRejected=this.otherCallRejected)}y.prototype.callFulfilled=function(x){l.resolve(this.promise,x)},y.prototype.otherCallFulfilled=function(x){b(this.promise,this.onFulfilled,x)},y.prototype.callRejected=function(x){l.reject(this.promise,x)},y.prototype.otherCallRejected=function(x){b(this.promise,this.onRejected,x)};function b(x,L,I){a(function(){var U;try{U=L(I)}catch(F){return l.reject(x,F)}U===x?l.reject(x,new TypeError("Cannot resolve promise with itself")):l.resolve(x,U)})}l.resolve=function(x,L){var I=w(T,L);if(I.status==="error")return l.reject(x,I.value);var U=I.value;if(U)A(x,U);else{x.state=f,x.outcome=L;for(var F=-1,k=x.queue.length;++F<k;)x.queue[F].callFulfilled(L)}return x},l.reject=function(x,L){x.state=h,x.outcome=L;for(var I=-1,U=x.queue.length;++I<U;)x.queue[I].callRejected(L);return x};function T(x){var L=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof L=="function")return function(){L.apply(x,arguments)}}function A(x,L){var I=!1;function U(Y){I||(I=!0,l.reject(x,Y))}function F(Y){I||(I=!0,l.resolve(x,Y))}function k(){L(F,U)}var $=w(k);$.status==="error"&&U($.value)}function w(x,L){var I={};try{I.value=x(L),I.status="success"}catch(U){I.status="error",I.value=U}return I}m.resolve=E;function E(x){return x instanceof this?x:l.resolve(new this(o),x)}m.reject=D;function D(x){var L=new this(o);return l.reject(L,x)}m.all=R;function R(x){var L=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=x.length,U=!1;if(!I)return this.resolve([]);for(var F=new Array(I),k=0,$=-1,Y=new this(o);++$<I;)J(x[$],$);return Y;function J(ft,bt){L.resolve(ft).then(X,function(Z){U||(U=!0,l.reject(Y,Z))});function X(Z){F[bt]=Z,++k===I&&!U&&(U=!0,l.resolve(Y,F))}}}m.race=N;function N(x){var L=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=x.length,U=!1;if(!I)return this.resolve([]);for(var F=-1,k=new this(o);++F<I;)$(x[F]);return k;function $(Y){L.resolve(Y).then(function(J){U||(U=!0,l.resolve(k,J))},function(J){U||(U=!0,l.reject(k,J))})}}},{1:1}],3:[function(e,i,r){(function(a){typeof a.Promise!="function"&&(a.Promise=e(2))}).call(this,typeof xs<"u"?xs:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(e,i,r){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G};function o(G,tt){if(!(G instanceof tt))throw new TypeError("Cannot call a class as a function")}function l(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var h=l();function f(){try{if(!h||!h.open)return!1;var G=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),tt=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!G||tt)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function g(G,tt){G=G||[],tt=tt||{};try{return new Blob(G,tt)}catch(ot){if(ot.name!=="TypeError")throw ot;for(var W=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,lt=new W,ht=0;ht<G.length;ht+=1)lt.append(G[ht]);return lt.getBlob(tt.type)}}typeof Promise>"u"&&e(3);var m=Promise;function y(G,tt){tt&&G.then(function(W){tt(null,W)},function(W){tt(W)})}function b(G,tt,W){typeof tt=="function"&&G.then(tt),typeof W=="function"&&G.catch(W)}function T(G){return typeof G!="string"&&(console.warn(G+" used as a key, but it is not a string."),G=String(G)),G}function A(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var w="local-forage-detect-blob-support",E=void 0,D={},R=Object.prototype.toString,N="readonly",x="readwrite";function L(G){for(var tt=G.length,W=new ArrayBuffer(tt),lt=new Uint8Array(W),ht=0;ht<tt;ht++)lt[ht]=G.charCodeAt(ht);return W}function I(G){return new m(function(tt){var W=G.transaction(w,x),lt=g([""]);W.objectStore(w).put(lt,"key"),W.onabort=function(ht){ht.preventDefault(),ht.stopPropagation(),tt(!1)},W.oncomplete=function(){var ht=navigator.userAgent.match(/Chrome\/(\d+)/),ot=navigator.userAgent.match(/Edge\//);tt(ot||!ht||parseInt(ht[1],10)>=43)}}).catch(function(){return!1})}function U(G){return typeof E=="boolean"?m.resolve(E):I(G).then(function(tt){return E=tt,E})}function F(G){var tt=D[G.name],W={};W.promise=new m(function(lt,ht){W.resolve=lt,W.reject=ht}),tt.deferredOperations.push(W),tt.dbReady?tt.dbReady=tt.dbReady.then(function(){return W.promise}):tt.dbReady=W.promise}function k(G){var tt=D[G.name],W=tt.deferredOperations.pop();if(W)return W.resolve(),W.promise}function $(G,tt){var W=D[G.name],lt=W.deferredOperations.pop();if(lt)return lt.reject(tt),lt.promise}function Y(G,tt){return new m(function(W,lt){if(D[G.name]=D[G.name]||gt(),G.db)if(tt)F(G),G.db.close();else return W(G.db);var ht=[G.name];tt&&ht.push(G.version);var ot=h.open.apply(h,ht);tt&&(ot.onupgradeneeded=function(xt){var Mt=ot.result;try{Mt.createObjectStore(G.storeName),xt.oldVersion<=1&&Mt.createObjectStore(w)}catch(Nt){if(Nt.name==="ConstraintError")console.warn('The database "'+G.name+'" has been upgraded from version '+xt.oldVersion+" to version "+xt.newVersion+', but the storage "'+G.storeName+'" already exists.');else throw Nt}}),ot.onerror=function(xt){xt.preventDefault(),lt(ot.error)},ot.onsuccess=function(){var xt=ot.result;xt.onversionchange=function(Mt){Mt.target.close()},W(xt),k(G)}})}function J(G){return Y(G,!1)}function ft(G){return Y(G,!0)}function bt(G,tt){if(!G.db)return!0;var W=!G.db.objectStoreNames.contains(G.storeName),lt=G.version<G.db.version,ht=G.version>G.db.version;if(lt&&(G.version!==tt&&console.warn('The database "'+G.name+`" can't be downgraded from version `+G.db.version+" to version "+G.version+"."),G.version=G.db.version),ht||W){if(W){var ot=G.db.version+1;ot>G.version&&(G.version=ot)}return!0}return!1}function X(G){return new m(function(tt,W){var lt=new FileReader;lt.onerror=W,lt.onloadend=function(ht){var ot=btoa(ht.target.result||"");tt({__local_forage_encoded_blob:!0,data:ot,type:G.type})},lt.readAsBinaryString(G)})}function Z(G){var tt=L(atob(G.data));return g([tt],{type:G.type})}function ct(G){return G&&G.__local_forage_encoded_blob}function _t(G){var tt=this,W=tt._initReady().then(function(){var lt=D[tt._dbInfo.name];if(lt&&lt.dbReady)return lt.dbReady});return b(W,G,G),W}function K(G){F(G);for(var tt=D[G.name],W=tt.forages,lt=0;lt<W.length;lt++){var ht=W[lt];ht._dbInfo.db&&(ht._dbInfo.db.close(),ht._dbInfo.db=null)}return G.db=null,J(G).then(function(ot){return G.db=ot,bt(G)?ft(G):ot}).then(function(ot){G.db=tt.db=ot;for(var xt=0;xt<W.length;xt++)W[xt]._dbInfo.db=ot}).catch(function(ot){throw $(G,ot),ot})}function it(G,tt,W,lt){lt===void 0&&(lt=1);try{var ht=G.db.transaction(G.storeName,tt);W(null,ht)}catch(ot){if(lt>0&&(!G.db||ot.name==="InvalidStateError"||ot.name==="NotFoundError"))return m.resolve().then(function(){if(!G.db||ot.name==="NotFoundError"&&!G.db.objectStoreNames.contains(G.storeName)&&G.version<=G.db.version)return G.db&&(G.version=G.db.version+1),ft(G)}).then(function(){return K(G).then(function(){it(G,tt,W,lt-1)})}).catch(W);W(ot)}}function gt(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function At(G){var tt=this,W={db:null};if(G)for(var lt in G)W[lt]=G[lt];var ht=D[W.name];ht||(ht=gt(),D[W.name]=ht),ht.forages.push(tt),tt._initReady||(tt._initReady=tt.ready,tt.ready=_t);var ot=[];function xt(){return m.resolve()}for(var Mt=0;Mt<ht.forages.length;Mt++){var Nt=ht.forages[Mt];Nt!==tt&&ot.push(Nt._initReady().catch(xt))}var Pt=ht.forages.slice(0);return m.all(ot).then(function(){return W.db=ht.db,J(W)}).then(function(Ut){return W.db=Ut,bt(W,tt._defaultConfig.version)?ft(W):Ut}).then(function(Ut){W.db=ht.db=Ut,tt._dbInfo=W;for(var ee=0;ee<Pt.length;ee++){var be=Pt[ee];be!==tt&&(be._dbInfo.db=W.db,be._dbInfo.version=W.version)}})}function Dt(G,tt){var W=this;G=T(G);var lt=new m(function(ht,ot){W.ready().then(function(){it(W._dbInfo,N,function(xt,Mt){if(xt)return ot(xt);try{var Nt=Mt.objectStore(W._dbInfo.storeName),Pt=Nt.get(G);Pt.onsuccess=function(){var Ut=Pt.result;Ut===void 0&&(Ut=null),ct(Ut)&&(Ut=Z(Ut)),ht(Ut)},Pt.onerror=function(){ot(Pt.error)}}catch(Ut){ot(Ut)}})}).catch(ot)});return y(lt,tt),lt}function qt(G,tt){var W=this,lt=new m(function(ht,ot){W.ready().then(function(){it(W._dbInfo,N,function(xt,Mt){if(xt)return ot(xt);try{var Nt=Mt.objectStore(W._dbInfo.storeName),Pt=Nt.openCursor(),Ut=1;Pt.onsuccess=function(){var ee=Pt.result;if(ee){var be=ee.value;ct(be)&&(be=Z(be));var Ge=G(be,ee.key,Ut++);Ge!==void 0?ht(Ge):ee.continue()}else ht()},Pt.onerror=function(){ot(Pt.error)}}catch(ee){ot(ee)}})}).catch(ot)});return y(lt,tt),lt}function Ht(G,tt,W){var lt=this;G=T(G);var ht=new m(function(ot,xt){var Mt;lt.ready().then(function(){return Mt=lt._dbInfo,R.call(tt)==="[object Blob]"?U(Mt.db).then(function(Nt){return Nt?tt:X(tt)}):tt}).then(function(Nt){it(lt._dbInfo,x,function(Pt,Ut){if(Pt)return xt(Pt);try{var ee=Ut.objectStore(lt._dbInfo.storeName);Nt===null&&(Nt=void 0);var be=ee.put(Nt,G);Ut.oncomplete=function(){Nt===void 0&&(Nt=null),ot(Nt)},Ut.onabort=Ut.onerror=function(){var Ge=be.error?be.error:be.transaction.error;xt(Ge)}}catch(Ge){xt(Ge)}})}).catch(xt)});return y(ht,W),ht}function Yt(G,tt){var W=this;G=T(G);var lt=new m(function(ht,ot){W.ready().then(function(){it(W._dbInfo,x,function(xt,Mt){if(xt)return ot(xt);try{var Nt=Mt.objectStore(W._dbInfo.storeName),Pt=Nt.delete(G);Mt.oncomplete=function(){ht()},Mt.onerror=function(){ot(Pt.error)},Mt.onabort=function(){var Ut=Pt.error?Pt.error:Pt.transaction.error;ot(Ut)}}catch(Ut){ot(Ut)}})}).catch(ot)});return y(lt,tt),lt}function zt(G){var tt=this,W=new m(function(lt,ht){tt.ready().then(function(){it(tt._dbInfo,x,function(ot,xt){if(ot)return ht(ot);try{var Mt=xt.objectStore(tt._dbInfo.storeName),Nt=Mt.clear();xt.oncomplete=function(){lt()},xt.onabort=xt.onerror=function(){var Pt=Nt.error?Nt.error:Nt.transaction.error;ht(Pt)}}catch(Pt){ht(Pt)}})}).catch(ht)});return y(W,G),W}function ve(G){var tt=this,W=new m(function(lt,ht){tt.ready().then(function(){it(tt._dbInfo,N,function(ot,xt){if(ot)return ht(ot);try{var Mt=xt.objectStore(tt._dbInfo.storeName),Nt=Mt.count();Nt.onsuccess=function(){lt(Nt.result)},Nt.onerror=function(){ht(Nt.error)}}catch(Pt){ht(Pt)}})}).catch(ht)});return y(W,G),W}function Te(G,tt){var W=this,lt=new m(function(ht,ot){if(G<0){ht(null);return}W.ready().then(function(){it(W._dbInfo,N,function(xt,Mt){if(xt)return ot(xt);try{var Nt=Mt.objectStore(W._dbInfo.storeName),Pt=!1,Ut=Nt.openKeyCursor();Ut.onsuccess=function(){var ee=Ut.result;if(!ee){ht(null);return}G===0||Pt?ht(ee.key):(Pt=!0,ee.advance(G))},Ut.onerror=function(){ot(Ut.error)}}catch(ee){ot(ee)}})}).catch(ot)});return y(lt,tt),lt}function oe(G){var tt=this,W=new m(function(lt,ht){tt.ready().then(function(){it(tt._dbInfo,N,function(ot,xt){if(ot)return ht(ot);try{var Mt=xt.objectStore(tt._dbInfo.storeName),Nt=Mt.openKeyCursor(),Pt=[];Nt.onsuccess=function(){var Ut=Nt.result;if(!Ut){lt(Pt);return}Pt.push(Ut.key),Ut.continue()},Nt.onerror=function(){ht(Nt.error)}}catch(Ut){ht(Ut)}})}).catch(ht)});return y(W,G),W}function fe(G,tt){tt=A.apply(this,arguments);var W=this.config();G=typeof G!="function"&&G||{},G.name||(G.name=G.name||W.name,G.storeName=G.storeName||W.storeName);var lt=this,ht;if(!G.name)ht=m.reject("Invalid arguments");else{var ot=G.name===W.name&&lt._dbInfo.db,xt=ot?m.resolve(lt._dbInfo.db):J(G).then(function(Mt){var Nt=D[G.name],Pt=Nt.forages;Nt.db=Mt;for(var Ut=0;Ut<Pt.length;Ut++)Pt[Ut]._dbInfo.db=Mt;return Mt});G.storeName?ht=xt.then(function(Mt){if(Mt.objectStoreNames.contains(G.storeName)){var Nt=Mt.version+1;F(G);var Pt=D[G.name],Ut=Pt.forages;Mt.close();for(var ee=0;ee<Ut.length;ee++){var be=Ut[ee];be._dbInfo.db=null,be._dbInfo.version=Nt}var Ge=new m(function(We,yi){var Bi=h.open(G.name,Nt);Bi.onerror=function(er){var jo=Bi.result;jo.close(),yi(er)},Bi.onupgradeneeded=function(){var er=Bi.result;er.deleteObjectStore(G.storeName)},Bi.onsuccess=function(){var er=Bi.result;er.close(),We(er)}});return Ge.then(function(We){Pt.db=We;for(var yi=0;yi<Ut.length;yi++){var Bi=Ut[yi];Bi._dbInfo.db=We,k(Bi._dbInfo)}}).catch(function(We){throw($(G,We)||m.resolve()).catch(function(){}),We})}}):ht=xt.then(function(Mt){F(G);var Nt=D[G.name],Pt=Nt.forages;Mt.close();for(var Ut=0;Ut<Pt.length;Ut++){var ee=Pt[Ut];ee._dbInfo.db=null}var be=new m(function(Ge,We){var yi=h.deleteDatabase(G.name);yi.onerror=function(){var Bi=yi.result;Bi&&Bi.close(),We(yi.error)},yi.onblocked=function(){console.warn('dropInstance blocked for database "'+G.name+'" until all open connections are closed')},yi.onsuccess=function(){var Bi=yi.result;Bi&&Bi.close(),Ge(Bi)}});return be.then(function(Ge){Nt.db=Ge;for(var We=0;We<Pt.length;We++){var yi=Pt[We];k(yi._dbInfo)}}).catch(function(Ge){throw($(G,Ge)||m.resolve()).catch(function(){}),Ge})})}return y(ht,tt),ht}var de={_driver:"asyncStorage",_initStorage:At,_support:f(),iterate:qt,getItem:Dt,setItem:Ht,removeItem:Yt,clear:zt,length:ve,key:Te,keys:oe,dropInstance:fe};function ye(){return typeof openDatabase=="function"}var Ue="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ke="~~local_forage_type~",ue=/^~~local_forage_type~([^~]+)~/,Zt="__lfsc__:",Xt=Zt.length,re="arbf",Jt="blob",kt="si08",ne="ui08",Be="uic8",Ii="si16",ni="si32",De="ur16",ri="ui32",Xe="fl32",tn="fl64",Gn=Xt+re.length,Dn=Object.prototype.toString;function vi(G){var tt=G.length*.75,W=G.length,lt,ht=0,ot,xt,Mt,Nt;G[G.length-1]==="="&&(tt--,G[G.length-2]==="="&&tt--);var Pt=new ArrayBuffer(tt),Ut=new Uint8Array(Pt);for(lt=0;lt<W;lt+=4)ot=Ue.indexOf(G[lt]),xt=Ue.indexOf(G[lt+1]),Mt=Ue.indexOf(G[lt+2]),Nt=Ue.indexOf(G[lt+3]),Ut[ht++]=ot<<2|xt>>4,Ut[ht++]=(xt&15)<<4|Mt>>2,Ut[ht++]=(Mt&3)<<6|Nt&63;return Pt}function Ui(G){var tt=new Uint8Array(G),W="",lt;for(lt=0;lt<tt.length;lt+=3)W+=Ue[tt[lt]>>2],W+=Ue[(tt[lt]&3)<<4|tt[lt+1]>>4],W+=Ue[(tt[lt+1]&15)<<2|tt[lt+2]>>6],W+=Ue[tt[lt+2]&63];return tt.length%3===2?W=W.substring(0,W.length-1)+"=":tt.length%3===1&&(W=W.substring(0,W.length-2)+"=="),W}function hn(G,tt){var W="";if(G&&(W=Dn.call(G)),G&&(W==="[object ArrayBuffer]"||G.buffer&&Dn.call(G.buffer)==="[object ArrayBuffer]")){var lt,ht=Zt;G instanceof ArrayBuffer?(lt=G,ht+=re):(lt=G.buffer,W==="[object Int8Array]"?ht+=kt:W==="[object Uint8Array]"?ht+=ne:W==="[object Uint8ClampedArray]"?ht+=Be:W==="[object Int16Array]"?ht+=Ii:W==="[object Uint16Array]"?ht+=De:W==="[object Int32Array]"?ht+=ni:W==="[object Uint32Array]"?ht+=ri:W==="[object Float32Array]"?ht+=Xe:W==="[object Float64Array]"?ht+=tn:tt(new Error("Failed to get type for BinaryArray"))),tt(ht+Ui(lt))}else if(W==="[object Blob]"){var ot=new FileReader;ot.onload=function(){var xt=ke+G.type+"~"+Ui(this.result);tt(Zt+Jt+xt)},ot.readAsArrayBuffer(G)}else try{tt(JSON.stringify(G))}catch(xt){console.error("Couldn't convert value into a JSON string: ",G),tt(null,xt)}}function V(G){if(G.substring(0,Xt)!==Zt)return JSON.parse(G);var tt=G.substring(Gn),W=G.substring(Xt,Gn),lt;if(W===Jt&&ue.test(tt)){var ht=tt.match(ue);lt=ht[1],tt=tt.substring(ht[0].length)}var ot=vi(tt);switch(W){case re:return ot;case Jt:return g([ot],{type:lt});case kt:return new Int8Array(ot);case ne:return new Uint8Array(ot);case Be:return new Uint8ClampedArray(ot);case Ii:return new Int16Array(ot);case De:return new Uint16Array(ot);case ni:return new Int32Array(ot);case ri:return new Uint32Array(ot);case Xe:return new Float32Array(ot);case tn:return new Float64Array(ot);default:throw new Error("Unkown type: "+W)}}var Ct={serialize:hn,deserialize:V,stringToBuffer:vi,bufferToString:Ui};function Lt(G,tt,W,lt){G.executeSql("CREATE TABLE IF NOT EXISTS "+tt.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],W,lt)}function $t(G){var tt=this,W={db:null};if(G)for(var lt in G)W[lt]=typeof G[lt]!="string"?G[lt].toString():G[lt];var ht=new m(function(ot,xt){try{W.db=openDatabase(W.name,String(W.version),W.description,W.size)}catch(Mt){return xt(Mt)}W.db.transaction(function(Mt){Lt(Mt,W,function(){tt._dbInfo=W,ot()},function(Nt,Pt){xt(Pt)})},xt)});return W.serializer=Ct,ht}function nt(G,tt,W,lt,ht,ot){G.executeSql(W,lt,ht,function(xt,Mt){Mt.code===Mt.SYNTAX_ERR?xt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[tt.storeName],function(Nt,Pt){Pt.rows.length?ot(Nt,Mt):Lt(Nt,tt,function(){Nt.executeSql(W,lt,ht,ot)},ot)},ot):ot(xt,Mt)},ot)}function M(G,tt){var W=this;G=T(G);var lt=new m(function(ht,ot){W.ready().then(function(){var xt=W._dbInfo;xt.db.transaction(function(Mt){nt(Mt,xt,"SELECT * FROM "+xt.storeName+" WHERE key = ? LIMIT 1",[G],function(Nt,Pt){var Ut=Pt.rows.length?Pt.rows.item(0).value:null;Ut&&(Ut=xt.serializer.deserialize(Ut)),ht(Ut)},function(Nt,Pt){ot(Pt)})})}).catch(ot)});return y(lt,tt),lt}function S(G,tt){var W=this,lt=new m(function(ht,ot){W.ready().then(function(){var xt=W._dbInfo;xt.db.transaction(function(Mt){nt(Mt,xt,"SELECT * FROM "+xt.storeName,[],function(Nt,Pt){for(var Ut=Pt.rows,ee=Ut.length,be=0;be<ee;be++){var Ge=Ut.item(be),We=Ge.value;if(We&&(We=xt.serializer.deserialize(We)),We=G(We,Ge.key,be+1),We!==void 0){ht(We);return}}ht()},function(Nt,Pt){ot(Pt)})})}).catch(ot)});return y(lt,tt),lt}function q(G,tt,W,lt){var ht=this;G=T(G);var ot=new m(function(xt,Mt){ht.ready().then(function(){tt===void 0&&(tt=null);var Nt=tt,Pt=ht._dbInfo;Pt.serializer.serialize(tt,function(Ut,ee){ee?Mt(ee):Pt.db.transaction(function(be){nt(be,Pt,"INSERT OR REPLACE INTO "+Pt.storeName+" (key, value) VALUES (?, ?)",[G,Ut],function(){xt(Nt)},function(Ge,We){Mt(We)})},function(be){if(be.code===be.QUOTA_ERR){if(lt>0){xt(q.apply(ht,[G,Nt,W,lt-1]));return}Mt(be)}})})}).catch(Mt)});return y(ot,W),ot}function st(G,tt,W){return q.apply(this,[G,tt,W,1])}function C(G,tt){var W=this;G=T(G);var lt=new m(function(ht,ot){W.ready().then(function(){var xt=W._dbInfo;xt.db.transaction(function(Mt){nt(Mt,xt,"DELETE FROM "+xt.storeName+" WHERE key = ?",[G],function(){ht()},function(Nt,Pt){ot(Pt)})})}).catch(ot)});return y(lt,tt),lt}function at(G){var tt=this,W=new m(function(lt,ht){tt.ready().then(function(){var ot=tt._dbInfo;ot.db.transaction(function(xt){nt(xt,ot,"DELETE FROM "+ot.storeName,[],function(){lt()},function(Mt,Nt){ht(Nt)})})}).catch(ht)});return y(W,G),W}function pt(G){var tt=this,W=new m(function(lt,ht){tt.ready().then(function(){var ot=tt._dbInfo;ot.db.transaction(function(xt){nt(xt,ot,"SELECT COUNT(key) as c FROM "+ot.storeName,[],function(Mt,Nt){var Pt=Nt.rows.item(0).c;lt(Pt)},function(Mt,Nt){ht(Nt)})})}).catch(ht)});return y(W,G),W}function H(G,tt){var W=this,lt=new m(function(ht,ot){W.ready().then(function(){var xt=W._dbInfo;xt.db.transaction(function(Mt){nt(Mt,xt,"SELECT key FROM "+xt.storeName+" WHERE id = ? LIMIT 1",[G+1],function(Nt,Pt){var Ut=Pt.rows.length?Pt.rows.item(0).key:null;ht(Ut)},function(Nt,Pt){ot(Pt)})})}).catch(ot)});return y(lt,tt),lt}function et(G){var tt=this,W=new m(function(lt,ht){tt.ready().then(function(){var ot=tt._dbInfo;ot.db.transaction(function(xt){nt(xt,ot,"SELECT key FROM "+ot.storeName,[],function(Mt,Nt){for(var Pt=[],Ut=0;Ut<Nt.rows.length;Ut++)Pt.push(Nt.rows.item(Ut).key);lt(Pt)},function(Mt,Nt){ht(Nt)})})}).catch(ht)});return y(W,G),W}function dt(G){return new m(function(tt,W){G.transaction(function(lt){lt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(ht,ot){for(var xt=[],Mt=0;Mt<ot.rows.length;Mt++)xt.push(ot.rows.item(Mt).name);tt({db:G,storeNames:xt})},function(ht,ot){W(ot)})},function(lt){W(lt)})})}function Ft(G,tt){tt=A.apply(this,arguments);var W=this.config();G=typeof G!="function"&&G||{},G.name||(G.name=G.name||W.name,G.storeName=G.storeName||W.storeName);var lt=this,ht;return G.name?ht=new m(function(ot){var xt;G.name===W.name?xt=lt._dbInfo.db:xt=openDatabase(G.name,"","",0),G.storeName?ot({db:xt,storeNames:[G.storeName]}):ot(dt(xt))}).then(function(ot){return new m(function(xt,Mt){ot.db.transaction(function(Nt){function Pt(Ge){return new m(function(We,yi){Nt.executeSql("DROP TABLE IF EXISTS "+Ge,[],function(){We()},function(Bi,er){yi(er)})})}for(var Ut=[],ee=0,be=ot.storeNames.length;ee<be;ee++)Ut.push(Pt(ot.storeNames[ee]));m.all(Ut).then(function(){xt()}).catch(function(Ge){Mt(Ge)})},function(Nt){Mt(Nt)})})}):ht=m.reject("Invalid arguments"),y(ht,tt),ht}var It={_driver:"webSQLStorage",_initStorage:$t,_support:ye(),iterate:S,getItem:M,setItem:st,removeItem:C,clear:at,length:pt,key:H,keys:et,dropInstance:Ft};function jt(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function ge(G,tt){var W=G.name+"/";return G.storeName!==tt.storeName&&(W+=G.storeName+"/"),W}function Di(){var G="_localforage_support_test";try{return localStorage.setItem(G,!0),localStorage.removeItem(G),!1}catch{return!0}}function He(){return!Di()||localStorage.length>0}function we(G){var tt=this,W={};if(G)for(var lt in G)W[lt]=G[lt];return W.keyPrefix=ge(G,tt._defaultConfig),He()?(tt._dbInfo=W,W.serializer=Ct,m.resolve()):m.reject()}function Ae(G){var tt=this,W=tt.ready().then(function(){for(var lt=tt._dbInfo.keyPrefix,ht=localStorage.length-1;ht>=0;ht--){var ot=localStorage.key(ht);ot.indexOf(lt)===0&&localStorage.removeItem(ot)}});return y(W,G),W}function Ci(G,tt){var W=this;G=T(G);var lt=W.ready().then(function(){var ht=W._dbInfo,ot=localStorage.getItem(ht.keyPrefix+G);return ot&&(ot=ht.serializer.deserialize(ot)),ot});return y(lt,tt),lt}function ti(G,tt){var W=this,lt=W.ready().then(function(){for(var ht=W._dbInfo,ot=ht.keyPrefix,xt=ot.length,Mt=localStorage.length,Nt=1,Pt=0;Pt<Mt;Pt++){var Ut=localStorage.key(Pt);if(Ut.indexOf(ot)===0){var ee=localStorage.getItem(Ut);if(ee&&(ee=ht.serializer.deserialize(ee)),ee=G(ee,Ut.substring(xt),Nt++),ee!==void 0)return ee}}});return y(lt,tt),lt}function Vn(G,tt){var W=this,lt=W.ready().then(function(){var ht=W._dbInfo,ot;try{ot=localStorage.key(G)}catch{ot=null}return ot&&(ot=ot.substring(ht.keyPrefix.length)),ot});return y(lt,tt),lt}function is(G){var tt=this,W=tt.ready().then(function(){for(var lt=tt._dbInfo,ht=localStorage.length,ot=[],xt=0;xt<ht;xt++){var Mt=localStorage.key(xt);Mt.indexOf(lt.keyPrefix)===0&&ot.push(Mt.substring(lt.keyPrefix.length))}return ot});return y(W,G),W}function si(G){var tt=this,W=tt.keys().then(function(lt){return lt.length});return y(W,G),W}function qe(G,tt){var W=this;G=T(G);var lt=W.ready().then(function(){var ht=W._dbInfo;localStorage.removeItem(ht.keyPrefix+G)});return y(lt,tt),lt}function Hi(G,tt,W){var lt=this;G=T(G);var ht=lt.ready().then(function(){tt===void 0&&(tt=null);var ot=tt;return new m(function(xt,Mt){var Nt=lt._dbInfo;Nt.serializer.serialize(tt,function(Pt,Ut){if(Ut)Mt(Ut);else try{localStorage.setItem(Nt.keyPrefix+G,Pt),xt(ot)}catch(ee){(ee.name==="QuotaExceededError"||ee.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Mt(ee),Mt(ee)}})})});return y(ht,W),ht}function pr(G,tt){if(tt=A.apply(this,arguments),G=typeof G!="function"&&G||{},!G.name){var W=this.config();G.name=G.name||W.name,G.storeName=G.storeName||W.storeName}var lt=this,ht;return G.name?ht=new m(function(ot){G.storeName?ot(ge(G,lt._defaultConfig)):ot(G.name+"/")}).then(function(ot){for(var xt=localStorage.length-1;xt>=0;xt--){var Mt=localStorage.key(xt);Mt.indexOf(ot)===0&&localStorage.removeItem(Mt)}}):ht=m.reject("Invalid arguments"),y(ht,tt),ht}var en={_driver:"localStorageWrapper",_initStorage:we,_support:jt(),iterate:ti,getItem:Ci,setItem:Hi,removeItem:qe,clear:Ae,length:si,key:Vn,keys:is,dropInstance:pr},Ds=function(tt,W){return tt===W||typeof tt=="number"&&typeof W=="number"&&isNaN(tt)&&isNaN(W)},Zy=function(tt,W){for(var lt=tt.length,ht=0;ht<lt;){if(Ds(tt[ht],W))return!0;ht++}return!1},hd=Array.isArray||function(G){return Object.prototype.toString.call(G)==="[object Array]"},Uo={},zm={},Rs={INDEXEDDB:de,WEBSQL:It,LOCALSTORAGE:en},Kc=[Rs.INDEXEDDB._driver,Rs.WEBSQL._driver,Rs.LOCALSTORAGE._driver],gr=["dropInstance"],au=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(gr),Fm={description:"",driver:Kc.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Ho(G,tt){G[tt]=function(){var W=arguments;return G.ready().then(function(){return G[tt].apply(G,W)})}}function ou(){for(var G=1;G<arguments.length;G++){var tt=arguments[G];if(tt)for(var W in tt)tt.hasOwnProperty(W)&&(hd(tt[W])?arguments[0][W]=tt[W].slice():arguments[0][W]=tt[W])}return arguments[0]}var fd=function(){function G(tt){o(this,G);for(var W in Rs)if(Rs.hasOwnProperty(W)){var lt=Rs[W],ht=lt._driver;this[W]=ht,Uo[ht]||this.defineDriver(lt)}this._defaultConfig=ou({},Fm),this._config=ou({},this._defaultConfig,tt),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return G.prototype.config=function(W){if((typeof W>"u"?"undefined":a(W))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var lt in W){if(lt==="storeName"&&(W[lt]=W[lt].replace(/\W/g,"_")),lt==="version"&&typeof W[lt]!="number")return new Error("Database version must be a number.");this._config[lt]=W[lt]}return"driver"in W&&W.driver?this.setDriver(this._config.driver):!0}else return typeof W=="string"?this._config[W]:this._config},G.prototype.defineDriver=function(W,lt,ht){var ot=new m(function(xt,Mt){try{var Nt=W._driver,Pt=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!W._driver){Mt(Pt);return}for(var Ut=au.concat("_initStorage"),ee=0,be=Ut.length;ee<be;ee++){var Ge=Ut[ee],We=!Zy(gr,Ge);if((We||W[Ge])&&typeof W[Ge]!="function"){Mt(Pt);return}}var yi=function(){for(var jo=function(gd){return function(){var md=new Error("Method "+gd+" is not implemented by the current driver"),La=m.reject(md);return y(La,arguments[arguments.length-1]),La}},lu=0,Jy=gr.length;lu<Jy;lu++){var dd=gr[lu];W[dd]||(W[dd]=jo(dd))}};yi();var Bi=function(jo){Uo[Nt]&&console.info("Redefining LocalForage driver: "+Nt),Uo[Nt]=W,zm[Nt]=jo,xt()};"_support"in W?W._support&&typeof W._support=="function"?W._support().then(Bi,Mt):Bi(!!W._support):Bi(!0)}catch(er){Mt(er)}});return b(ot,lt,ht),ot},G.prototype.driver=function(){return this._driver||null},G.prototype.getDriver=function(W,lt,ht){var ot=Uo[W]?m.resolve(Uo[W]):m.reject(new Error("Driver not found."));return b(ot,lt,ht),ot},G.prototype.getSerializer=function(W){var lt=m.resolve(Ct);return b(lt,W),lt},G.prototype.ready=function(W){var lt=this,ht=lt._driverSet.then(function(){return lt._ready===null&&(lt._ready=lt._initDriver()),lt._ready});return b(ht,W,W),ht},G.prototype.setDriver=function(W,lt,ht){var ot=this;hd(W)||(W=[W]);var xt=this._getSupportedDrivers(W);function Mt(){ot._config.driver=ot.driver()}function Nt(ee){return ot._extend(ee),Mt(),ot._ready=ot._initStorage(ot._config),ot._ready}function Pt(ee){return function(){var be=0;function Ge(){for(;be<ee.length;){var We=ee[be];return be++,ot._dbInfo=null,ot._ready=null,ot.getDriver(We).then(Nt).catch(Ge)}Mt();var yi=new Error("No available storage method found.");return ot._driverSet=m.reject(yi),ot._driverSet}return Ge()}}var Ut=this._driverSet!==null?this._driverSet.catch(function(){return m.resolve()}):m.resolve();return this._driverSet=Ut.then(function(){var ee=xt[0];return ot._dbInfo=null,ot._ready=null,ot.getDriver(ee).then(function(be){ot._driver=be._driver,Mt(),ot._wrapLibraryMethodsWithReady(),ot._initDriver=Pt(xt)})}).catch(function(){Mt();var ee=new Error("No available storage method found.");return ot._driverSet=m.reject(ee),ot._driverSet}),b(this._driverSet,lt,ht),this._driverSet},G.prototype.supports=function(W){return!!zm[W]},G.prototype._extend=function(W){ou(this,W)},G.prototype._getSupportedDrivers=function(W){for(var lt=[],ht=0,ot=W.length;ht<ot;ht++){var xt=W[ht];this.supports(xt)&&lt.push(xt)}return lt},G.prototype._wrapLibraryMethodsWithReady=function(){for(var W=0,lt=au.length;W<lt;W++)Ho(this,au[W])},G.prototype.createInstance=function(W){return new G(W)},G}(),Qy=new fd;i.exports=Qy},{3:3}]},{},[4])(4)})}(Q1)),Q1.exports}var I5=L5();const XT=qc(I5);class SR{constructor(t,e,i){this.urlCache={},this.storage=void 0,this.name=t,this.requester=e||Yp,this.resolver=i,this.online=!0,this.checkRequirements(),this.addListeners()}checkRequirements(){try{let t;typeof XT>"u"&&(t=XT),this.storage=t.createInstance({name:this.name})}catch{throw new Error("localForage lib not loaded")}}addListeners(){this._status=this.status.bind(this),window.addEventListener("online",this._status),window.addEventListener("offline",this._status)}removeListeners(){window.removeEventListener("online",this._status),window.removeEventListener("offline",this._status),this._status=void 0}status(t){let e=navigator.onLine;this.online=e,e?this.emit("online",this):this.emit("offline",this)}add(t,e){let i=t.resources.map(r=>{let{href:a}=r,o=this.resolver(a),l=window.encodeURIComponent(o);return this.storage.getItem(l).then(h=>!h||e?this.requester(o,"binary").then(f=>this.storage.setItem(l,f)):h)});return Promise.all(i)}put(t,e,i){let r=window.encodeURIComponent(t);return this.storage.getItem(r).then(a=>a||this.requester(t,"binary",e,i).then(o=>this.storage.setItem(r,o)))}request(t,e,i,r){return this.online?this.requester(t,e,i,r).then(a=>(this.put(t),a)):this.retrieve(t,e)}retrieve(t,e){new ze;var i,r=new zo(t);return e||(e=r.extension),e=="blob"?i=this.getBlob(t):i=this.getText(t),i.then(a=>{var o=new ze,l;return a?(l=this.handleResponse(a,e),o.resolve(l)):o.reject({message:"File not found in storage: "+t,stack:new Error().stack}),o.promise})}handleResponse(t,e){var i;return e=="json"?i=JSON.parse(t):Wp(e)?i=ka(t,"text/xml"):e=="xhtml"?i=ka(t,"application/xhtml+xml"):e=="html"||e=="htm"?i=ka(t,"text/html"):i=t,i}getBlob(t,e){let i=window.encodeURIComponent(t);return this.storage.getItem(i).then(function(r){if(r)return e=e||Qh.lookup(t),new Blob([r],{type:e})})}getText(t,e){let i=window.encodeURIComponent(t);return e=e||Qh.lookup(t),this.storage.getItem(i).then(function(r){var a=new ze,o=new FileReader,l;if(r)return l=new Blob([r],{type:e}),o.addEventListener("loadend",()=>{a.resolve(o.result)}),o.readAsText(l,e),a.promise})}getBase64(t,e){let i=window.encodeURIComponent(t);return e=e||Qh.lookup(t),this.storage.getItem(i).then(r=>{var a=new ze,o=new FileReader,l;if(r)return l=new Blob([r],{type:e}),o.addEventListener("loadend",()=>{a.resolve(o.result)}),o.readAsDataURL(l,e),a.promise})}createUrl(t,e){var i=new ze,r=window.URL||window.webkitURL||window.mozURL,a,o,l=e&&e.base64;return t in this.urlCache?(i.resolve(this.urlCache[t]),i.promise):(l?(o=this.getBase64(t),o&&o.then((function(h){this.urlCache[t]=h,i.resolve(h)}).bind(this))):(o=this.getBlob(t),o&&o.then((function(h){a=r.createObjectURL(h),this.urlCache[t]=a,i.resolve(a)}).bind(this))),o||i.reject({message:"File not found in storage: "+t,stack:new Error().stack}),i.promise)}revokeUrl(t){var e=window.URL||window.webkitURL||window.mozURL,i=this.urlCache[t];i&&e.revokeObjectURL(i)}destroy(){var t=window.URL||window.webkitURL||window.mozURL;for(let e in this.urlCache)t.revokeObjectURL(e);this.urlCache={},this.removeListeners()}}Ma(SR.prototype);class J1{constructor(t){this.interactive="",this.fixedLayout="",this.openToSpread="",this.orientationLock="",t&&this.parse(t)}parse(t){if(!t)return this;const e=_i(t,"display_options");return e?(Po(e,"option").forEach(r=>{let a="";switch(r.childNodes.length&&(a=r.childNodes[0].nodeValue),r.attributes.name.value){case"interactive":this.interactive=a;break;case"fixed-layout":this.fixedLayout=a;break;case"open-to-spread":this.openToSpread=a;break;case"orientation-lock":this.orientationLock=a;break}}),this):this}destroy(){this.interactive=void 0,this.fixedLayout=void 0,this.openToSpread=void 0,this.orientationLock=void 0}}const KT="META-INF/container.xml",B5="META-INF/com.apple.ibooks.display-options.xml",Ls={BINARY:"binary",BASE64:"base64",EPUB:"epub",OPF:"opf",MANIFEST:"json",DIRECTORY:"directory"};class b_{constructor(t,e){typeof e>"u"&&typeof t!="string"&&!(t instanceof Blob)&&!(t instanceof ArrayBuffer)&&(e=t,t=void 0),this.settings=jn(this.settings||{},{requestMethod:void 0,requestCredentials:void 0,requestHeaders:void 0,encoding:void 0,replacements:void 0,canonical:void 0,openAs:void 0,store:void 0}),jn(this.settings,e),this.opening=new ze,this.opened=this.opening.promise,this.isOpen=!1,this.loading={manifest:new ze,spine:new ze,metadata:new ze,cover:new ze,navigation:new ze,pageList:new ze,resources:new ze,displayOptions:new ze},this.loaded={manifest:this.loading.manifest.promise,spine:this.loading.spine.promise,metadata:this.loading.metadata.promise,cover:this.loading.cover.promise,navigation:this.loading.navigation.promise,pageList:this.loading.pageList.promise,resources:this.loading.resources.promise,displayOptions:this.loading.displayOptions.promise},this.ready=Promise.all([this.loaded.manifest,this.loaded.spine,this.loaded.metadata,this.loaded.cover,this.loaded.navigation,this.loaded.resources,this.loaded.displayOptions]),this.isRendered=!1,this.request=this.settings.requestMethod||Yp,this.spine=new KP,this.locations=new mR(this.spine,this.load.bind(this)),this.navigation=void 0,this.pageList=void 0,this.url=void 0,this.path=void 0,this.archived=!1,this.archive=void 0,this.storage=void 0,this.resources=void 0,this.rendition=void 0,this.container=void 0,this.packaging=void 0,this.displayOptions=void 0,this.settings.store&&this.store(this.settings.store),t&&this.open(t,this.settings.openAs).catch(i=>{var r=new Error("Cannot load book at "+t);this.emit(Wt.BOOK.OPEN_FAILED,r)})}open(t,e){var i,r=e||this.determineType(t);return r===Ls.BINARY?(this.archived=!0,this.url=new Bs("/",""),i=this.openEpub(t)):r===Ls.BASE64?(this.archived=!0,this.url=new Bs("/",""),i=this.openEpub(t,r)):r===Ls.EPUB?(this.archived=!0,this.url=new Bs("/",""),i=this.request(t,"binary",this.settings.requestCredentials,this.settings.requestHeaders).then(this.openEpub.bind(this))):r==Ls.OPF?(this.url=new Bs(t),i=this.openPackaging(this.url.Path.toString())):r==Ls.MANIFEST?(this.url=new Bs(t),i=this.openManifest(this.url.Path.toString())):(this.url=new Bs(t),i=this.openContainer(KT).then(this.openPackaging.bind(this))),i}openEpub(t,e){return this.unarchive(t,e||this.settings.encoding).then(()=>this.openContainer(KT)).then(i=>this.openPackaging(i))}openContainer(t){return this.load(t).then(e=>(this.container=new ZP(e),this.resolve(this.container.packagePath)))}openPackaging(t){return this.path=new zo(t),this.load(t).then(e=>(this.packaging=new TT(e),this.unpack(this.packaging)))}openManifest(t){return this.path=new zo(t),this.load(t).then(e=>(this.packaging=new TT,this.packaging.load(e),this.unpack(this.packaging)))}load(t){var e=this.resolve(t);return this.archived?this.archive.request(e):this.request(e,null,this.settings.requestCredentials,this.settings.requestHeaders)}resolve(t,e){if(t){var i=t,r=t.indexOf("://")>-1;return r?t:(this.path&&(i=this.path.resolve(t)),e!=!1&&this.url&&(i=this.url.resolve(i)),i)}}canonical(t){var e=t;return t?(this.settings.canonical?e=this.settings.canonical(t):e=this.resolve(t,!0),e):""}determineType(t){var e,i,r;if(this.settings.encoding==="base64")return Ls.BASE64;if(typeof t!="string")return Ls.BINARY;if(e=new Bs(t),i=e.path(),r=i.extension,r&&(r=r.replace(/\?.*$/,"")),!r)return Ls.DIRECTORY;if(r==="epub")return Ls.EPUB;if(r==="opf")return Ls.OPF;if(r==="json")return Ls.MANIFEST}unpack(t){this.package=t,this.packaging.metadata.layout===""?this.load(this.url.resolve(B5)).then(e=>{this.displayOptions=new J1(e),this.loading.displayOptions.resolve(this.displayOptions)}).catch(e=>{this.displayOptions=new J1,this.loading.displayOptions.resolve(this.displayOptions)}):(this.displayOptions=new J1,this.loading.displayOptions.resolve(this.displayOptions)),this.spine.unpack(this.packaging,this.resolve.bind(this),this.canonical.bind(this)),this.resources=new e5(this.packaging.manifest,{archive:this.archive,resolver:this.resolve.bind(this),request:this.request.bind(this),replacements:this.settings.replacements||(this.archived?"blobUrl":"base64")}),this.loadNavigation(this.packaging).then(()=>{this.loading.navigation.resolve(this.navigation)}),this.packaging.coverPath&&(this.cover=this.resolve(this.packaging.coverPath)),this.loading.manifest.resolve(this.packaging.manifest),this.loading.metadata.resolve(this.packaging.metadata),this.loading.spine.resolve(this.spine),this.loading.cover.resolve(this.cover),this.loading.resources.resolve(this.resources),this.loading.pageList.resolve(this.pageList),this.isOpen=!0,this.archived||this.settings.replacements&&this.settings.replacements!="none"?this.replacements().then(()=>{this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}).catch(e=>{console.error(e)}):this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}loadNavigation(t){let e=t.navPath||t.ncxPath,i=t.toc;return i?new Promise((r,a)=>{this.navigation=new L1(i),t.pageList&&(this.pageList=new I1(t.pageList)),r(this.navigation)}):e?this.load(e,"xml").then(r=>(this.navigation=new L1(r),this.pageList=new I1(r),this.navigation)):new Promise((r,a)=>{this.navigation=new L1,this.pageList=new I1,r(this.navigation)})}section(t){return this.spine.get(t)}renderTo(t,e){return this.rendition=new y_(this,e),this.rendition.attachTo(t),this.rendition}setRequestCredentials(t){this.settings.requestCredentials=t}setRequestHeaders(t){this.settings.requestHeaders=t}unarchive(t,e){return this.archive=new M5,this.archive.open(t,e)}store(t){let e=this.settings.replacements&&this.settings.replacements!=="none",i=this.url,r=this.settings.requestMethod||Yp.bind(this);return this.storage=new SR(t,r,this.resolve.bind(this)),this.request=this.storage.request.bind(this.storage),this.opened.then(()=>{this.archived&&(this.storage.requester=this.archive.request.bind(this.archive));let a=(o,l)=>{l.output=this.resources.substitute(o,l.url)};this.resources.settings.replacements=e||"blobUrl",this.resources.replacements().then(()=>this.resources.replaceCss()),this.storage.on("offline",()=>{this.url=new Bs("/",""),this.spine.hooks.serialize.register(a)}),this.storage.on("online",()=>{this.url=i,this.spine.hooks.serialize.deregister(a)})}),this.storage}coverUrl(){return this.loaded.cover.then(()=>this.cover?this.archived?this.archive.createUrl(this.cover):this.cover:null)}replacements(){return this.spine.hooks.serialize.register((t,e)=>{e.output=this.resources.substitute(t,e.url)}),this.resources.replacements().then(()=>this.resources.replaceCss())}getRange(t){var e=new Fe(t),i=this.spine.get(e.spinePos),r=this.load.bind(this);return i?i.load(r).then(function(a){var o=e.toRange(i.document);return o}):new Promise((a,o)=>{o("CFI could not be found")})}key(t){var e=t||this.packaging.metadata.identifier||this.url.filename;return`epubjs:${Gy}:${e}`}destroy(){this.opened=void 0,this.loading=void 0,this.loaded=void 0,this.ready=void 0,this.isOpen=!1,this.isRendered=!1,this.spine&&this.spine.destroy(),this.locations&&this.locations.destroy(),this.pageList&&this.pageList.destroy(),this.archive&&this.archive.destroy(),this.resources&&this.resources.destroy(),this.container&&this.container.destroy(),this.packaging&&this.packaging.destroy(),this.rendition&&this.rendition.destroy(),this.displayOptions&&this.displayOptions.destroy(),this.spine=void 0,this.locations=void 0,this.pageList=void 0,this.archive=void 0,this.resources=void 0,this.container=void 0,this.packaging=void 0,this.rendition=void 0,this.navigation=void 0,this.url=void 0,this.path=void 0,this.archived=!1}}Ma(b_.prototype);function Wc(u,t){return new b_(u,t)}Wc.VERSION=Gy;typeof global<"u"&&(global.EPUBJS_VERSION=Gy);Wc.Book=b_;Wc.Rendition=y_;Wc.Contents=m_;Wc.CFI=Fe;Wc.utils=jP;const cr=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),xw=[.001,0,0,.001,0,0],tw=1.35,Xr={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},pl={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},P5="pdfjs_internal_editor_",_e={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},Pe={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},z5={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Xn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},f0={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},an={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Fh={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Vy={ERRORS:0,WARNINGS:1,INFOS:5},ey={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Qv={moveTo:0,lineTo:1,curveTo:2,closePath:3},F5={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let $y=Vy.WARNINGS;function U5(u){Number.isInteger(u)&&($y=u)}function H5(){return $y}function Wy(u){$y>=Vy.INFOS&&console.log(`Info: ${u}`)}function Ee(u){$y>=Vy.WARNINGS&&console.log(`Warning: ${u}`)}function gi(u){throw new Error(u)}function un(u,t){u||gi(t)}function j5(u){switch(u==null?void 0:u.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function xR(u,t=null,e=null){if(!u)return null;if(e&&typeof u=="string"){if(e.addDefaultProtocol&&u.startsWith("www.")){const r=u.match(/\./g);(r==null?void 0:r.length)>=2&&(u=`http://${u}`)}if(e.tryConvertEncoding)try{u=W5(u)}catch{}}const i=t?URL.parse(u,t):URL.parse(u);return j5(i)?i:null}function CR(u,t,e=!1){const i=URL.parse(u);return i?(i.hash=t,i.href):e&&xR(u,"http://example.com")?u.split("#",1)[0]+`${t?`#${t}`:""}`:""}function Ie(u,t,e,i=!1){return Object.defineProperty(u,t,{value:e,enumerable:!i,configurable:!0,writable:!1}),e}const Yc=function(){function t(e,i){this.message=e,this.name=i}return t.prototype=new Error,t.constructor=t,t}();class ZT extends Yc{constructor(t,e){super(t,"PasswordException"),this.code=e}}class ew extends Yc{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class Cw extends Yc{constructor(t){super(t,"InvalidPDFException")}}class iy extends Yc{constructor(t,e,i){super(t,"ResponseException"),this.status=e,this.missing=i}}class q5 extends Yc{constructor(t){super(t,"FormatError")}}class eu extends Yc{constructor(t){super(t,"AbortException")}}function TR(u){(typeof u!="object"||(u==null?void 0:u.length)===void 0)&&gi("Invalid argument for bytesToString");const t=u.length,e=8192;if(t<e)return String.fromCharCode.apply(null,u);const i=[];for(let r=0;r<t;r+=e){const a=Math.min(r+e,t),o=u.subarray(r,a);i.push(String.fromCharCode.apply(null,o))}return i.join("")}function Nm(u){typeof u!="string"&&gi("Invalid argument for stringToBytes");const t=u.length,e=new Uint8Array(t);for(let i=0;i<t;++i)e[i]=u.charCodeAt(i)&255;return e}function G5(u){return String.fromCharCode(u>>24&255,u>>16&255,u>>8&255,u&255)}function V5(){const u=new Uint8Array(4);return u[0]=1,new Uint32Array(u.buffer,0,1)[0]===1}function $5(){try{return new Function(""),!0}catch{return!1}}class qn{static get isLittleEndian(){return Ie(this,"isLittleEndian",V5())}static get isEvalSupported(){return Ie(this,"isEvalSupported",$5())}static get isOffscreenCanvasSupported(){return Ie(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Ie(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return Ie(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){var t,e;return Ie(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const iw=Array.from(Array(256).keys(),u=>u.toString(16).padStart(2,"0"));var Lo,d0,Tw;class le{static makeHexColor(t,e,i){return`#${iw[t]}${iw[e]}${iw[i]}`}static scaleMinMax(t,e){let i;t[0]?(t[0]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[3],e[3]*=t[3]):(i=e[0],e[0]=e[1],e[1]=i,i=e[2],e[2]=e[3],e[3]=i,t[1]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e,i=0){const r=t[i],a=t[i+1];t[i]=r*e[0]+a*e[2]+e[4],t[i+1]=r*e[1]+a*e[3]+e[5]}static applyTransformToBezier(t,e,i=0){const r=e[0],a=e[1],o=e[2],l=e[3],h=e[4],f=e[5];for(let g=0;g<6;g+=2){const m=t[i+g],y=t[i+g+1];t[i+g]=m*r+y*o+h,t[i+g+1]=m*a+y*l+f}}static applyInverseTransform(t,e){const i=t[0],r=t[1],a=e[0]*e[3]-e[1]*e[2];t[0]=(i*e[3]-r*e[2]+e[2]*e[5]-e[4]*e[3])/a,t[1]=(-i*e[1]+r*e[0]+e[4]*e[1]-e[5]*e[0])/a}static axialAlignedBoundingBox(t,e,i){const r=e[0],a=e[1],o=e[2],l=e[3],h=e[4],f=e[5],g=t[0],m=t[1],y=t[2],b=t[3];let T=r*g+h,A=T,w=r*y+h,E=w,D=l*m+f,R=D,N=l*b+f,x=N;if(a!==0||o!==0){const L=a*g,I=a*y,U=o*m,F=o*b;T+=U,E+=U,w+=F,A+=F,D+=L,x+=L,N+=I,R+=I}i[0]=Math.min(i[0],T,w,A,E),i[1]=Math.min(i[1],D,N,R,x),i[2]=Math.max(i[2],T,w,A,E),i[3]=Math.max(i[3],D,N,R,x)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const i=t[0],r=t[1],a=t[2],o=t[3],l=i**2+r**2,h=i*a+r*o,f=a**2+o**2,g=(l+f)/2,m=Math.sqrt(g**2-(l*f-h**2));e[0]=Math.sqrt(g+m||1),e[1]=Math.sqrt(g-m||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const i=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(i>r)return null;const a=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),o=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return a>o?null:[i,a,r,o]}static pointBoundingBox(t,e,i){i[0]=Math.min(i[0],t),i[1]=Math.min(i[1],e),i[2]=Math.max(i[2],t),i[3]=Math.max(i[3],e)}static rectBoundingBox(t,e,i,r,a){a[0]=Math.min(a[0],t,i),a[1]=Math.min(a[1],e,r),a[2]=Math.max(a[2],t,i),a[3]=Math.max(a[3],e,r)}static bezierBoundingBox(t,e,i,r,a,o,l,h,f){f[0]=Math.min(f[0],t,l),f[1]=Math.min(f[1],e,h),f[2]=Math.max(f[2],t,l),f[3]=Math.max(f[3],e,h),z(this,Lo,Tw).call(this,t,i,a,l,e,r,o,h,3*(-t+3*(i-a)+l),6*(t-2*i+a),3*(i-t),f),z(this,Lo,Tw).call(this,t,i,a,l,e,r,o,h,3*(-e+3*(r-o)+h),6*(e-2*r+o),3*(r-e),f)}}Lo=new WeakSet,d0=function(t,e,i,r,a,o,l,h,f,g){if(f<=0||f>=1)return;const m=1-f,y=f*f,b=y*f,T=m*(m*(m*t+3*f*e)+3*y*i)+b*r,A=m*(m*(m*a+3*f*o)+3*y*l)+b*h;g[0]=Math.min(g[0],T),g[1]=Math.min(g[1],A),g[2]=Math.max(g[2],T),g[3]=Math.max(g[3],A)},Tw=function(t,e,i,r,a,o,l,h,f,g,m,y){if(Math.abs(f)<1e-12){Math.abs(g)>=1e-12&&z(this,Lo,d0).call(this,t,e,i,r,a,o,l,h,-m/g,y);return}const b=g**2-4*m*f;if(b<0)return;const T=Math.sqrt(b),A=2*f;z(this,Lo,d0).call(this,t,e,i,r,a,o,l,h,(-g+T)/A,y),z(this,Lo,d0).call(this,t,e,i,r,a,o,l,h,(-g-T)/A,y)},P(le,Lo);function W5(u){return decodeURIComponent(escape(u))}let nw=null,QT=null;function Y5(u){return nw||(nw=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,QT=new Map([["","t"]])),u.replaceAll(nw,(t,e,i)=>e?e.normalize("NFKC"):QT.get(i))}function DR(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const u=new Uint8Array(32);return crypto.getRandomValues(u),TR(u)}const w_="pdfjs_internal_id_";function X5(u,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[i,r,...a]=e;if(!u(i)&&!Number.isInteger(i)||!t(r))return!1;const o=a.length;let l=!0;switch(r.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;l=!1;break;default:return!1}for(const h of a)if(!(typeof h=="number"||l&&h===null))return!1;return!0}function hr(u,t,e){return Math.min(Math.max(u,t),e)}function RR(u){return Uint8Array.prototype.toBase64?u.toBase64():btoa(TR(u))}function K5(u){return Uint8Array.fromBase64?Uint8Array.fromBase64(u):Nm(atob(u))}typeof Promise.try!="function"&&(Promise.try=function(u,...t){return new Promise(e=>{e(u(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(u){return u.reduce((t,e)=>t+e,0)});const Qa="http://www.w3.org/2000/svg",Ru=class Ru{};Bt(Ru,"CSS",96),Bt(Ru,"PDF",72),Bt(Ru,"PDF_TO_CSS_UNITS",Ru.CSS/Ru.PDF);let iu=Ru;async function Om(u,t="text"){if(_p(u,document.baseURI)){const e=await fetch(u);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,i)=>{const r=new XMLHttpRequest;r.open("GET",u,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class Mm{constructor({viewBox:t,userUnit:e,scale:i,rotation:r,offsetX:a=0,offsetY:o=0,dontFlip:l=!1}){this.viewBox=t,this.userUnit=e,this.scale=i,this.rotation=r,this.offsetX=a,this.offsetY=o,i*=e;const h=(t[2]+t[0])/2,f=(t[3]+t[1])/2;let g,m,y,b;switch(r%=360,r<0&&(r+=360),r){case 180:g=-1,m=0,y=0,b=1;break;case 90:g=0,m=1,y=1,b=0;break;case 270:g=0,m=-1,y=-1,b=0;break;case 0:g=1,m=0,y=0,b=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}l&&(y=-y,b=-b);let T,A,w,E;g===0?(T=Math.abs(f-t[1])*i+a,A=Math.abs(h-t[0])*i+o,w=(t[3]-t[1])*i,E=(t[2]-t[0])*i):(T=Math.abs(h-t[0])*i+a,A=Math.abs(f-t[1])*i+o,w=(t[2]-t[0])*i,E=(t[3]-t[1])*i),this.transform=[g*i,m*i,y*i,b*i,T-g*i*h-y*i*f,A-m*i*h-b*i*f],this.width=w,this.height=E}get rawDims(){const t=this.viewBox;return Ie(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:a=!1}={}){return new Mm({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:r,dontFlip:a})}convertToViewportPoint(t,e){const i=[t,e];return le.applyTransform(i,this.transform),i}convertToViewportRectangle(t){const e=[t[0],t[1]];le.applyTransform(e,this.transform);const i=[t[2],t[3]];return le.applyTransform(i,this.transform),[e[0],e[1],i[0],i[1]]}convertToPdfPoint(t,e){const i=[t,e];return le.applyInverseTransform(i,this.transform),i}}class A_ extends Yc{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function Yy(u){const t=u.length;let e=0;for(;e<t&&u[e].trim()==="";)e++;return u.substring(e,e+5).toLowerCase()==="data:"}function __(u){return typeof u=="string"&&/\.pdf$/i.test(u)}function Z5(u){return[u]=u.split(/[#?]/,1),u.substring(u.lastIndexOf("/")+1)}function Q5(u,t="document.pdf"){if(typeof u!="string")return t;if(Yy(u))return Ee('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=e.exec(u);let a=i.exec(r[1])||i.exec(r[2])||i.exec(r[3]);if(a&&(a=a[0],a.includes("%")))try{a=i.exec(decodeURIComponent(a))[0]}catch{}return a||t}class JT{constructor(){Bt(this,"started",Object.create(null));Bt(this,"times",[])}time(t){t in this.started&&Ee(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Ee(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:i}of this.times)e=Math.max(i.length,e);for(const{name:i,start:r,end:a}of this.times)t.push(`${i.padEnd(e)} ${a-r}ms
`);return t.join("")}}function _p(u,t){const e=t?URL.parse(u,t):URL.parse(u);return(e==null?void 0:e.protocol)==="http:"||(e==null?void 0:e.protocol)==="https:"}function Qs(u){u.preventDefault()}function on(u){u.preventDefault(),u.stopPropagation()}function J5(u){console.log("Deprecated API usage: "+u)}var Qp;class E_{static toDateObject(t){if(!t||typeof t!="string")return null;p(this,Qp)||O(this,Qp,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=p(this,Qp).exec(t);if(!e)return null;const i=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let a=parseInt(e[3],10);a=a>=1&&a<=31?a:1;let o=parseInt(e[4],10);o=o>=0&&o<=23?o:0;let l=parseInt(e[5],10);l=l>=0&&l<=59?l:0;let h=parseInt(e[6],10);h=h>=0&&h<=59?h:0;const f=e[7]||"Z";let g=parseInt(e[8],10);g=g>=0&&g<=23?g:0;let m=parseInt(e[9],10)||0;return m=m>=0&&m<=59?m:0,f==="-"?(o+=g,l+=m):f==="+"&&(o-=g,l-=m),new Date(Date.UTC(i,r,a,o,l,h))}}Qp=new WeakMap,P(E_,Qp);function t4(u,{scale:t=1,rotation:e=0}){const{width:i,height:r}=u.attributes.style,a=[0,0,parseInt(i),parseInt(r)];return new Mm({viewBox:a,userUnit:1,scale:t,rotation:e})}function S_(u){if(u.startsWith("#")){const t=parseInt(u.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return u.startsWith("rgb(")?u.slice(4,-1).split(",").map(t=>parseInt(t)):u.startsWith("rgba(")?u.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Ee(`Not a valid color format: "${u}"`),[0,0,0])}function e4(u){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of u.keys()){t.style.color=e;const i=window.getComputedStyle(t).color;u.set(e,S_(i))}t.remove()}function Fi(u){const{a:t,b:e,c:i,d:r,e:a,f:o}=u.getTransform();return[t,e,i,r,a,o]}function aa(u){const{a:t,b:e,c:i,d:r,e:a,f:o}=u.getTransform().invertSelf();return[t,e,i,r,a,o]}function Uc(u,t,e=!1,i=!0){if(t instanceof Mm){const{pageWidth:r,pageHeight:a}=t.rawDims,{style:o}=u,l=qn.isCSSRoundSupported,h=`var(--total-scale-factor) * ${r}px`,f=`var(--total-scale-factor) * ${a}px`,g=l?`round(down, ${h}, var(--scale-round-x))`:`calc(${h})`,m=l?`round(down, ${f}, var(--scale-round-y))`:`calc(${f})`;!e||t.rotation%180===0?(o.width=g,o.height=m):(o.width=m,o.height=g)}i&&u.setAttribute("data-main-rotation",t.rotation)}class Na{constructor(){const{pixelRatio:t}=Na;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,i,r,a=-1){let o=1/0,l=1/0,h=1/0;i=Na.capPixels(i,a),i>0&&(o=Math.sqrt(i/(t*e))),r!==-1&&(l=r/t,h=r/e);const f=Math.min(o,l,h);return this.sx>f||this.sy>f?(this.sx=f,this.sy=f,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,i):i}return t}}const Dw=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var gl,Ou,ps,ml,Jp,tf,tg,cy,kR,Hn,NR,OR,Ep,MR,p0;const eo=class eo{constructor(t){P(this,Hn);P(this,gl,null);P(this,Ou,null);P(this,ps);P(this,ml,null);P(this,Jp,null);P(this,tf,null);O(this,ps,t),p(eo,tg)||O(eo,tg,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const t=O(this,gl,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=p(this,ps)._uiManager._signal;t.addEventListener("contextmenu",Qs,{signal:e}),t.addEventListener("pointerdown",z(eo,cy,kR),{signal:e});const i=O(this,ml,document.createElement("div"));i.className="buttons",t.append(i);const r=p(this,ps).toolbarPosition;if(r){const{style:a}=t,o=p(this,ps)._uiManager.direction==="ltr"?1-r[0]:r[0];a.insetInlineEnd=`${100*o}%`,a.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return z(this,Hn,MR).call(this),t}get div(){return p(this,gl)}hide(){var t;p(this,gl).classList.add("hidden"),(t=p(this,Ou))==null||t.hideDropdown()}show(){var t;p(this,gl).classList.remove("hidden"),(t=p(this,Jp))==null||t.shown()}async addAltText(t){const e=await t.render();z(this,Hn,Ep).call(this,e),p(this,ml).prepend(e,p(this,Hn,p0)),O(this,Jp,t)}addColorPicker(t){O(this,Ou,t);const e=t.renderButton();z(this,Hn,Ep).call(this,e),p(this,ml).prepend(e,p(this,Hn,p0))}async addEditSignatureButton(t){const e=O(this,tf,await t.renderEditButton(p(this,ps)));z(this,Hn,Ep).call(this,e),p(this,ml).prepend(e,p(this,Hn,p0))}updateEditSignatureButton(t){p(this,tf)&&(p(this,tf).title=t)}remove(){var t;p(this,gl).remove(),(t=p(this,Ou))==null||t.destroy(),O(this,Ou,null)}};gl=new WeakMap,Ou=new WeakMap,ps=new WeakMap,ml=new WeakMap,Jp=new WeakMap,tf=new WeakMap,tg=new WeakMap,cy=new WeakSet,kR=function(t){t.stopPropagation()},Hn=new WeakSet,NR=function(t){p(this,ps)._focusEventsAllowed=!1,on(t)},OR=function(t){p(this,ps)._focusEventsAllowed=!0,on(t)},Ep=function(t){const e=p(this,ps)._uiManager._signal;t.addEventListener("focusin",z(this,Hn,NR).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",z(this,Hn,OR).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Qs,{signal:e})},MR=function(){const{editorType:t,_uiManager:e}=p(this,ps),i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",p(eo,tg)[t]),z(this,Hn,Ep).call(this,i),i.addEventListener("click",r=>{e.delete()},{signal:e._signal}),p(this,ml).append(i)},p0=function(){const t=document.createElement("div");return t.className="divider",t},P(eo,cy),P(eo,tg,null);let Rw=eo;var eg,Mu,Lu,nu,LR,IR,BR;class i4{constructor(t){P(this,nu);P(this,eg,null);P(this,Mu,null);P(this,Lu);O(this,Lu,t)}show(t,e,i){const[r,a]=z(this,nu,IR).call(this,e,i),{style:o}=p(this,Mu)||O(this,Mu,z(this,nu,LR).call(this));t.append(p(this,Mu)),o.insetInlineEnd=`${100*r}%`,o.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){p(this,Mu).remove()}}eg=new WeakMap,Mu=new WeakMap,Lu=new WeakMap,nu=new WeakSet,LR=function(){const t=O(this,Mu,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Qs,{signal:p(this,Lu)._signal});const e=O(this,eg,document.createElement("div"));return e.className="buttons",t.append(e),z(this,nu,BR).call(this),t},IR=function(t,e){let i=0,r=0;for(const a of t){const o=a.y+a.height;if(o<i)continue;const l=a.x+(e?a.width:0);if(o>i){r=l,i=o;continue}e?l>r&&(r=l):l<r&&(r=l)}return[e?1-r:r,i]},BR=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=p(this,Lu)._signal;t.addEventListener("contextmenu",Qs,{signal:i}),t.addEventListener("click",()=>{p(this,Lu).highlightSelection("floating_button")},{signal:i}),p(this,eg).append(t)};function PR(u,t,e){for(const i of e)t.addEventListener(i,u[i].bind(u))}var hy;class n4{constructor(){P(this,hy,0)}get id(){return`${P5}${nr(this,hy)._++}`}}hy=new WeakMap;var ef,ig,Zn,nf,g0;const N_=class N_{constructor(){P(this,nf);P(this,ef,DR());P(this,ig,0);P(this,Zn,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const a=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return Ie(this,"_isSVGFittingCanvas",a)}async getFromFile(t){const{lastModified:e,name:i,size:r,type:a}=t;return z(this,nf,g0).call(this,`${e}_${i}_${r}_${a}`,t)}async getFromUrl(t){return z(this,nf,g0).call(this,t,t)}async getFromBlob(t,e){const i=await e;return z(this,nf,g0).call(this,t,i)}async getFromId(t){p(this,Zn)||O(this,Zn,new Map);const e=p(this,Zn).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:i}=e;return delete e.blobPromise,this.getFromBlob(e.id,i)}return this.getFromUrl(e.url)}getFromCanvas(t,e){p(this,Zn)||O(this,Zn,new Map);let i=p(this,Zn).get(t);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),i={bitmap:r.transferToImageBitmap(),id:`image_${p(this,ef)}_${nr(this,ig)._++}`,refCounter:1,isSvg:!1},p(this,Zn).set(t,i),p(this,Zn).set(i.id,i),i}getSvgUrl(t){const e=p(this,Zn).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var r;p(this,Zn)||O(this,Zn,new Map);const e=p(this,Zn).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:i}=e;if(!e.url&&!e.file){const a=new OffscreenCanvas(i.width,i.height);a.getContext("bitmaprenderer").transferFromImageBitmap(i),e.blobPromise=a.convertToBlob()}(r=i.close)==null||r.call(i),e.bitmap=null}isValidId(t){return t.startsWith(`image_${p(this,ef)}_`)}};ef=new WeakMap,ig=new WeakMap,Zn=new WeakMap,nf=new WeakSet,g0=async function(t,e){p(this,Zn)||O(this,Zn,new Map);let i=p(this,Zn).get(t);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${p(this,ef)}_${nr(this,ig)._++}`,refCounter:0,isSvg:!1});let r;if(typeof e=="string"?(i.url=e,r=await Om(e,"blob")):e instanceof File?r=i.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const a=N_._isSVGFittingCanvas,o=new FileReader,l=new Image,h=new Promise((f,g)=>{l.onload=()=>{i.bitmap=l,i.isSvg=!0,f()},o.onload=async()=>{const m=i.svgUrl=o.result;l.src=await a?`${m}#svgView(preserveAspectRatio(none))`:m},l.onerror=o.onerror=g});o.readAsDataURL(r),await h}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){Ee(r),i=null}return p(this,Zn).set(t,i),i&&p(this,Zn).set(i.id,i),i};let kw=N_;var Ki,vl,ng,zi;class r4{constructor(t=128){P(this,Ki,[]);P(this,vl,!1);P(this,ng);P(this,zi,-1);O(this,ng,t)}add({cmd:t,undo:e,post:i,mustExec:r,type:a=NaN,overwriteIfSameType:o=!1,keepUndo:l=!1}){if(r&&t(),p(this,vl))return;const h={cmd:t,undo:e,post:i,type:a};if(p(this,zi)===-1){p(this,Ki).length>0&&(p(this,Ki).length=0),O(this,zi,0),p(this,Ki).push(h);return}if(o&&p(this,Ki)[p(this,zi)].type===a){l&&(h.undo=p(this,Ki)[p(this,zi)].undo),p(this,Ki)[p(this,zi)]=h;return}const f=p(this,zi)+1;f===p(this,ng)?p(this,Ki).splice(0,1):(O(this,zi,f),f<p(this,Ki).length&&p(this,Ki).splice(f)),p(this,Ki).push(h)}undo(){if(p(this,zi)===-1)return;O(this,vl,!0);const{undo:t,post:e}=p(this,Ki)[p(this,zi)];t(),e==null||e(),O(this,vl,!1),O(this,zi,p(this,zi)-1)}redo(){if(p(this,zi)<p(this,Ki).length-1){O(this,zi,p(this,zi)+1),O(this,vl,!0);const{cmd:t,post:e}=p(this,Ki)[p(this,zi)];t(),e==null||e(),O(this,vl,!1)}}hasSomethingToUndo(){return p(this,zi)!==-1}hasSomethingToRedo(){return p(this,zi)<p(this,Ki).length-1}cleanType(t){if(p(this,zi)!==-1){for(let e=p(this,zi);e>=0;e--)if(p(this,Ki)[e].type!==t){p(this,Ki).splice(e+1,p(this,zi)-e),O(this,zi,e);return}p(this,Ki).length=0,O(this,zi,-1)}}destroy(){O(this,Ki,null)}}Ki=new WeakMap,vl=new WeakMap,ng=new WeakMap,zi=new WeakMap;var fy,zR;class Lm{constructor(t){P(this,fy);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=qn.platform;for(const[i,r,a={}]of t)for(const o of i){const l=o.startsWith("mac+");e&&l?(this.callbacks.set(o.slice(4),{callback:r,options:a}),this.allKeys.add(o.split("+").at(-1))):!e&&!l&&(this.callbacks.set(o,{callback:r,options:a}),this.allKeys.add(o.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const i=this.callbacks.get(z(this,fy,zR).call(this,e));if(!i)return;const{callback:r,options:{bubbles:a=!1,args:o=[],checker:l=null}}=i;l&&!l(t,e)||(r.bind(t,...o,e)(),a||on(e))}}fy=new WeakSet,zR=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const dy=class dy{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return e4(t),Ie(this,"_colors",t)}convert(t){const e=S_(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[i,r]of this._colors)if(r.every((a,o)=>a===e[o]))return dy._colorsMapping.get(i);return e}getHexCode(t){const e=this._colors.get(t);return e?le.makeHexColor(...e):t}};Bt(dy,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Nw=dy;var rf,Br,mn,On,sf,no,af,gs,yl,bl,of,Iu,ua,Ps,Bu,rg,sg,lf,ag,ca,wl,uf,Al,ha,py,_l,og,El,Pu,zu,Sl,lg,_n,li,ro,xl,Fu,ug,cg,Cl,fa,so,hg,ms,Vt,m0,Ow,FR,UR,v0,HR,jR,qR,Mw,GR,Lw,Iw,VR,sr,Ja,$R,WR,Bw,YR,Sp,Pw;const Yh=class Yh{constructor(t,e,i,r,a,o,l,h,f,g,m,y,b,T){P(this,Vt);P(this,rf,new AbortController);P(this,Br,null);P(this,mn,new Map);P(this,On,new Map);P(this,sf,null);P(this,no,null);P(this,af,null);P(this,gs,new r4);P(this,yl,null);P(this,bl,null);P(this,of,0);P(this,Iu,new Set);P(this,ua,null);P(this,Ps,null);P(this,Bu,new Set);Bt(this,"_editorUndoBar",null);P(this,rg,!1);P(this,sg,!1);P(this,lf,!1);P(this,ag,null);P(this,ca,null);P(this,wl,null);P(this,uf,null);P(this,Al,!1);P(this,ha,null);P(this,py,new n4);P(this,_l,!1);P(this,og,!1);P(this,El,null);P(this,Pu,null);P(this,zu,null);P(this,Sl,null);P(this,lg,null);P(this,_n,_e.NONE);P(this,li,new Set);P(this,ro,null);P(this,xl,null);P(this,Fu,null);P(this,ug,null);P(this,cg,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});P(this,Cl,[0,0]);P(this,fa,null);P(this,so,null);P(this,hg,null);P(this,ms,null);const A=this._signal=p(this,rf).signal;O(this,so,t),O(this,hg,e),O(this,sf,i),O(this,xl,r),this._eventBus=a,a._on("editingaction",this.onEditingAction.bind(this),{signal:A}),a._on("pagechanging",this.onPageChanging.bind(this),{signal:A}),a._on("scalechanging",this.onScaleChanging.bind(this),{signal:A}),a._on("rotationchanging",this.onRotationChanging.bind(this),{signal:A}),a._on("setpreference",this.onSetPreference.bind(this),{signal:A}),a._on("switchannotationeditorparams",w=>this.updateParams(w.type,w.value),{signal:A}),z(this,Vt,HR).call(this),z(this,Vt,VR).call(this),z(this,Vt,Mw).call(this),O(this,no,o.annotationStorage),O(this,ag,o.filterFactory),O(this,Fu,l),O(this,uf,h||null),O(this,rg,f),O(this,sg,g),O(this,lf,m),O(this,lg,y||null),this.viewParameters={realScale:iu.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=b||null,this._supportsPinchToZoom=T!==!1}static get _keyboardManager(){const t=Yh.prototype,e=o=>p(o,so).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),i=(o,{target:l})=>{if(l instanceof HTMLInputElement){const{type:h}=l;return h!=="text"&&h!=="number"}return!0},r=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return Ie(this,"_keyboardManager",new Lm([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(o,{target:l})=>!(l instanceof HTMLButtonElement)&&p(o,so).contains(l)&&!o.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(o,{target:l})=>!(l instanceof HTMLButtonElement)&&p(o,so).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:e}]]))}destroy(){var t,e,i,r,a,o,l,h;(t=p(this,ms))==null||t.resolve(),O(this,ms,null),(e=p(this,rf))==null||e.abort(),O(this,rf,null),this._signal=null;for(const f of p(this,On).values())f.destroy();p(this,On).clear(),p(this,mn).clear(),p(this,Bu).clear(),(i=p(this,Sl))==null||i.clear(),O(this,Br,null),p(this,li).clear(),p(this,gs).destroy(),(r=p(this,sf))==null||r.destroy(),(a=p(this,xl))==null||a.destroy(),(o=p(this,ha))==null||o.hide(),O(this,ha,null),(l=p(this,zu))==null||l.destroy(),O(this,zu,null),p(this,ca)&&(clearTimeout(p(this,ca)),O(this,ca,null)),p(this,fa)&&(clearTimeout(p(this,fa)),O(this,fa,null)),(h=this._editorUndoBar)==null||h.destroy()}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return p(this,lg)}get useNewAltTextFlow(){return p(this,sg)}get useNewAltTextWhenAddingImage(){return p(this,lf)}get hcmFilter(){return Ie(this,"hcmFilter",p(this,Fu)?p(this,ag).addHCMFilter(p(this,Fu).foreground,p(this,Fu).background):"none")}get direction(){return Ie(this,"direction",getComputedStyle(p(this,so)).direction)}get highlightColors(){return Ie(this,"highlightColors",p(this,uf)?new Map(p(this,uf).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return Ie(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),O(this,bl,t)}setMainHighlightColorPicker(t){O(this,zu,t)}editAltText(t,e=!1){var i;(i=p(this,sf))==null||i.editAltText(this,t,e)}getSignature(t){var e;(e=p(this,xl))==null||e.getSignature({uiManager:this,editor:t})}get signatureManager(){return p(this,xl)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":O(this,lf,e);break}}onPageChanging({pageNumber:t}){O(this,of,t-1)}focusMainContainer(){p(this,so).focus()}findParent(t,e){for(const i of p(this,On).values()){const{x:r,y:a,width:o,height:l}=i.div.getBoundingClientRect();if(t>=r&&t<=r+o&&e>=a&&e<=a+l)return i}return null}disableUserSelect(t=!1){p(this,hg).classList.toggle("noUserSelect",t)}addShouldRescale(t){p(this,Bu).add(t)}removeShouldRescale(t){p(this,Bu).delete(t)}onScaleChanging({scale:t}){var e;this.commitOrRemove(),this.viewParameters.realScale=t*iu.PDF_TO_CSS_UNITS;for(const i of p(this,Bu))i.onScaleChanging();(e=p(this,bl))==null||e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:i,anchorOffset:r,focusNode:a,focusOffset:o}=e,l=e.toString(),f=z(this,Vt,m0).call(this,e).closest(".textLayer"),g=this.getSelectionBoxes(f);if(!g)return;e.empty();const m=z(this,Vt,Ow).call(this,f),y=p(this,_n)===_e.NONE,b=()=>{m==null||m.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:g,anchorNode:i,anchorOffset:r,focusNode:a,focusOffset:o,text:l}),y&&this.showAllEditors("highlight",!0,!0)};if(y){this.switchToMode(_e.HIGHLIGHT,b);return}b()}addToAnnotationStorage(t){!t.isEmpty()&&p(this,no)&&!p(this,no).has(t.id)&&p(this,no).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,p(this,Al)&&(O(this,Al,!1),z(this,Vt,v0).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of p(this,li))if(e.div.contains(t)){O(this,Pu,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!p(this,Pu))return;const[t,e]=p(this,Pu);O(this,Pu,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){z(this,Vt,Mw).call(this),z(this,Vt,Lw).call(this)}removeEditListeners(){z(this,Vt,GR).call(this),z(this,Vt,Iw).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const i of p(this,Ps))if(i.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const i of p(this,Ps))if(i.isHandlingMimeForPasting(e.type)){i.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var i;if(t.preventDefault(),(i=p(this,Br))==null||i.commitOrRemove(),!this.hasSelection)return;const e=[];for(const r of p(this,li)){const a=r.serialize(!0);a&&e.push(a)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const a of e.items)for(const o of p(this,Ps))if(o.isHandlingMimeForPasting(a.type)){o.paste(a,this.currentLayer);return}let i=e.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(a){Ee(`paste: "${a.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const a=[];for(const h of i){const f=await r.deserialize(h);if(!f)return;a.push(f)}const o=()=>{for(const h of a)z(this,Vt,Bw).call(this,h);z(this,Vt,Pw).call(this,a)},l=()=>{for(const h of a)h.remove()};this.addCommands({cmd:o,undo:l,mustExec:!0})}catch(a){Ee(`paste: "${a.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),p(this,_n)!==_e.NONE&&!this.isEditorHandlingKeyboard&&Yh._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,p(this,Al)&&(O(this,Al,!1),z(this,Vt,v0).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(z(this,Vt,jR).call(this),z(this,Vt,Lw).call(this),z(this,Vt,sr).call(this,{isEditing:p(this,_n)!==_e.NONE,isEmpty:z(this,Vt,Sp).call(this),hasSomethingToUndo:p(this,gs).hasSomethingToUndo(),hasSomethingToRedo:p(this,gs).hasSomethingToRedo(),hasSelectedEditor:!1})):(z(this,Vt,qR).call(this),z(this,Vt,Iw).call(this),z(this,Vt,sr).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!p(this,Ps)){O(this,Ps,t);for(const e of p(this,Ps))z(this,Vt,Ja).call(this,e.defaultPropertiesToUpdate)}}getId(){return p(this,py).id}get currentLayer(){return p(this,On).get(p(this,of))}getLayer(t){return p(this,On).get(t)}get currentPageIndex(){return p(this,of)}addLayer(t){p(this,On).set(t.pageIndex,t),p(this,_l)?t.enable():t.disable()}removeLayer(t){p(this,On).delete(t.pageIndex)}async updateMode(t,e=null,i=!1){var r,a,o;if(p(this,_n)!==t&&!(p(this,ms)&&(await p(this,ms).promise,!p(this,ms)))){if(O(this,ms,Promise.withResolvers()),(r=p(this,bl))==null||r.commitOrRemove(),O(this,_n,t),t===_e.NONE){this.setEditingState(!1),z(this,Vt,WR).call(this),(a=this._editorUndoBar)==null||a.hide(),p(this,ms).resolve();return}t===_e.SIGNATURE&&await((o=p(this,xl))==null?void 0:o.loadSignatures()),this.setEditingState(!0),await z(this,Vt,$R).call(this),this.unselectAll();for(const l of p(this,On).values())l.updateMode(t);if(!e){i&&this.addNewEditorFromKeyboard(),p(this,ms).resolve();return}for(const l of p(this,mn).values())l.annotationElementId===e||l.id===e?(this.setSelected(l),l.enterInEditMode()):l.unselect();p(this,ms).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==p(this,_n)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){var i;if(p(this,Ps)){switch(t){case Pe.CREATE:this.currentLayer.addNewEditor(e);return;case Pe.HIGHLIGHT_DEFAULT_COLOR:(i=p(this,zu))==null||i.updateColor(e);break;case Pe.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(p(this,ug)||O(this,ug,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const r of p(this,li))r.updateParams(t,e);for(const r of p(this,Ps))r.updateDefaultParams(t,e)}}showAllEditors(t,e,i=!1){var a;for(const o of p(this,mn).values())o.editorType===t&&o.show(e);(((a=p(this,ug))==null?void 0:a.get(Pe.HIGHLIGHT_SHOW_ALL))??!0)!==e&&z(this,Vt,Ja).call(this,[[Pe.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(p(this,og)!==t){O(this,og,t);for(const e of p(this,On).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const i of p(this,mn).values())i.pageIndex===t&&e.push(i);return e}getEditor(t){return p(this,mn).get(t)}addEditor(t){p(this,mn).set(t.id,t)}removeEditor(t){var e,i;t.div.contains(document.activeElement)&&(p(this,ca)&&clearTimeout(p(this,ca)),O(this,ca,setTimeout(()=>{this.focusMainContainer(),O(this,ca,null)},0))),p(this,mn).delete(t.id),t.annotationElementId&&((e=p(this,Sl))==null||e.delete(t.annotationElementId)),this.unselect(t),(!t.annotationElementId||!p(this,Iu).has(t.annotationElementId))&&((i=p(this,no))==null||i.remove(t.id))}addDeletedAnnotationElement(t){p(this,Iu).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return p(this,Iu).has(t)}removeDeletedAnnotationElement(t){p(this,Iu).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){p(this,Br)!==t&&(O(this,Br,t),t&&z(this,Vt,Ja).call(this,t.propertiesToUpdate))}updateUI(t){p(this,Vt,YR)===t&&z(this,Vt,Ja).call(this,t.propertiesToUpdate)}updateUIForDefaultProperties(t){z(this,Vt,Ja).call(this,t.defaultPropertiesToUpdate)}toggleSelected(t){if(p(this,li).has(t)){p(this,li).delete(t),t.unselect(),z(this,Vt,sr).call(this,{hasSelectedEditor:this.hasSelection});return}p(this,li).add(t),t.select(),z(this,Vt,Ja).call(this,t.propertiesToUpdate),z(this,Vt,sr).call(this,{hasSelectedEditor:!0})}setSelected(t){var e;(e=p(this,bl))==null||e.commitOrRemove();for(const i of p(this,li))i!==t&&i.unselect();p(this,li).clear(),p(this,li).add(t),t.select(),z(this,Vt,Ja).call(this,t.propertiesToUpdate),z(this,Vt,sr).call(this,{hasSelectedEditor:!0})}isSelected(t){return p(this,li).has(t)}get firstSelectedEditor(){return p(this,li).values().next().value}unselect(t){t.unselect(),p(this,li).delete(t),z(this,Vt,sr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return p(this,li).size!==0}get isEnterHandled(){return p(this,li).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var t;p(this,gs).undo(),z(this,Vt,sr).call(this,{hasSomethingToUndo:p(this,gs).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:z(this,Vt,Sp).call(this)}),(t=this._editorUndoBar)==null||t.hide()}redo(){p(this,gs).redo(),z(this,Vt,sr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:p(this,gs).hasSomethingToRedo(),isEmpty:z(this,Vt,Sp).call(this)})}addCommands(t){p(this,gs).add(t),z(this,Vt,sr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:z(this,Vt,Sp).call(this)})}cleanUndoStack(t){p(this,gs).cleanType(t)}delete(){var a;this.commitOrRemove();const t=(a=this.currentLayer)==null?void 0:a.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...p(this,li)],i=()=>{var o;(o=this._editorUndoBar)==null||o.show(r,e.length===1?e[0].editorType:e.length);for(const l of e)l.remove()},r=()=>{for(const o of e)z(this,Vt,Bw).call(this,o)};this.addCommands({cmd:i,undo:r,mustExec:!0})}commitOrRemove(){var t;(t=p(this,Br))==null||t.commitOrRemove()}hasSomethingToControl(){return p(this,Br)||this.hasSelection}selectAll(){for(const t of p(this,li))t.commit();z(this,Vt,Pw).call(this,p(this,mn).values())}unselectAll(){var t;if(!(p(this,Br)&&(p(this,Br).commitOrRemove(),p(this,_n)!==_e.NONE))&&!((t=p(this,bl))!=null&&t.commitOrRemove())&&this.hasSelection){for(const e of p(this,li))e.unselect();p(this,li).clear(),z(this,Vt,sr).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;p(this,Cl)[0]+=t,p(this,Cl)[1]+=e;const[r,a]=p(this,Cl),o=[...p(this,li)],l=1e3;p(this,fa)&&clearTimeout(p(this,fa)),O(this,fa,setTimeout(()=>{O(this,fa,null),p(this,Cl)[0]=p(this,Cl)[1]=0,this.addCommands({cmd:()=>{for(const h of o)p(this,mn).has(h.id)&&(h.translateInPage(r,a),h.translationDone())},undo:()=>{for(const h of o)p(this,mn).has(h.id)&&(h.translateInPage(-r,-a),h.translationDone())},mustExec:!1})},l));for(const h of o)h.translateInPage(t,e),h.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),O(this,ua,new Map);for(const t of p(this,li))p(this,ua).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!p(this,ua))return!1;this.disableUserSelect(!1);const t=p(this,ua);O(this,ua,null);let e=!1;for(const[{x:r,y:a,pageIndex:o},l]of t)l.newX=r,l.newY=a,l.newPageIndex=o,e||(e=r!==l.savedX||a!==l.savedY||o!==l.savedPageIndex);if(!e)return!1;const i=(r,a,o,l)=>{if(p(this,mn).has(r.id)){const h=p(this,On).get(l);h?r._setParentAndPosition(h,a,o):(r.pageIndex=l,r.x=a,r.y=o)}};return this.addCommands({cmd:()=>{for(const[r,{newX:a,newY:o,newPageIndex:l}]of t)i(r,a,o,l)},undo:()=>{for(const[r,{savedX:a,savedY:o,savedPageIndex:l}]of t)i(r,a,o,l)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(p(this,ua))for(const i of p(this,ua).keys())i.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||p(this,li).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return p(this,Br)===t}getActive(){return p(this,Br)}getMode(){return p(this,_n)}get imageManager(){return Ie(this,"imageManager",new kw)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let f=0,g=e.rangeCount;f<g;f++)if(!t.contains(e.getRangeAt(f).commonAncestorContainer))return null;const{x:i,y:r,width:a,height:o}=t.getBoundingClientRect();let l;switch(t.getAttribute("data-main-rotation")){case"90":l=(f,g,m,y)=>({x:(g-r)/o,y:1-(f+m-i)/a,width:y/o,height:m/a});break;case"180":l=(f,g,m,y)=>({x:1-(f+m-i)/a,y:1-(g+y-r)/o,width:m/a,height:y/o});break;case"270":l=(f,g,m,y)=>({x:1-(g+y-r)/o,y:(f-i)/a,width:y/o,height:m/a});break;default:l=(f,g,m,y)=>({x:(f-i)/a,y:(g-r)/o,width:m/a,height:y/o});break}const h=[];for(let f=0,g=e.rangeCount;f<g;f++){const m=e.getRangeAt(f);if(!m.collapsed)for(const{x:y,y:b,width:T,height:A}of m.getClientRects())T===0||A===0||h.push(l(y,b,T,A))}return h.length===0?null:h}addChangedExistingAnnotation({annotationElementId:t,id:e}){(p(this,af)||O(this,af,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=p(this,af))==null||e.delete(t)}renderAnnotationElement(t){var r;const e=(r=p(this,af))==null?void 0:r.get(t.data.id);if(!e)return;const i=p(this,no).getRawValue(e);i&&(p(this,_n)===_e.NONE&&!i.hasBeenModified||i.renderAnnotationElement(t))}setMissingCanvas(t,e,i){var a;const r=(a=p(this,Sl))==null?void 0:a.get(t);r&&(r.setCanvas(e,i),p(this,Sl).delete(t))}addMissingCanvas(t,e){(p(this,Sl)||O(this,Sl,new Map)).set(t,e)}};rf=new WeakMap,Br=new WeakMap,mn=new WeakMap,On=new WeakMap,sf=new WeakMap,no=new WeakMap,af=new WeakMap,gs=new WeakMap,yl=new WeakMap,bl=new WeakMap,of=new WeakMap,Iu=new WeakMap,ua=new WeakMap,Ps=new WeakMap,Bu=new WeakMap,rg=new WeakMap,sg=new WeakMap,lf=new WeakMap,ag=new WeakMap,ca=new WeakMap,wl=new WeakMap,uf=new WeakMap,Al=new WeakMap,ha=new WeakMap,py=new WeakMap,_l=new WeakMap,og=new WeakMap,El=new WeakMap,Pu=new WeakMap,zu=new WeakMap,Sl=new WeakMap,lg=new WeakMap,_n=new WeakMap,li=new WeakMap,ro=new WeakMap,xl=new WeakMap,Fu=new WeakMap,ug=new WeakMap,cg=new WeakMap,Cl=new WeakMap,fa=new WeakMap,so=new WeakMap,hg=new WeakMap,ms=new WeakMap,Vt=new WeakSet,m0=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},Ow=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const i of p(this,On).values())if(i.hasTextLayer(t))return i;return null},FR=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const i=z(this,Vt,m0).call(this,t).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(p(this,ha)||O(this,ha,new i4(this)),p(this,ha).show(i,r,this.direction==="ltr"))},UR=function(){var a,o,l;const t=document.getSelection();if(!t||t.isCollapsed){p(this,ro)&&((a=p(this,ha))==null||a.hide(),O(this,ro,null),z(this,Vt,sr).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===p(this,ro))return;const r=z(this,Vt,m0).call(this,t).closest(".textLayer");if(!r){p(this,ro)&&((o=p(this,ha))==null||o.hide(),O(this,ro,null),z(this,Vt,sr).call(this,{hasSelectedText:!1}));return}if((l=p(this,ha))==null||l.hide(),O(this,ro,e),z(this,Vt,sr).call(this,{hasSelectedText:!0}),!(p(this,_n)!==_e.HIGHLIGHT&&p(this,_n)!==_e.NONE)&&(p(this,_n)===_e.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),O(this,Al,this.isShiftKeyDown),!this.isShiftKeyDown)){const h=p(this,_n)===_e.HIGHLIGHT?z(this,Vt,Ow).call(this,r):null;h==null||h.toggleDrawing();const f=new AbortController,g=this.combinedSignal(f),m=y=>{y.type==="pointerup"&&y.button!==0||(f.abort(),h==null||h.toggleDrawing(!0),y.type==="pointerup"&&z(this,Vt,v0).call(this,"main_toolbar"))};window.addEventListener("pointerup",m,{signal:g}),window.addEventListener("blur",m,{signal:g})}},v0=function(t=""){p(this,_n)===_e.HIGHLIGHT?this.highlightSelection(t):p(this,rg)&&z(this,Vt,FR).call(this)},HR=function(){document.addEventListener("selectionchange",z(this,Vt,UR).bind(this),{signal:this._signal})},jR=function(){if(p(this,wl))return;O(this,wl,new AbortController);const t=this.combinedSignal(p(this,wl));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},qR=function(){var t;(t=p(this,wl))==null||t.abort(),O(this,wl,null)},Mw=function(){if(p(this,El))return;O(this,El,new AbortController);const t=this.combinedSignal(p(this,El));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},GR=function(){var t;(t=p(this,El))==null||t.abort(),O(this,El,null)},Lw=function(){if(p(this,yl))return;O(this,yl,new AbortController);const t=this.combinedSignal(p(this,yl));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},Iw=function(){var t;(t=p(this,yl))==null||t.abort(),O(this,yl,null)},VR=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},sr=function(t){Object.entries(t).some(([i,r])=>p(this,cg)[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(p(this,cg),t)}),p(this,_n)===_e.HIGHLIGHT&&t.hasSelectedEditor===!1&&z(this,Vt,Ja).call(this,[[Pe.HIGHLIGHT_FREE,!0]]))},Ja=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},$R=async function(){if(!p(this,_l)){O(this,_l,!0);const t=[];for(const e of p(this,On).values())t.push(e.enable());await Promise.all(t);for(const e of p(this,mn).values())e.enable()}},WR=function(){if(this.unselectAll(),p(this,_l)){O(this,_l,!1);for(const t of p(this,On).values())t.disable();for(const t of p(this,mn).values())t.disable()}},Bw=function(t){const e=p(this,On).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},YR=function(){let t=null;for(t of p(this,li));return t},Sp=function(){if(p(this,mn).size===0)return!0;if(p(this,mn).size===1)for(const t of p(this,mn).values())return t.isEmpty();return!1},Pw=function(t){for(const e of p(this,li))e.unselect();p(this,li).clear();for(const e of t)e.isEmpty()||(p(this,li).add(e),e.select());z(this,Vt,sr).call(this,{hasSelectedEditor:this.hasSelection})},Bt(Yh,"TRANSLATE_SMALL",1),Bt(Yh,"TRANSLATE_BIG",10);let Hc=Yh;var En,da,zs,cf,pa,Pr,hf,ga,_r,ao,Uu,ma,Tl,Zs,xp,y0;const ar=class ar{constructor(t){P(this,Zs);P(this,En,null);P(this,da,!1);P(this,zs,null);P(this,cf,null);P(this,pa,null);P(this,Pr,null);P(this,hf,!1);P(this,ga,null);P(this,_r,null);P(this,ao,null);P(this,Uu,null);P(this,ma,!1);O(this,_r,t),O(this,ma,t._uiManager.useNewAltTextFlow),p(ar,Tl)||O(ar,Tl,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){ar._l10n??(ar._l10n=t)}async render(){const t=O(this,zs,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=O(this,cf,document.createElement("span"));t.append(e),p(this,ma)?(t.classList.add("new"),t.setAttribute("data-l10n-id",p(ar,Tl).missing),e.setAttribute("data-l10n-id",p(ar,Tl)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=p(this,_r)._uiManager._signal;t.addEventListener("contextmenu",Qs,{signal:i}),t.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:i});const r=a=>{a.preventDefault(),p(this,_r)._uiManager.editAltText(p(this,_r)),p(this,ma)&&p(this,_r)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:p(this,Zs,xp)}})};return t.addEventListener("click",r,{capture:!0,signal:i}),t.addEventListener("keydown",a=>{a.target===t&&a.key==="Enter"&&(O(this,hf,!0),r(a))},{signal:i}),await z(this,Zs,y0).call(this),t}finish(){p(this,zs)&&(p(this,zs).focus({focusVisible:p(this,hf)}),O(this,hf,!1))}isEmpty(){return p(this,ma)?p(this,En)===null:!p(this,En)&&!p(this,da)}hasData(){return p(this,ma)?p(this,En)!==null||!!p(this,ao):this.isEmpty()}get guessedText(){return p(this,ao)}async setGuessedText(t){p(this,En)===null&&(O(this,ao,t),O(this,Uu,await ar._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),z(this,Zs,y0).call(this))}toggleAltTextBadge(t=!1){var e;if(!p(this,ma)||p(this,En)){(e=p(this,ga))==null||e.remove(),O(this,ga,null);return}if(!p(this,ga)){const i=O(this,ga,document.createElement("div"));i.className="noAltTextBadge",p(this,_r).div.append(i)}p(this,ga).classList.toggle("hidden",!t)}serialize(t){let e=p(this,En);return!t&&p(this,ao)===e&&(e=p(this,Uu)),{altText:e,decorative:p(this,da),guessedText:p(this,ao),textWithDisclaimer:p(this,Uu)}}get data(){return{altText:p(this,En),decorative:p(this,da)}}set data({altText:t,decorative:e,guessedText:i,textWithDisclaimer:r,cancel:a=!1}){i&&(O(this,ao,i),O(this,Uu,r)),!(p(this,En)===t&&p(this,da)===e)&&(a||(O(this,En,t),O(this,da,e)),z(this,Zs,y0).call(this))}toggle(t=!1){p(this,zs)&&(!t&&p(this,Pr)&&(clearTimeout(p(this,Pr)),O(this,Pr,null)),p(this,zs).disabled=!t)}shown(){p(this,_r)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:p(this,Zs,xp)}})}destroy(){var t,e;(t=p(this,zs))==null||t.remove(),O(this,zs,null),O(this,cf,null),O(this,pa,null),(e=p(this,ga))==null||e.remove(),O(this,ga,null)}};En=new WeakMap,da=new WeakMap,zs=new WeakMap,cf=new WeakMap,pa=new WeakMap,Pr=new WeakMap,hf=new WeakMap,ga=new WeakMap,_r=new WeakMap,ao=new WeakMap,Uu=new WeakMap,ma=new WeakMap,Tl=new WeakMap,Zs=new WeakSet,xp=function(){return p(this,En)&&"added"||p(this,En)===null&&this.guessedText&&"review"||"missing"},y0=async function(){var r,a,o;const t=p(this,zs);if(!t)return;if(p(this,ma)){if(t.classList.toggle("done",!!p(this,En)),t.setAttribute("data-l10n-id",p(ar,Tl)[p(this,Zs,xp)]),(r=p(this,cf))==null||r.setAttribute("data-l10n-id",p(ar,Tl)[`${p(this,Zs,xp)}-label`]),!p(this,En)){(a=p(this,pa))==null||a.remove();return}}else{if(!p(this,En)&&!p(this,da)){t.classList.remove("done"),(o=p(this,pa))==null||o.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=p(this,pa);if(!e){O(this,pa,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${p(this,_r).id}`;const l=100,h=p(this,_r)._uiManager._signal;h.addEventListener("abort",()=>{clearTimeout(p(this,Pr)),O(this,Pr,null)},{once:!0}),t.addEventListener("mouseenter",()=>{O(this,Pr,setTimeout(()=>{O(this,Pr,null),p(this,pa).classList.add("show"),p(this,_r)._reportTelemetry({action:"alt_text_tooltip"})},l))},{signal:h}),t.addEventListener("mouseleave",()=>{var f;p(this,Pr)&&(clearTimeout(p(this,Pr)),O(this,Pr,null)),(f=p(this,pa))==null||f.classList.remove("show")},{signal:h})}p(this,da)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=p(this,En)),e.parentNode||t.append(e);const i=p(this,_r).getElementForAltText();i==null||i.setAttribute("aria-describedby",e.id)},P(ar,Tl,null),Bt(ar,"_l10n",null);let ny=ar;var ff,Hu,fg,dg,pg,gg,mg,oo,ju,lo,qu,uo,ru,XR,KR,ZR;const O_=class O_{constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:i=null,onPinchStart:r=null,onPinching:a=null,onPinchEnd:o=null,signal:l}){P(this,ru);P(this,ff);P(this,Hu,!1);P(this,fg,null);P(this,dg);P(this,pg);P(this,gg);P(this,mg);P(this,oo,null);P(this,ju);P(this,lo,null);P(this,qu);P(this,uo,null);O(this,ff,t),O(this,fg,i),O(this,dg,e),O(this,pg,r),O(this,gg,a),O(this,mg,o),O(this,qu,new AbortController),O(this,ju,AbortSignal.any([l,p(this,qu).signal])),t.addEventListener("touchstart",z(this,ru,XR).bind(this),{passive:!1,signal:p(this,ju)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Na.pixelRatio}destroy(){var t,e;(t=p(this,qu))==null||t.abort(),O(this,qu,null),(e=p(this,oo))==null||e.abort(),O(this,oo,null)}};ff=new WeakMap,Hu=new WeakMap,fg=new WeakMap,dg=new WeakMap,pg=new WeakMap,gg=new WeakMap,mg=new WeakMap,oo=new WeakMap,ju=new WeakMap,lo=new WeakMap,qu=new WeakMap,uo=new WeakMap,ru=new WeakSet,XR=function(t){var r,a,o;if((r=p(this,dg))!=null&&r.call(this))return;if(t.touches.length===1){if(p(this,oo))return;const l=O(this,oo,new AbortController),h=AbortSignal.any([p(this,ju),l.signal]),f=p(this,ff),g={capture:!0,signal:h,passive:!1},m=y=>{var b;y.pointerType==="touch"&&((b=p(this,oo))==null||b.abort(),O(this,oo,null))};f.addEventListener("pointerdown",y=>{y.pointerType==="touch"&&(on(y),m(y))},g),f.addEventListener("pointerup",m,g),f.addEventListener("pointercancel",m,g);return}if(!p(this,uo)){O(this,uo,new AbortController);const l=AbortSignal.any([p(this,ju),p(this,uo).signal]),h=p(this,ff),f={signal:l,capture:!1,passive:!1};h.addEventListener("touchmove",z(this,ru,KR).bind(this),f);const g=z(this,ru,ZR).bind(this);h.addEventListener("touchend",g,f),h.addEventListener("touchcancel",g,f),f.capture=!0,h.addEventListener("pointerdown",on,f),h.addEventListener("pointermove",on,f),h.addEventListener("pointercancel",on,f),h.addEventListener("pointerup",on,f),(a=p(this,pg))==null||a.call(this)}if(on(t),t.touches.length!==2||(o=p(this,fg))!=null&&o.call(this)){O(this,lo,null);return}let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]),O(this,lo,{touch0X:e.screenX,touch0Y:e.screenY,touch1X:i.screenX,touch1Y:i.screenY})},KR=function(t){var N;if(!p(this,lo)||t.touches.length!==2)return;on(t);let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]);const{screenX:r,screenY:a}=e,{screenX:o,screenY:l}=i,h=p(this,lo),{touch0X:f,touch0Y:g,touch1X:m,touch1Y:y}=h,b=m-f,T=y-g,A=o-r,w=l-a,E=Math.hypot(A,w)||1,D=Math.hypot(b,T)||1;if(!p(this,Hu)&&Math.abs(D-E)<=O_.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(h.touch0X=r,h.touch0Y=a,h.touch1X=o,h.touch1Y=l,!p(this,Hu)){O(this,Hu,!0);return}const R=[(r+o)/2,(a+l)/2];(N=p(this,gg))==null||N.call(this,R,D,E)},ZR=function(t){var e;t.touches.length>=2||(p(this,uo)&&(p(this,uo).abort(),O(this,uo,null),(e=p(this,mg))==null||e.call(this)),p(this,lo)&&(on(t),O(this,lo,null),O(this,Hu,!1)))};let ry=O_;var Gu,Fs,Ti,df,Dl,vg,Vu,Mn,$u,co,Rl,yg,Wu,zr,bg,Yu,ho,va,pf,gf,vs,Xu,wg,gy,he,zw,Ag,Fw,b0,QR,JR,Uw,w0,Hw,tk,ek,ik,jw,nk,qw,rk,sk,ak,Gw,Cp;const Ce=class Ce{constructor(t){P(this,he);P(this,Gu,null);P(this,Fs,null);P(this,Ti,null);P(this,df,!1);P(this,Dl,null);P(this,vg,"");P(this,Vu,!1);P(this,Mn,null);P(this,$u,null);P(this,co,null);P(this,Rl,null);P(this,yg,"");P(this,Wu,!1);P(this,zr,null);P(this,bg,!1);P(this,Yu,!1);P(this,ho,!1);P(this,va,null);P(this,pf,0);P(this,gf,0);P(this,vs,null);P(this,Xu,null);Bt(this,"isSelected",!1);Bt(this,"_isCopy",!1);Bt(this,"_editToolbar",null);Bt(this,"_initialOptions",Object.create(null));Bt(this,"_initialData",null);Bt(this,"_isVisible",!0);Bt(this,"_uiManager",null);Bt(this,"_focusEventsAllowed",!0);P(this,wg,!1);P(this,gy,Ce._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:i,pageHeight:r,pageX:a,pageY:o}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[a,o];const[l,h]=this.parentDimensions;this.x=t.x/l,this.y=t.y/h,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=Ce.prototype._resizeWithKeyboard,e=Hc.TRANSLATE_SMALL,i=Hc.TRANSLATE_BIG;return Ie(this,"_resizerKeyboardManager",new Lm([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],Ce.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return Ie(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new s4({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(Ce._l10n??(Ce._l10n=t),Ce._l10nResizer||(Ce._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Ce._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);Ce._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){gi("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return p(this,wg)}set _isDraggable(t){var e;O(this,wg,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=p(this,gy)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):z(this,he,Cp).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(p(this,Wu)?O(this,Wu,!1):this.parent.setSelected(this))}focusout(t){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,i,r){const[a,o]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(t+i)/a,this.y=(e+r)/o,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[i,r]=this.parentDimensions;this.setAt(t*i,e*r,this.width*i,this.height*r),this._onTranslated()}translate(t,e){z(this,he,zw).call(this,this.parentDimensions,t,e)}translateInPage(t,e){p(this,zr)||O(this,zr,[this.x,this.y,this.width,this.height]),z(this,he,zw).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){p(this,zr)||O(this,zr,[this.x,this.y,this.width,this.height]);const{div:i,parentDimensions:[r,a]}=this;if(this.x+=t/r,this.y+=e/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:m,y}=this.div.getBoundingClientRect();this.parent.findNewParent(this,m,y)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:l}=this;const[h,f]=this.getBaseTranslation();o+=h,l+=f;const{style:g}=i;g.left=`${(100*o).toFixed(2)}%`,g.top=`${(100*l).toFixed(2)}%`,this._onTranslating(o,l),i.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!p(this,zr)&&(p(this,zr)[0]!==this.x||p(this,zr)[1]!==this.y)}get _hasBeenResized(){return!!p(this,zr)&&(p(this,zr)[2]!==this.width||p(this,zr)[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:i}=Ce,r=i/t,a=i/e;switch(this.rotation){case 90:return[-r,a];case 180:return[r,a];case 270:return[r,-a];default:return[-r,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[i,r]}=this;let{x:a,y:o,width:l,height:h}=this;if(l*=i,h*=r,a*=i,o*=r,this._mustFixPosition)switch(t){case 0:a=hr(a,0,i-l),o=hr(o,0,r-h);break;case 90:a=hr(a,0,i-h),o=hr(o,l,r);break;case 180:a=hr(a,l,i),o=hr(o,h,r);break;case 270:a=hr(a,h,i),o=hr(o,0,r-l);break}this.x=a/=i,this.y=o/=r;const[f,g]=this.getBaseTranslation();a+=f,o+=g,e.left=`${(100*a).toFixed(2)}%`,e.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var i;return z(i=Ce,Ag,Fw).call(i,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var i;return z(i=Ce,Ag,Fw).call(i,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,i]}=this;return[e*t,i*t]}setDims(t,e){const[i,r]=this.parentDimensions,{style:a}=this.div;a.width=`${(100*t/i).toFixed(2)}%`,p(this,Vu)||(a.height=`${(100*e/r).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:i}=t,r=i.endsWith("%"),a=!p(this,Vu)&&e.endsWith("%");if(r&&a)return;const[o,l]=this.parentDimensions;r||(t.width=`${(100*parseFloat(i)/o).toFixed(2)}%`),!p(this,Vu)&&!a&&(t.height=`${(100*parseFloat(e)/l).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(t){return Math.round(t*1e4)/1e4}_onResizing(){}altTextFinish(){var t;(t=p(this,Ti))==null||t.finish()}async addEditToolbar(){return this._editToolbar||p(this,Yu)?this._editToolbar:(this._editToolbar=new Rw(this),this.div.append(this._editToolbar.render()),p(this,Ti)&&await this._editToolbar.addAltText(p(this,Ti)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=p(this,Ti))==null||t.destroy())}addContainer(t){var i;const e=(i=this._editToolbar)==null?void 0:i.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){p(this,Ti)||(ny.initialize(Ce._l10n),O(this,Ti,new ny(this)),p(this,Gu)&&(p(this,Ti).data=p(this,Gu),O(this,Gu,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=p(this,Ti))==null?void 0:t.data}set altTextData(t){p(this,Ti)&&(p(this,Ti).data=t)}get guessedAltText(){var t;return(t=p(this,Ti))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=p(this,Ti))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=p(this,Ti))==null?void 0:e.serialize(t)}hasAltText(){return!!p(this,Ti)&&!p(this,Ti).isEmpty()}hasAltTextData(){var t;return((t=p(this,Ti))==null?void 0:t.hasData())??!1}render(){var o;const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=p(this,df)?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),z(this,he,qw).call(this);const[e,i]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*i/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/i).toFixed(2)}%`);const[r,a]=this.getInitialTranslation();return this.translate(r,a),PR(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(p(this,Xu)||O(this,Xu,new ry({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:z(this,he,tk).bind(this),onPinching:z(this,he,ek).bind(this),onPinchEnd:z(this,he,ik).bind(this),signal:this._uiManager._signal}))),(o=this._uiManager._editorUndoBar)==null||o.hide(),t}pointerdown(t){const{isMac:e}=qn.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(O(this,Wu,!0),this._isDraggable){z(this,he,nk).call(this,t);return}z(this,he,jw).call(this,t)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){p(this,va)&&clearTimeout(p(this,va)),O(this,va,setTimeout(()=>{var t;O(this,va,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,i){t.changeParent(this),this.x=e,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,i=this.rotation){const r=this.parentScale,[a,o]=this.pageDimensions,[l,h]=this.pageTranslation,f=t/r,g=e/r,m=this.x*a,y=this.y*o,b=this.width*a,T=this.height*o;switch(i){case 0:return[m+f+l,o-y-g-T+h,m+f+b+l,o-y-g+h];case 90:return[m+g+l,o-y+f+h,m+g+T+l,o-y+f+b+h];case 180:return[m-f-b+l,o-y+g+h,m-f+l,o-y+g+T+h];case 270:return[m-g-T+l,o-y-f-b+h,m-g+l,o-y-f+h];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[i,r,a,o]=t,l=a-i,h=o-r;switch(this.rotation){case 0:return[i,e-o,l,h];case 90:return[i,e-r,h,l];case 180:return[a,e-r,l,h];case 270:return[a,e-o,h,l];default:throw new Error("Invalid rotation")}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),O(this,Yu,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),O(this,Yu,!1),!0):!1}isInEditMode(){return p(this,Yu)}shouldGetKeyboardEvents(){return p(this,ho)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:i,right:r}=this.getClientDimensions(),{innerHeight:a,innerWidth:o}=window;return e<o&&r>0&&t<a&&i>0}rebuild(){z(this,he,qw).call(this)}rotate(t){}resize(){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){gi("An editor must be serializable")}static async deserialize(t,e,i){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:i});r.rotation=t.rotation,O(r,Gu,t.accessibilityData),r._isCopy=t.isCopy||!1;const[a,o]=r.pageDimensions,[l,h,f,g]=r.getRectInCurrentCoords(t.rect,o);return r.x=l/a,r.y=h/o,r.width=f/a,r.height=g/o,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t,e;if((t=p(this,Rl))==null||t.abort(),O(this,Rl,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),p(this,va)&&(clearTimeout(p(this,va)),O(this,va,null)),z(this,he,Cp).call(this),this.removeEditToolbar(),p(this,vs)){for(const i of p(this,vs).values())clearTimeout(i);O(this,vs,null)}this.parent=null,(e=p(this,Xu))==null||e.destroy(),O(this,Xu,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(z(this,he,QR).call(this),p(this,Mn).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),O(this,co,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=p(this,Mn).children;if(!p(this,Fs)){O(this,Fs,Array.from(e));const o=z(this,he,rk).bind(this),l=z(this,he,sk).bind(this),h=this._uiManager._signal;for(const f of p(this,Fs)){const g=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",o,{signal:h}),f.addEventListener("blur",l,{signal:h}),f.addEventListener("focus",z(this,he,ak).bind(this,g),{signal:h}),f.setAttribute("data-l10n-id",Ce._l10nResizer[g])}}const i=p(this,Fs)[0];let r=0;for(const o of e){if(o===i)break;r++}const a=(360-this.rotation+this.parentRotation)%360/90*(p(this,Fs).length/4);if(a!==r){if(a<r)for(let l=0;l<r-a;l++)p(this,Mn).append(p(this,Mn).firstChild);else if(a>r)for(let l=0;l<a-r;l++)p(this,Mn).firstChild.before(p(this,Mn).lastChild);let o=0;for(const l of e){const f=p(this,Fs)[o++].getAttribute("data-resizer-name");l.setAttribute("data-l10n-id",Ce._l10nResizer[f])}}z(this,he,Gw).call(this,0),O(this,ho,!0),p(this,Mn).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){p(this,ho)&&z(this,he,Hw).call(this,p(this,yg),{deltaX:t,deltaY:e,fromKeyboard:!0})}_stopResizingWithKeyboard(){z(this,he,Cp).call(this),this.div.focus()}select(){var t,e,i;if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,a;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((a=this._editToolbar)==null||a.show())});return}(e=this._editToolbar)==null||e.show(),(i=p(this,Ti))==null||i.toggleAltTextBadge(!1)}}unselect(){var t,e,i,r,a;this.isSelected&&(this.isSelected=!1,(t=p(this,Mn))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(a=p(this,Ti))==null||a.toggleAltTextBadge(!0))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return p(this,bg)}set isEditing(t){O(this,bg,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){O(this,Vu,!0);const i=t/e,{style:r}=this.div;r.aspectRatio=i,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){p(this,vs)||O(this,vs,new Map);const{action:i}=t;let r=p(this,vs).get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),p(this,vs).delete(i),p(this,vs).size===0&&O(this,vs,null)},Ce._telemetryTimeout),p(this,vs).set(i,r);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),O(this,df,!1)}disable(){this.div&&(this.div.tabIndex=-1),O(this,df,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const i=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),i.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};Gu=new WeakMap,Fs=new WeakMap,Ti=new WeakMap,df=new WeakMap,Dl=new WeakMap,vg=new WeakMap,Vu=new WeakMap,Mn=new WeakMap,$u=new WeakMap,co=new WeakMap,Rl=new WeakMap,yg=new WeakMap,Wu=new WeakMap,zr=new WeakMap,bg=new WeakMap,Yu=new WeakMap,ho=new WeakMap,va=new WeakMap,pf=new WeakMap,gf=new WeakMap,vs=new WeakMap,Xu=new WeakMap,wg=new WeakMap,gy=new WeakMap,he=new WeakSet,zw=function([t,e],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/t,this.y+=r/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},Ag=new WeakSet,Fw=function(t,e,i){switch(i){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},b0=function(t){switch(t){case 90:{const[e,i]=this.pageDimensions;return[0,-e/i,i/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,i]=this.pageDimensions;return[0,e/i,-i/e,0]}default:return[1,0,0,1]}},QR=function(){if(p(this,Mn))return;O(this,Mn,document.createElement("div")),p(this,Mn).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const i of t){const r=document.createElement("div");p(this,Mn).append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",z(this,he,JR).bind(this,i),{signal:e}),r.addEventListener("contextmenu",Qs,{signal:e}),r.tabIndex=-1}this.div.prepend(p(this,Mn))},JR=function(t,e){var g;e.preventDefault();const{isMac:i}=qn.platform;if(e.button!==0||e.ctrlKey&&i)return;(g=p(this,Ti))==null||g.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,O(this,$u,[e.screenX,e.screenY]);const a=new AbortController,o=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",z(this,he,Hw).bind(this,t),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",on,{passive:!1,signal:o}),window.addEventListener("contextmenu",Qs,{signal:o}),O(this,co,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const l=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const f=()=>{var m;a.abort(),this.parent.togglePointerEvents(!0),(m=p(this,Ti))==null||m.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=l,this.div.style.cursor=h,z(this,he,w0).call(this)};window.addEventListener("pointerup",f,{signal:o}),window.addEventListener("blur",f,{signal:o})},Uw=function(t,e,i,r){this.width=i,this.height=r,this.x=t,this.y=e;const[a,o]=this.parentDimensions;this.setDims(a*i,o*r),this.fixAndSetPosition(),this._onResized()},w0=function(){if(!p(this,co))return;const{savedX:t,savedY:e,savedWidth:i,savedHeight:r}=p(this,co);O(this,co,null);const a=this.x,o=this.y,l=this.width,h=this.height;a===t&&o===e&&l===i&&h===r||this.addCommands({cmd:z(this,he,Uw).bind(this,a,o,l,h),undo:z(this,he,Uw).bind(this,t,e,i,r),mustExec:!0})},Hw=function(t,e){const[i,r]=this.parentDimensions,a=this.x,o=this.y,l=this.width,h=this.height,f=Ce.MIN_SIZE/i,g=Ce.MIN_SIZE/r,m=z(this,he,b0).call(this,this.rotation),y=(X,Z)=>[m[0]*X+m[2]*Z,m[1]*X+m[3]*Z],b=z(this,he,b0).call(this,360-this.rotation),T=(X,Z)=>[b[0]*X+b[2]*Z,b[1]*X+b[3]*Z];let A,w,E=!1,D=!1;switch(t){case"topLeft":E=!0,A=(X,Z)=>[0,0],w=(X,Z)=>[X,Z];break;case"topMiddle":A=(X,Z)=>[X/2,0],w=(X,Z)=>[X/2,Z];break;case"topRight":E=!0,A=(X,Z)=>[X,0],w=(X,Z)=>[0,Z];break;case"middleRight":D=!0,A=(X,Z)=>[X,Z/2],w=(X,Z)=>[0,Z/2];break;case"bottomRight":E=!0,A=(X,Z)=>[X,Z],w=(X,Z)=>[0,0];break;case"bottomMiddle":A=(X,Z)=>[X/2,Z],w=(X,Z)=>[X/2,0];break;case"bottomLeft":E=!0,A=(X,Z)=>[0,Z],w=(X,Z)=>[X,0];break;case"middleLeft":D=!0,A=(X,Z)=>[0,Z/2],w=(X,Z)=>[X,Z/2];break}const R=A(l,h),N=w(l,h);let x=y(...N);const L=Ce._round(a+x[0]),I=Ce._round(o+x[1]);let U=1,F=1,k,$;if(e.fromKeyboard)({deltaX:k,deltaY:$}=e);else{const{screenX:X,screenY:Z}=e,[ct,_t]=p(this,$u);[k,$]=this.screenToPageTranslation(X-ct,Z-_t),p(this,$u)[0]=X,p(this,$u)[1]=Z}if([k,$]=T(k/i,$/r),E){const X=Math.hypot(l,h);U=F=Math.max(Math.min(Math.hypot(N[0]-R[0]-k,N[1]-R[1]-$)/X,1/l,1/h),f/l,g/h)}else D?U=hr(Math.abs(N[0]-R[0]-k),f,1)/l:F=hr(Math.abs(N[1]-R[1]-$),g,1)/h;const Y=Ce._round(l*U),J=Ce._round(h*F);x=y(...w(Y,J));const ft=L-x[0],bt=I-x[1];p(this,zr)||O(this,zr,[this.x,this.y,this.width,this.height]),this.width=Y,this.height=J,this.x=ft,this.y=bt,this.setDims(i*Y,r*J),this.fixAndSetPosition(),this._onResizing()},tk=function(){var t;O(this,co,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(t=p(this,Ti))==null||t.toggle(!1),this.parent.togglePointerEvents(!1)},ek=function(t,e,i){let a=.7*(i/e)+1-.7;if(a===1)return;const o=z(this,he,b0).call(this,this.rotation),l=(L,I)=>[o[0]*L+o[2]*I,o[1]*L+o[3]*I],[h,f]=this.parentDimensions,g=this.x,m=this.y,y=this.width,b=this.height,T=Ce.MIN_SIZE/h,A=Ce.MIN_SIZE/f;a=Math.max(Math.min(a,1/y,1/b),T/y,A/b);const w=Ce._round(y*a),E=Ce._round(b*a);if(w===y&&E===b)return;p(this,zr)||O(this,zr,[g,m,y,b]);const D=l(y/2,b/2),R=Ce._round(g+D[0]),N=Ce._round(m+D[1]),x=l(w/2,E/2);this.x=R-x[0],this.y=N-x[1],this.width=w,this.height=E,this.setDims(h*w,f*E),this.fixAndSetPosition(),this._onResizing()},ik=function(){var t;(t=p(this,Ti))==null||t.toggle(!0),this.parent.togglePointerEvents(!0),z(this,he,w0).call(this)},jw=function(t){const{isMac:e}=qn.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},nk=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let i=!1;const r=new AbortController,a=this._uiManager.combinedSignal(r),o={capture:!0,passive:!1,signal:a},l=f=>{r.abort(),O(this,Dl,null),O(this,Wu,!1),this._uiManager.endDragSession()||z(this,he,jw).call(this,f),i&&this._onStopDragging()};e&&(O(this,pf,t.clientX),O(this,gf,t.clientY),O(this,Dl,t.pointerId),O(this,vg,t.pointerType),window.addEventListener("pointermove",f=>{i||(i=!0,this._onStartDragging());const{clientX:g,clientY:m,pointerId:y}=f;if(y!==p(this,Dl)){on(f);return}const[b,T]=this.screenToPageTranslation(g-p(this,pf),m-p(this,gf));O(this,pf,g),O(this,gf,m),this._uiManager.dragSelectedEditors(b,T)},o),window.addEventListener("touchmove",on,o),window.addEventListener("pointerdown",f=>{f.pointerType===p(this,vg)&&(p(this,Xu)||f.isPrimary)&&l(f),on(f)},o));const h=f=>{if(!p(this,Dl)||p(this,Dl)===f.pointerId){l(f);return}on(f)};window.addEventListener("pointerup",h,{signal:a}),window.addEventListener("blur",h,{signal:a})},qw=function(){if(p(this,Rl)||!this.div)return;O(this,Rl,new AbortController);const t=this._uiManager.combinedSignal(p(this,Rl));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},rk=function(t){Ce._resizerKeyboardManager.exec(this,t)},sk=function(t){var e;p(this,ho)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==p(this,Mn)&&z(this,he,Cp).call(this)},ak=function(t){O(this,yg,p(this,ho)?t:"")},Gw=function(t){if(p(this,Fs))for(const e of p(this,Fs))e.tabIndex=t},Cp=function(){O(this,ho,!1),z(this,he,Gw).call(this,-1),z(this,he,w0).call(this)},P(Ce,Ag),Bt(Ce,"_l10n",null),Bt(Ce,"_l10nResizer",null),Bt(Ce,"_borderLineWidth",-1),Bt(Ce,"_colorManager",new Nw),Bt(Ce,"_zIndex",1),Bt(Ce,"_telemetryTimeout",1e3);let xi=Ce;class s4 extends xi{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const tD=3285377520,ds=4294901760,oa=65535;class ok{constructor(t){this.h1=t?t&4294967295:tD,this.h2=t?t&4294967295:tD}update(t){let e,i;if(typeof t=="string"){e=new Uint8Array(t.length*2),i=0;for(let A=0,w=t.length;A<w;A++){const E=t.charCodeAt(A);E<=255?e[i++]=E:(e[i++]=E>>>8,e[i++]=E&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),i=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,a=i-r*4,o=new Uint32Array(e.buffer,0,r);let l=0,h=0,f=this.h1,g=this.h2;const m=3432918353,y=461845907,b=m&oa,T=y&oa;for(let A=0;A<r;A++)A&1?(l=o[A],l=l*m&ds|l*b&oa,l=l<<15|l>>>17,l=l*y&ds|l*T&oa,f^=l,f=f<<13|f>>>19,f=f*5+3864292196):(h=o[A],h=h*m&ds|h*b&oa,h=h<<15|h>>>17,h=h*y&ds|h*T&oa,g^=h,g=g<<13|g>>>19,g=g*5+3864292196);switch(l=0,a){case 3:l^=e[r*4+2]<<16;case 2:l^=e[r*4+1]<<8;case 1:l^=e[r*4],l=l*m&ds|l*b&oa,l=l<<15|l>>>17,l=l*y&ds|l*T&oa,r&1?f^=l:g^=l}this.h1=f,this.h2=g}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&ds|t*36045&oa,e=e*4283543511&ds|((e<<16|t>>>16)*2950163797&ds)>>>16,t^=e>>>1,t=t*444984403&ds|t*60499&oa,e=e*3301882366&ds|((e<<16|t>>>16)*3120437893&ds)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const Vw=Object.freeze({map:null,hash:"",transfer:void 0});var Ku,Zu,Ln,my,lk;class x_{constructor(){P(this,my);P(this,Ku,!1);P(this,Zu,null);P(this,Ln,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const i=p(this,Ln).get(t);return i===void 0?e:Object.assign(e,i)}getRawValue(t){return p(this,Ln).get(t)}remove(t){if(p(this,Ln).delete(t),p(this,Ln).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of p(this,Ln).values())if(e instanceof xi)return;this.onAnnotationEditor(null)}}setValue(t,e){const i=p(this,Ln).get(t);let r=!1;if(i!==void 0)for(const[a,o]of Object.entries(e))i[a]!==o&&(r=!0,i[a]=o);else r=!0,p(this,Ln).set(t,e);r&&z(this,my,lk).call(this),e instanceof xi&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return p(this,Ln).has(t)}get size(){return p(this,Ln).size}resetModified(){p(this,Ku)&&(O(this,Ku,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new uk(this)}get serializable(){if(p(this,Ln).size===0)return Vw;const t=new Map,e=new ok,i=[],r=Object.create(null);let a=!1;for(const[o,l]of p(this,Ln)){const h=l instanceof xi?l.serialize(!1,r):l;h&&(t.set(o,h),e.update(`${o}:${JSON.stringify(h)}`),a||(a=!!h.bitmap))}if(a)for(const o of t.values())o.bitmap&&i.push(o.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:i}:Vw}get editorStats(){let t=null;const e=new Map;for(const i of p(this,Ln).values()){if(!(i instanceof xi))continue;const r=i.telemetryFinalData;if(!r)continue;const{type:a}=r;e.has(a)||e.set(a,Object.getPrototypeOf(i).constructor),t||(t=Object.create(null));const o=t[a]||(t[a]=new Map);for(const[l,h]of Object.entries(r)){if(l==="type")continue;let f=o.get(l);f||(f=new Map,o.set(l,f));const g=f.get(h)??0;f.set(h,g+1)}}for(const[i,r]of e)t[i]=r.computeTelemetryFinalData(t[i]);return t}resetModifiedIds(){O(this,Zu,null)}get modifiedIds(){if(p(this,Zu))return p(this,Zu);const t=[];for(const e of p(this,Ln).values())!(e instanceof xi)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return O(this,Zu,{ids:new Set(t),hash:t.join(",")})}[Symbol.iterator](){return p(this,Ln).entries()}}Ku=new WeakMap,Zu=new WeakMap,Ln=new WeakMap,my=new WeakSet,lk=function(){p(this,Ku)||(O(this,Ku,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var _g;class uk extends x_{constructor(e){super();P(this,_g);const{map:i,hash:r,transfer:a}=e.serializable,o=structuredClone(i,a?{transfer:a}:null);O(this,_g,{map:o,hash:r,transfer:a})}get print(){gi("Should not call PrintAnnotationStorage.print")}get serializable(){return p(this,_g)}get modifiedIds(){return Ie(this,"modifiedIds",{ids:new Set,hash:""})}}_g=new WeakMap;var mf;class a4{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){P(this,mf,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),p(this,mf).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:i}){if(!(!t||p(this,mf).has(t.loadedName))){if(un(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:a,style:o}=t,l=new FontFace(r,a,o);this.addNativeFontFace(l);try{await l.load(),p(this,mf).add(r),i==null||i(t)}catch{Ee(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(l)}return}gi("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw Ee(`Failed to load font '${i.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return Ie(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return Ie(this,"isSyncFontLoadingSupported",cr||qn.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(un(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const a=i.shift();setTimeout(a.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:e,callback:t};return i.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ie(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function i(N,x){return N.charCodeAt(x)<<24|N.charCodeAt(x+1)<<16|N.charCodeAt(x+2)<<8|N.charCodeAt(x+3)&255}function r(N,x,L,I){const U=N.substring(0,x),F=N.substring(x+L);return U+I+F}let a,o;const l=this._document.createElement("canvas");l.width=1,l.height=1;const h=l.getContext("2d");let f=0;function g(N,x){if(++f>30){Ee("Load test font never loaded."),x();return}if(h.font="30px "+N,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0){x();return}setTimeout(g.bind(null,N,x))}const m=`lt${Date.now()}${this.loadTestFontId++}`;let y=this._loadTestFont;y=r(y,976,m.length,m);const T=16,A=1482184792;let w=i(y,T);for(a=0,o=m.length-3;a<o;a+=4)w=w-A+i(m,a)|0;a<m.length&&(w=w-A+i(m+"XXX",a)|0),y=r(y,T,4,G5(w));const E=`url(data:font/opentype;base64,${btoa(y)});`,D=`@font-face {font-family:"${m}";src:${E}}`;this.insertRule(D);const R=this._document.createElement("div");R.style.visibility="hidden",R.style.width=R.style.height="10px",R.style.position="absolute",R.style.top=R.style.left="0px";for(const N of[t.loadedName,m]){const x=this._document.createElement("span");x.textContent="Hi",x.style.fontFamily=N,R.append(x)}this._document.body.append(R),g(m,()=>{R.remove(),e.complete()})}}mf=new WeakMap;class o4{constructor(t,e=null){this.compiledGlyphs=Object.create(null);for(const i in t)this[i]=t[i];this._inspectFont=e}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${RR(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${t}}`}return(i=this._inspectFont)==null||i.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const i=this.loadedName+"_path_"+e;let r;try{r=t.get(i)}catch(o){Ee(`getPathGenerator - ignoring character: "${o}".`)}const a=new Path2D(r||"");return this.fontExtraProperties||t.delete(i),this.compiledGlyphs[e]=a}}function l4(u){if(u instanceof URL)return u.href;if(typeof u=="string"){if(cr)return u;const t=URL.parse(u,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function u4(u){if(cr&&typeof Buffer<"u"&&u instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(u instanceof Uint8Array&&u.byteLength===u.buffer.byteLength)return u;if(typeof u=="string")return Nm(u);if(u instanceof ArrayBuffer||ArrayBuffer.isView(u)||typeof u=="object"&&!isNaN(u==null?void 0:u.length))return new Uint8Array(u);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Jv(u){if(typeof u!="string")return null;if(u.endsWith("/"))return u;throw new Error(`Invalid factory url: "${u}" must include trailing slash.`)}const $w=u=>typeof u=="object"&&Number.isInteger(u==null?void 0:u.num)&&u.num>=0&&Number.isInteger(u==null?void 0:u.gen)&&u.gen>=0,c4=u=>typeof u=="object"&&typeof(u==null?void 0:u.name)=="string",h4=X5.bind(null,$w,c4);var fo,vy;class f4{constructor(){P(this,fo,new Map);P(this,vy,Promise.resolve())}postMessage(t,e){const i={data:structuredClone(t,e?{transfer:e}:null)};p(this,vy).then(()=>{for(const[r]of p(this,fo))r.call(this,i)})}addEventListener(t,e,i=null){let r=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:a}=i;if(a.aborted){Ee("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(t,e);r=()=>a.removeEventListener("abort",o),a.addEventListener("abort",o)}p(this,fo).set(e,r)}removeEventListener(t,e){const i=p(this,fo).get(e);i==null||i(),p(this,fo).delete(e)}terminate(){for(const[,t]of p(this,fo))t==null||t();p(this,fo).clear()}}fo=new WeakMap,vy=new WeakMap;const t0={DATA:1,ERROR:2},sn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function eD(){}function wr(u){if(u instanceof eu||u instanceof Cw||u instanceof ZT||u instanceof iy||u instanceof ew)return u;switch(u instanceof Error||typeof u=="object"&&u!==null||gi('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),u.name){case"AbortException":return new eu(u.message);case"InvalidPDFException":return new Cw(u.message);case"PasswordException":return new ZT(u.message,u.code);case"ResponseException":return new iy(u.message,u.status,u.missing);case"UnknownErrorException":return new ew(u.message,u.details)}return new ew(u.message,u.toString())}var vf,Cs,ck,hk,fk,A0;class Tp{constructor(t,e,i){P(this,Cs);P(this,vf,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",z(this,Cs,ck).bind(this),{signal:p(this,vf).signal})}on(t,e){const i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=e}send(t,e,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},i)}sendWithPromise(t,e,i){const r=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[r]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},i)}catch(o){a.reject(o)}return a.promise}sendWithStream(t,e,i,r){const a=this.streamId++,o=this.sourceName,l=this.targetName,h=this.comObj;return new ReadableStream({start:f=>{const g=Promise.withResolvers();return this.streamControllers[a]={controller:f,startCall:g,pullCall:null,cancelCall:null,isClosed:!1},h.postMessage({sourceName:o,targetName:l,action:t,streamId:a,data:e,desiredSize:f.desiredSize},r),g.promise},pull:f=>{const g=Promise.withResolvers();return this.streamControllers[a].pullCall=g,h.postMessage({sourceName:o,targetName:l,stream:sn.PULL,streamId:a,desiredSize:f.desiredSize}),g.promise},cancel:f=>{un(f instanceof Error,"cancel must have a valid reason");const g=Promise.withResolvers();return this.streamControllers[a].cancelCall=g,this.streamControllers[a].isClosed=!0,h.postMessage({sourceName:o,targetName:l,stream:sn.CANCEL,streamId:a,reason:wr(f)}),g.promise}},i)}destroy(){var t;(t=p(this,vf))==null||t.abort(),O(this,vf,null)}}vf=new WeakMap,Cs=new WeakSet,ck=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){z(this,Cs,fk).call(this,t);return}if(t.callback){const i=t.callbackId,r=this.callbackCapabilities[i];if(!r)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],t.callback===t0.DATA)r.resolve(t.data);else if(t.callback===t0.ERROR)r.reject(wr(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const i=this.sourceName,r=t.sourceName,a=this.comObj;Promise.try(e,t.data).then(function(o){a.postMessage({sourceName:i,targetName:r,callback:t0.DATA,callbackId:t.callbackId,data:o})},function(o){a.postMessage({sourceName:i,targetName:r,callback:t0.ERROR,callbackId:t.callbackId,reason:wr(o)})});return}if(t.streamId){z(this,Cs,hk).call(this,t);return}e(t.data)},hk=function(t){const e=t.streamId,i=this.sourceName,r=t.sourceName,a=this.comObj,o=this,l=this.actionHandler[t.action],h={enqueue(f,g=1,m){if(this.isCancelled)return;const y=this.desiredSize;this.desiredSize-=g,y>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:i,targetName:r,stream:sn.ENQUEUE,streamId:e,chunk:f},m)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:i,targetName:r,stream:sn.CLOSE,streamId:e}),delete o.streamSinks[e])},error(f){un(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:i,targetName:r,stream:sn.ERROR,streamId:e,reason:wr(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[e]=h,Promise.try(l,t.data,h).then(function(){a.postMessage({sourceName:i,targetName:r,stream:sn.START_COMPLETE,streamId:e,success:!0})},function(f){a.postMessage({sourceName:i,targetName:r,stream:sn.START_COMPLETE,streamId:e,reason:wr(f)})})},fk=function(t){const e=t.streamId,i=this.sourceName,r=t.sourceName,a=this.comObj,o=this.streamControllers[e],l=this.streamSinks[e];switch(t.stream){case sn.START_COMPLETE:t.success?o.startCall.resolve():o.startCall.reject(wr(t.reason));break;case sn.PULL_COMPLETE:t.success?o.pullCall.resolve():o.pullCall.reject(wr(t.reason));break;case sn.PULL:if(!l){a.postMessage({sourceName:i,targetName:r,stream:sn.PULL_COMPLETE,streamId:e,success:!0});break}l.desiredSize<=0&&t.desiredSize>0&&l.sinkCapability.resolve(),l.desiredSize=t.desiredSize,Promise.try(l.onPull||eD).then(function(){a.postMessage({sourceName:i,targetName:r,stream:sn.PULL_COMPLETE,streamId:e,success:!0})},function(f){a.postMessage({sourceName:i,targetName:r,stream:sn.PULL_COMPLETE,streamId:e,reason:wr(f)})});break;case sn.ENQUEUE:if(un(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(t.chunk);break;case sn.CLOSE:if(un(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),z(this,Cs,A0).call(this,o,e);break;case sn.ERROR:un(o,"error should have stream controller"),o.controller.error(wr(t.reason)),z(this,Cs,A0).call(this,o,e);break;case sn.CANCEL_COMPLETE:t.success?o.cancelCall.resolve():o.cancelCall.reject(wr(t.reason)),z(this,Cs,A0).call(this,o,e);break;case sn.CANCEL:if(!l)break;const h=wr(t.reason);Promise.try(l.onCancel||eD,h).then(function(){a.postMessage({sourceName:i,targetName:r,stream:sn.CANCEL_COMPLETE,streamId:e,success:!0})},function(f){a.postMessage({sourceName:i,targetName:r,stream:sn.CANCEL_COMPLETE,streamId:e,reason:wr(f)})}),l.sinkCapability.reject(h),l.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},A0=async function(t,e){var i,r,a;await Promise.allSettled([(i=t.startCall)==null?void 0:i.promise,(r=t.pullCall)==null?void 0:r.promise,(a=t.cancelCall)==null?void 0:a.promise]),delete this.streamControllers[e]};var Eg;class dk{constructor({enableHWA:t=!1}){P(this,Eg,!1);O(this,Eg,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(t,e);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!p(this,Eg)})}}reset(t,e,i){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){gi("Abstract method `_createCanvas` called.")}}Eg=new WeakMap;class d4 extends dk{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const i=this._document.createElement("canvas");return i.width=t,i.height=e,i}}class pk{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){gi("Abstract method `_fetch` called.")}}class iD extends pk{async _fetch(t){const e=await Om(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):Nm(e)}}class gk{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,i,r,a){return"none"}destroy(t=!1){}}var Qu,yf,po,go,Qn,Ju,tc,Kt,Kn,Dp,Uh,_0,Hh,mk,Ww,jh,Rp,kp,Yw,Np;class p4 extends gk{constructor({docId:e,ownerDocument:i=globalThis.document}){super();P(this,Kt);P(this,Qu);P(this,yf);P(this,po);P(this,go);P(this,Qn);P(this,Ju);P(this,tc,0);O(this,go,e),O(this,Qn,i)}addFilter(e){if(!e)return"none";let i=p(this,Kt,Kn).get(e);if(i)return i;const[r,a,o]=z(this,Kt,_0).call(this,e),l=e.length===1?r:`${r}${a}${o}`;if(i=p(this,Kt,Kn).get(l),i)return p(this,Kt,Kn).set(e,i),i;const h=`g_${p(this,go)}_transfer_map_${nr(this,tc)._++}`,f=z(this,Kt,Hh).call(this,h);p(this,Kt,Kn).set(e,f),p(this,Kt,Kn).set(l,f);const g=z(this,Kt,jh).call(this,h);return z(this,Kt,kp).call(this,r,a,o,g),f}addHCMFilter(e,i){var T;const r=`${e}-${i}`,a="base";let o=p(this,Kt,Dp).get(a);if((o==null?void 0:o.key)===r||(o?((T=o.filter)==null||T.remove(),o.key=r,o.url="none",o.filter=null):(o={key:r,url:"none",filter:null},p(this,Kt,Dp).set(a,o)),!e||!i))return o.url;const l=z(this,Kt,Np).call(this,e);e=le.makeHexColor(...l);const h=z(this,Kt,Np).call(this,i);if(i=le.makeHexColor(...h),p(this,Kt,Uh).style.color="",e==="#000000"&&i==="#ffffff"||e===i)return o.url;const f=new Array(256);for(let A=0;A<=255;A++){const w=A/255;f[A]=w<=.03928?w/12.92:((w+.055)/1.055)**2.4}const g=f.join(","),m=`g_${p(this,go)}_hcm_filter`,y=o.filter=z(this,Kt,jh).call(this,m);z(this,Kt,kp).call(this,g,g,g,y),z(this,Kt,Ww).call(this,y);const b=(A,w)=>{const E=l[A]/255,D=h[A]/255,R=new Array(w+1);for(let N=0;N<=w;N++)R[N]=E+N/w*(D-E);return R.join(",")};return z(this,Kt,kp).call(this,b(0,5),b(1,5),b(2,5),y),o.url=z(this,Kt,Hh).call(this,m),o.url}addAlphaFilter(e){let i=p(this,Kt,Kn).get(e);if(i)return i;const[r]=z(this,Kt,_0).call(this,[e]),a=`alpha_${r}`;if(i=p(this,Kt,Kn).get(a),i)return p(this,Kt,Kn).set(e,i),i;const o=`g_${p(this,go)}_alpha_map_${nr(this,tc)._++}`,l=z(this,Kt,Hh).call(this,o);p(this,Kt,Kn).set(e,l),p(this,Kt,Kn).set(a,l);const h=z(this,Kt,jh).call(this,o);return z(this,Kt,Yw).call(this,r,h),l}addLuminosityFilter(e){let i=p(this,Kt,Kn).get(e||"luminosity");if(i)return i;let r,a;if(e?([r]=z(this,Kt,_0).call(this,[e]),a=`luminosity_${r}`):a="luminosity",i=p(this,Kt,Kn).get(a),i)return p(this,Kt,Kn).set(e,i),i;const o=`g_${p(this,go)}_luminosity_map_${nr(this,tc)._++}`,l=z(this,Kt,Hh).call(this,o);p(this,Kt,Kn).set(e,l),p(this,Kt,Kn).set(a,l);const h=z(this,Kt,jh).call(this,o);return z(this,Kt,mk).call(this,h),e&&z(this,Kt,Yw).call(this,r,h),l}addHighlightHCMFilter(e,i,r,a,o){var D;const l=`${i}-${r}-${a}-${o}`;let h=p(this,Kt,Dp).get(e);if((h==null?void 0:h.key)===l||(h?((D=h.filter)==null||D.remove(),h.key=l,h.url="none",h.filter=null):(h={key:l,url:"none",filter:null},p(this,Kt,Dp).set(e,h)),!i||!r))return h.url;const[f,g]=[i,r].map(z(this,Kt,Np).bind(this));let m=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),y=Math.round(.2126*g[0]+.7152*g[1]+.0722*g[2]),[b,T]=[a,o].map(z(this,Kt,Np).bind(this));y<m&&([m,y,b,T]=[y,m,T,b]),p(this,Kt,Uh).style.color="";const A=(R,N,x)=>{const L=new Array(256),I=(y-m)/x,U=R/255,F=(N-R)/(255*x);let k=0;for(let $=0;$<=x;$++){const Y=Math.round(m+$*I),J=U+$*F;for(let ft=k;ft<=Y;ft++)L[ft]=J;k=Y+1}for(let $=k;$<256;$++)L[$]=L[k-1];return L.join(",")},w=`g_${p(this,go)}_hcm_${e}_filter`,E=h.filter=z(this,Kt,jh).call(this,w);return z(this,Kt,Ww).call(this,E),z(this,Kt,kp).call(this,A(b[0],T[0],5),A(b[1],T[1],5),A(b[2],T[2],5),E),h.url=z(this,Kt,Hh).call(this,w),h.url}destroy(e=!1){var i,r,a,o;e&&((i=p(this,Ju))!=null&&i.size)||((r=p(this,po))==null||r.parentNode.parentNode.remove(),O(this,po,null),(a=p(this,yf))==null||a.clear(),O(this,yf,null),(o=p(this,Ju))==null||o.clear(),O(this,Ju,null),O(this,tc,0))}}Qu=new WeakMap,yf=new WeakMap,po=new WeakMap,go=new WeakMap,Qn=new WeakMap,Ju=new WeakMap,tc=new WeakMap,Kt=new WeakSet,Kn=function(){return p(this,yf)||O(this,yf,new Map)},Dp=function(){return p(this,Ju)||O(this,Ju,new Map)},Uh=function(){if(!p(this,po)){const e=p(this,Qn).createElement("div"),{style:i}=e;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const r=p(this,Qn).createElementNS(Qa,"svg");r.setAttribute("width",0),r.setAttribute("height",0),O(this,po,p(this,Qn).createElementNS(Qa,"defs")),e.append(r),r.append(p(this,po)),p(this,Qn).body.append(e)}return p(this,po)},_0=function(e){if(e.length===1){const f=e[0],g=new Array(256);for(let y=0;y<256;y++)g[y]=f[y]/255;const m=g.join(",");return[m,m,m]}const[i,r,a]=e,o=new Array(256),l=new Array(256),h=new Array(256);for(let f=0;f<256;f++)o[f]=i[f]/255,l[f]=r[f]/255,h[f]=a[f]/255;return[o.join(","),l.join(","),h.join(",")]},Hh=function(e){if(p(this,Qu)===void 0){O(this,Qu,"");const i=p(this,Qn).URL;i!==p(this,Qn).baseURI&&(Yy(i)?Ee('#createUrl: ignore "data:"-URL for performance reasons.'):O(this,Qu,CR(i,"")))}return`url(${p(this,Qu)}#${e})`},mk=function(e){const i=p(this,Qn).createElementNS(Qa,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(i)},Ww=function(e){const i=p(this,Qn).createElementNS(Qa,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(i)},jh=function(e){const i=p(this,Qn).createElementNS(Qa,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",e),p(this,Kt,Uh).append(i),i},Rp=function(e,i,r){const a=p(this,Qn).createElementNS(Qa,i);a.setAttribute("type","discrete"),a.setAttribute("tableValues",r),e.append(a)},kp=function(e,i,r,a){const o=p(this,Qn).createElementNS(Qa,"feComponentTransfer");a.append(o),z(this,Kt,Rp).call(this,o,"feFuncR",e),z(this,Kt,Rp).call(this,o,"feFuncG",i),z(this,Kt,Rp).call(this,o,"feFuncB",r)},Yw=function(e,i){const r=p(this,Qn).createElementNS(Qa,"feComponentTransfer");i.append(r),z(this,Kt,Rp).call(this,r,"feFuncA",e)},Np=function(e){return p(this,Kt,Uh).style.color=e,S_(getComputedStyle(p(this,Kt,Uh)).getPropertyValue("color"))};class vk{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){gi("Abstract method `_fetch` called.")}}class nD extends vk{async _fetch(t){const e=await Om(t,"arraybuffer");return new Uint8Array(e)}}class yk{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){gi("Abstract method `_fetch` called.")}}class rD extends yk{async _fetch(t){const e=await Om(t,"arraybuffer");return new Uint8Array(e)}}cr&&Ee("Please use the `legacy` build in Node.js environments.");async function C_(u){const e=await process.getBuiltinModule("fs").promises.readFile(u);return new Uint8Array(e)}class g4 extends gk{}class m4 extends dk{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class v4 extends pk{async _fetch(t){return C_(t)}}class y4 extends vk{async _fetch(t){return C_(t)}}class b4 extends yk{async _fetch(t){return C_(t)}}const Pn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Xw(u,t){if(!t)return;const e=t[2]-t[0],i=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,i),u.clip(r)}class T_{isModifyingCurrentTransform(){return!1}getPattern(){gi("Abstract method `getPattern` called.")}}class w4 extends T_{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)e.addColorStop(i[0],i[1]);return e}getPattern(t,e,i,r){let a;if(r===Pn.STROKE||r===Pn.FILL){const o=e.current.getClippedPathBoundingBox(r,Fi(t))||[0,0,0,0],l=Math.ceil(o[2]-o[0])||1,h=Math.ceil(o[3]-o[1])||1,f=e.cachedCanvases.getCanvas("pattern",l,h),g=f.context;g.clearRect(0,0,g.canvas.width,g.canvas.height),g.beginPath(),g.rect(0,0,g.canvas.width,g.canvas.height),g.translate(-o[0],-o[1]),i=le.transform(i,[1,0,0,1,o[0],o[1]]),g.transform(...e.baseTransform),this.matrix&&g.transform(...this.matrix),Xw(g,this._bbox),g.fillStyle=this._createGradient(g),g.fill(),a=t.createPattern(f.canvas,"no-repeat");const m=new DOMMatrix(i);a.setTransform(m)}else Xw(t,this._bbox),a=this._createGradient(t);return a}}function rw(u,t,e,i,r,a,o,l){const h=t.coords,f=t.colors,g=u.data,m=u.width*4;let y;h[e+1]>h[i+1]&&(y=e,e=i,i=y,y=a,a=o,o=y),h[i+1]>h[r+1]&&(y=i,i=r,r=y,y=o,o=l,l=y),h[e+1]>h[i+1]&&(y=e,e=i,i=y,y=a,a=o,o=y);const b=(h[e]+t.offsetX)*t.scaleX,T=(h[e+1]+t.offsetY)*t.scaleY,A=(h[i]+t.offsetX)*t.scaleX,w=(h[i+1]+t.offsetY)*t.scaleY,E=(h[r]+t.offsetX)*t.scaleX,D=(h[r+1]+t.offsetY)*t.scaleY;if(T>=D)return;const R=f[a],N=f[a+1],x=f[a+2],L=f[o],I=f[o+1],U=f[o+2],F=f[l],k=f[l+1],$=f[l+2],Y=Math.round(T),J=Math.round(D);let ft,bt,X,Z,ct,_t,K,it;for(let gt=Y;gt<=J;gt++){if(gt<w){const Yt=gt<T?0:(T-gt)/(T-w);ft=b-(b-A)*Yt,bt=R-(R-L)*Yt,X=N-(N-I)*Yt,Z=x-(x-U)*Yt}else{let Yt;gt>D?Yt=1:w===D?Yt=0:Yt=(w-gt)/(w-D),ft=A-(A-E)*Yt,bt=L-(L-F)*Yt,X=I-(I-k)*Yt,Z=U-(U-$)*Yt}let At;gt<T?At=0:gt>D?At=1:At=(T-gt)/(T-D),ct=b-(b-E)*At,_t=R-(R-F)*At,K=N-(N-k)*At,it=x-(x-$)*At;const Dt=Math.round(Math.min(ft,ct)),qt=Math.round(Math.max(ft,ct));let Ht=m*gt+Dt*4;for(let Yt=Dt;Yt<=qt;Yt++)At=(ft-Yt)/(ft-ct),At<0?At=0:At>1&&(At=1),g[Ht++]=bt-(bt-_t)*At|0,g[Ht++]=X-(X-K)*At|0,g[Ht++]=Z-(Z-it)*At|0,g[Ht++]=255}}function A4(u,t,e){const i=t.coords,r=t.colors;let a,o;switch(t.type){case"lattice":const l=t.verticesPerRow,h=Math.floor(i.length/l)-1,f=l-1;for(a=0;a<h;a++){let g=a*l;for(let m=0;m<f;m++,g++)rw(u,e,i[g],i[g+1],i[g+l],r[g],r[g+1],r[g+l]),rw(u,e,i[g+l+1],i[g+1],i[g+l],r[g+l+1],r[g+1],r[g+l])}break;case"triangles":for(a=0,o=i.length;a<o;a+=3)rw(u,e,i[a],i[a+1],i[a+2],r[a],r[a+1],r[a+2]);break;default:throw new Error("illegal figure")}}class _4 extends T_{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,i){const l=Math.floor(this._bounds[0]),h=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-l,g=Math.ceil(this._bounds[3])-h,m=Math.min(Math.ceil(Math.abs(f*t[0]*1.1)),3e3),y=Math.min(Math.ceil(Math.abs(g*t[1]*1.1)),3e3),b=f/m,T=g/y,A={coords:this._coords,colors:this._colors,offsetX:-l,offsetY:-h,scaleX:1/b,scaleY:1/T},w=m+2*2,E=y+2*2,D=i.getCanvas("mesh",w,E),R=D.context,N=R.createImageData(m,y);if(e){const L=N.data;for(let I=0,U=L.length;I<U;I+=4)L[I]=e[0],L[I+1]=e[1],L[I+2]=e[2],L[I+3]=255}for(const L of this._figures)A4(N,L,A);return R.putImageData(N,2,2),{canvas:D.canvas,offsetX:l-2*b,offsetY:h-2*T,scaleX:b,scaleY:T}}isModifyingCurrentTransform(){return!0}getPattern(t,e,i,r){Xw(t,this._bbox);const a=new Float32Array(2);if(r===Pn.SHADING)le.singularValueDecompose2dScale(Fi(t),a);else if(this.matrix){le.singularValueDecompose2dScale(this.matrix,a);const[l,h]=a;le.singularValueDecompose2dScale(e.baseTransform,a),a[0]*=l,a[1]*=h}else le.singularValueDecompose2dScale(e.baseTransform,a);const o=this._createMeshCanvas(a,r===Pn.SHADING?null:this._background,e.cachedCanvases);return r!==Pn.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(o.offsetX,o.offsetY),t.scale(o.scaleX,o.scaleY),t.createPattern(o.canvas,"no-repeat")}}class E4 extends T_{getPattern(){return"hotpink"}}function S4(u){switch(u[0]){case"RadialAxial":return new w4(u);case"Mesh":return new _4(u);case"Dummy":return new E4}throw new Error(`Unknown IR type: ${u[0]}`)}const sD={COLORED:1,UNCOLORED:2},yy=class yy{constructor(t,e,i,r){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(t){const{bbox:e,operatorList:i,paintType:r,tilingType:a,color:o,canvasGraphicsFactory:l}=this;let{xstep:h,ystep:f}=this;h=Math.abs(h),f=Math.abs(f),Wy("TilingType: "+a);const g=e[0],m=e[1],y=e[2],b=e[3],T=y-g,A=b-m,w=new Float32Array(2);le.singularValueDecompose2dScale(this.matrix,w);const[E,D]=w;le.singularValueDecompose2dScale(this.baseTransform,w);const R=E*w[0],N=D*w[1];let x=T,L=A,I=!1,U=!1;const F=Math.ceil(h*R),k=Math.ceil(f*N),$=Math.ceil(T*R),Y=Math.ceil(A*N);F>=$?x=h:I=!0,k>=Y?L=f:U=!0;const J=this.getSizeAndScale(x,this.ctx.canvas.width,R),ft=this.getSizeAndScale(L,this.ctx.canvas.height,N),bt=t.cachedCanvases.getCanvas("pattern",J.size,ft.size),X=bt.context,Z=l.createCanvasGraphics(X);if(Z.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(Z,r,o),X.translate(-J.scale*g,-ft.scale*m),Z.transform(J.scale,0,0,ft.scale,0,0),X.save(),this.clipBbox(Z,g,m,y,b),Z.baseTransform=Fi(Z.ctx),Z.executeOperatorList(i),Z.endDrawing(),X.restore(),I||U){const ct=bt.canvas;I&&(x=h),U&&(L=f);const _t=this.getSizeAndScale(x,this.ctx.canvas.width,R),K=this.getSizeAndScale(L,this.ctx.canvas.height,N),it=_t.size,gt=K.size,At=t.cachedCanvases.getCanvas("pattern-workaround",it,gt),Dt=At.context,qt=I?Math.floor(T/h):0,Ht=U?Math.floor(A/f):0;for(let Yt=0;Yt<=qt;Yt++)for(let zt=0;zt<=Ht;zt++)Dt.drawImage(ct,it*Yt,gt*zt,it,gt,0,0,it,gt);return{canvas:At.canvas,scaleX:_t.scale,scaleY:K.scale,offsetX:g,offsetY:m}}return{canvas:bt.canvas,scaleX:J.scale,scaleY:ft.scale,offsetX:g,offsetY:m}}getSizeAndScale(t,e,i){const r=Math.max(yy.MAX_PATTERN_SIZE,e);let a=Math.ceil(t*i);return a>=r?a=r:i=a/t,{scale:i,size:a}}clipBbox(t,e,i,r,a){const o=r-e,l=a-i;t.ctx.rect(e,i,o,l),le.axialAlignedBoundingBox([e,i,r,a],Fi(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,i){const r=t.ctx,a=t.current;switch(e){case sD.COLORED:const{fillStyle:o,strokeStyle:l}=this.ctx;r.fillStyle=a.fillColor=o,r.strokeStyle=a.strokeColor=l;break;case sD.UNCOLORED:r.fillStyle=r.strokeStyle=i,a.fillColor=a.strokeColor=i;break;default:throw new q5(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,i,r){let a=i;r!==Pn.SHADING&&(a=le.transform(a,e.baseTransform),this.matrix&&(a=le.transform(a,this.matrix)));const o=this.createPatternCanvas(e);let l=new DOMMatrix(a);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const h=t.createPattern(o.canvas,"repeat");return h.setTransform(l),h}};Bt(yy,"MAX_PATTERN_SIZE",3e3);let Kw=yy;function x4({src:u,srcPos:t=0,dest:e,width:i,height:r,nonBlackColor:a=4294967295,inverseDecode:o=!1}){const l=qn.isLittleEndian?4278190080:255,[h,f]=o?[a,l]:[l,a],g=i>>3,m=i&7,y=u.length;e=new Uint32Array(e.buffer);let b=0;for(let T=0;T<r;T++){for(const w=t+g;t<w;t++){const E=t<y?u[t]:255;e[b++]=E&128?f:h,e[b++]=E&64?f:h,e[b++]=E&32?f:h,e[b++]=E&16?f:h,e[b++]=E&8?f:h,e[b++]=E&4?f:h,e[b++]=E&2?f:h,e[b++]=E&1?f:h}if(m===0)continue;const A=t<y?u[t++]:255;for(let w=0;w<m;w++)e[b++]=A&1<<7-w?f:h}return{srcPos:t,destPos:b}}const aD=16,oD=100,C4=15,lD=10,xr=16,sw=new DOMMatrix,Kr=new Float32Array(2),Wh=new Float32Array([1/0,1/0,-1/0,-1/0]);function T4(u,t){if(u._removeMirroring)throw new Error("Context is already forwarding operations.");u.__originalSave=u.save,u.__originalRestore=u.restore,u.__originalRotate=u.rotate,u.__originalScale=u.scale,u.__originalTranslate=u.translate,u.__originalTransform=u.transform,u.__originalSetTransform=u.setTransform,u.__originalResetTransform=u.resetTransform,u.__originalClip=u.clip,u.__originalMoveTo=u.moveTo,u.__originalLineTo=u.lineTo,u.__originalBezierCurveTo=u.bezierCurveTo,u.__originalRect=u.rect,u.__originalClosePath=u.closePath,u.__originalBeginPath=u.beginPath,u._removeMirroring=()=>{u.save=u.__originalSave,u.restore=u.__originalRestore,u.rotate=u.__originalRotate,u.scale=u.__originalScale,u.translate=u.__originalTranslate,u.transform=u.__originalTransform,u.setTransform=u.__originalSetTransform,u.resetTransform=u.__originalResetTransform,u.clip=u.__originalClip,u.moveTo=u.__originalMoveTo,u.lineTo=u.__originalLineTo,u.bezierCurveTo=u.__originalBezierCurveTo,u.rect=u.__originalRect,u.closePath=u.__originalClosePath,u.beginPath=u.__originalBeginPath,delete u._removeMirroring},u.save=function(){t.save(),this.__originalSave()},u.restore=function(){t.restore(),this.__originalRestore()},u.translate=function(e,i){t.translate(e,i),this.__originalTranslate(e,i)},u.scale=function(e,i){t.scale(e,i),this.__originalScale(e,i)},u.transform=function(e,i,r,a,o,l){t.transform(e,i,r,a,o,l),this.__originalTransform(e,i,r,a,o,l)},u.setTransform=function(e,i,r,a,o,l){t.setTransform(e,i,r,a,o,l),this.__originalSetTransform(e,i,r,a,o,l)},u.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},u.rotate=function(e){t.rotate(e),this.__originalRotate(e)},u.clip=function(e){t.clip(e),this.__originalClip(e)},u.moveTo=function(e,i){t.moveTo(e,i),this.__originalMoveTo(e,i)},u.lineTo=function(e,i){t.lineTo(e,i),this.__originalLineTo(e,i)},u.bezierCurveTo=function(e,i,r,a,o,l){t.bezierCurveTo(e,i,r,a,o,l),this.__originalBezierCurveTo(e,i,r,a,o,l)},u.rect=function(e,i,r,a){t.rect(e,i,r,a),this.__originalRect(e,i,r,a)},u.closePath=function(){t.closePath(),this.__originalClosePath()},u.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class D4{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,i){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,i)):(r=this.canvasFactory.create(e,i),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function e0(u,t,e,i,r,a,o,l,h,f){const[g,m,y,b,T,A]=Fi(u);if(m===0&&y===0){const D=o*g+T,R=Math.round(D),N=l*b+A,x=Math.round(N),L=(o+h)*g+T,I=Math.abs(Math.round(L)-R)||1,U=(l+f)*b+A,F=Math.abs(Math.round(U)-x)||1;return u.setTransform(Math.sign(g),0,0,Math.sign(b),R,x),u.drawImage(t,e,i,r,a,0,0,I,F),u.setTransform(g,m,y,b,T,A),[I,F]}if(g===0&&b===0){const D=l*y+T,R=Math.round(D),N=o*m+A,x=Math.round(N),L=(l+f)*y+T,I=Math.abs(Math.round(L)-R)||1,U=(o+h)*m+A,F=Math.abs(Math.round(U)-x)||1;return u.setTransform(0,Math.sign(m),Math.sign(y),0,R,x),u.drawImage(t,e,i,r,a,0,0,F,I),u.setTransform(g,m,y,b,T,A),[F,I]}u.drawImage(t,e,i,r,a,o,l,h,f);const w=Math.hypot(g,m),E=Math.hypot(y,b);return[w*h,E*f]}class uD{constructor(t,e){Bt(this,"alphaIsShape",!1);Bt(this,"fontSize",0);Bt(this,"fontSizeScale",1);Bt(this,"textMatrix",null);Bt(this,"textMatrixScale",1);Bt(this,"fontMatrix",xw);Bt(this,"leading",0);Bt(this,"x",0);Bt(this,"y",0);Bt(this,"lineX",0);Bt(this,"lineY",0);Bt(this,"charSpacing",0);Bt(this,"wordSpacing",0);Bt(this,"textHScale",1);Bt(this,"textRenderingMode",Xn.FILL);Bt(this,"textRise",0);Bt(this,"fillColor","#000000");Bt(this,"strokeColor","#000000");Bt(this,"patternFill",!1);Bt(this,"patternStroke",!1);Bt(this,"fillAlpha",1);Bt(this,"strokeAlpha",1);Bt(this,"lineWidth",1);Bt(this,"activeSMask",null);Bt(this,"transferMaps","none");this.clipBox=new Float32Array([0,0,t,e]),this.minMax=Wh.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=Pn.FILL,e=null){const i=this.minMax.slice();if(t===Pn.STROKE){e||gi("Stroke bounding box must include transform."),le.singularValueDecompose2dScale(e,Kr);const r=Kr[0]*this.lineWidth/2,a=Kr[1]*this.lineWidth/2;i[0]-=r,i[1]-=a,i[2]+=r,i[3]+=a}return i}updateClipFromPath(){const t=le.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(Wh,0)}getClippedPathBoundingBox(t=Pn.FILL,e=null){return le.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function cD(u,t){if(t instanceof ImageData){u.putImageData(t,0,0);return}const e=t.height,i=t.width,r=e%xr,a=(e-r)/xr,o=r===0?a:a+1,l=u.createImageData(i,xr);let h=0,f;const g=t.data,m=l.data;let y,b,T,A;if(t.kind===f0.GRAYSCALE_1BPP){const w=g.byteLength,E=new Uint32Array(m.buffer,0,m.byteLength>>2),D=E.length,R=i+7>>3,N=4294967295,x=qn.isLittleEndian?4278190080:255;for(y=0;y<o;y++){for(T=y<a?xr:r,f=0,b=0;b<T;b++){const L=w-h;let I=0;const U=L>R?i:L*8-7,F=U&-8;let k=0,$=0;for(;I<F;I+=8)$=g[h++],E[f++]=$&128?N:x,E[f++]=$&64?N:x,E[f++]=$&32?N:x,E[f++]=$&16?N:x,E[f++]=$&8?N:x,E[f++]=$&4?N:x,E[f++]=$&2?N:x,E[f++]=$&1?N:x;for(;I<U;I++)k===0&&($=g[h++],k=128),E[f++]=$&k?N:x,k>>=1}for(;f<D;)E[f++]=0;u.putImageData(l,0,y*xr)}}else if(t.kind===f0.RGBA_32BPP){for(b=0,A=i*xr*4,y=0;y<a;y++)m.set(g.subarray(h,h+A)),h+=A,u.putImageData(l,0,b),b+=xr;y<o&&(A=i*r*4,m.set(g.subarray(h,h+A)),u.putImageData(l,0,b))}else if(t.kind===f0.RGB_24BPP)for(T=xr,A=i*T,y=0;y<o;y++){for(y>=a&&(T=r,A=i*T),f=0,b=A;b--;)m[f++]=g[h++],m[f++]=g[h++],m[f++]=g[h++],m[f++]=255;u.putImageData(l,0,y*xr)}else throw new Error(`bad image kind: ${t.kind}`)}function hD(u,t){if(t.bitmap){u.drawImage(t.bitmap,0,0);return}const e=t.height,i=t.width,r=e%xr,a=(e-r)/xr,o=r===0?a:a+1,l=u.createImageData(i,xr);let h=0;const f=t.data,g=l.data;for(let m=0;m<o;m++){const y=m<a?xr:r;({srcPos:h}=x4({src:f,srcPos:h,dest:g,width:i,height:y,nonBlackColor:0})),u.putImageData(l,0,m*xr)}}function mp(u,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of e)u[i]!==void 0&&(t[i]=u[i]);u.setLineDash!==void 0&&(t.setLineDash(u.getLineDash()),t.lineDashOffset=u.lineDashOffset)}function i0(u){u.strokeStyle=u.fillStyle="#000000",u.fillRule="nonzero",u.globalAlpha=1,u.lineWidth=1,u.lineCap="butt",u.lineJoin="miter",u.miterLimit=10,u.globalCompositeOperation="source-over",u.font="10px sans-serif",u.setLineDash!==void 0&&(u.setLineDash([]),u.lineDashOffset=0);const{filter:t}=u;t!=="none"&&t!==""&&(u.filter="none")}function fD(u,t){if(t)return!0;le.singularValueDecompose2dScale(u,Kr);const e=Math.fround(Na.pixelRatio*iu.PDF_TO_CSS_UNITS);return Kr[0]<=e&&Kr[1]<=e}const R4=["butt","round","square"],k4=["miter","round","bevel"],N4={},dD={};var Js,Zw,Qw,Jw;const M_=class M_{constructor(t,e,i,r,a,{optionalContentConfig:o,markedContentStack:l=null},h,f){P(this,Js);this.ctx=t,this.current=new uD(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=i,this.canvasFactory=r,this.filterFactory=a,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=l||[],this.optionalContentConfig=o,this.cachedCanvases=new D4(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=h,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:i=!1,background:r=null}){const a=this.ctx.canvas.width,o=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,a,o),this.ctx.fillStyle=l,i){const h=this.cachedCanvases.getCanvas("transparent",a,o);this.compositeCtx=this.ctx,this.transparentCanvas=h.canvas,this.ctx=h.context,this.ctx.save(),this.ctx.transform(...Fi(this.compositeCtx))}this.ctx.save(),i0(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=Fi(this.ctx)}executeOperatorList(t,e,i,r){const a=t.argsArray,o=t.fnArray;let l=e||0;const h=a.length;if(h===l)return l;const f=h-l>lD&&typeof i=="function",g=f?Date.now()+C4:0;let m=0;const y=this.commonObjs,b=this.objs;let T;for(;;){if(r!==void 0&&l===r.nextBreakPoint)return r.breakIt(l,i),l;if(T=o[l],T!==ey.dependency)this[T].apply(this,a[l]);else for(const A of a[l]){const w=A.startsWith("g_")?y:b;if(!w.has(A))return w.get(A,i),l}if(l++,l===h)return l;if(f&&++m>lD){if(Date.now()>g)return i(),l;m=0}}}endDrawing(){z(this,Js,Zw).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),z(this,Js,Qw).call(this)}_scaleImage(t,e){const i=t.width??t.displayWidth,r=t.height??t.displayHeight;let a=Math.max(Math.hypot(e[0],e[1]),1),o=Math.max(Math.hypot(e[2],e[3]),1),l=i,h=r,f="prescale1",g,m;for(;a>2&&l>1||o>2&&h>1;){let y=l,b=h;a>2&&l>1&&(y=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),a/=l/y),o>2&&h>1&&(b=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,o/=h/b),g=this.cachedCanvases.getCanvas(f,y,b),m=g.context,m.clearRect(0,0,y,b),m.drawImage(t,0,0,l,h,0,0,y,b),t=g.canvas,l=y,h=b,f=f==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:l,paintHeight:h}}_createMaskCanvas(t){const e=this.ctx,{width:i,height:r}=t,a=this.current.fillColor,o=this.current.patternFill,l=Fi(e);let h,f,g,m;if((t.bitmap||t.data)&&t.count>1){const F=t.bitmap||t.data.buffer;f=JSON.stringify(o?l:[l.slice(0,4),a]),h=this._cachedBitmapsMap.get(F),h||(h=new Map,this._cachedBitmapsMap.set(F,h));const k=h.get(f);if(k&&!o){const $=Math.round(Math.min(l[0],l[2])+l[4]),Y=Math.round(Math.min(l[1],l[3])+l[5]);return{canvas:k,offsetX:$,offsetY:Y}}g=k}g||(m=this.cachedCanvases.getCanvas("maskCanvas",i,r),hD(m.context,t));let y=le.transform(l,[1/i,0,0,-1/r,0,0]);y=le.transform(y,[1,0,0,1,0,-r]);const b=Wh.slice();le.axialAlignedBoundingBox([0,0,i,r],y,b);const[T,A,w,E]=b,D=Math.round(w-T)||1,R=Math.round(E-A)||1,N=this.cachedCanvases.getCanvas("fillCanvas",D,R),x=N.context,L=T,I=A;x.translate(-L,-I),x.transform(...y),g||(g=this._scaleImage(m.canvas,aa(x)),g=g.img,h&&o&&h.set(f,g)),x.imageSmoothingEnabled=fD(Fi(x),t.interpolate),e0(x,g,0,0,g.width,g.height,0,0,i,r),x.globalCompositeOperation="source-in";const U=le.transform(aa(x),[1,0,0,1,-L,-I]);return x.fillStyle=o?a.getPattern(e,this,U,Pn.FILL):a,x.fillRect(0,0,i,r),h&&!o&&(this.cachedCanvases.delete("fillCanvas"),h.set(f,N.canvas)),{canvas:N.canvas,offsetX:Math.round(L),offsetY:Math.round(I)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=R4[t]}setLineJoin(t){this.ctx.lineJoin=k4[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,i]of t)switch(e){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(i,t,e);this.suspendedCtx=this.ctx;const a=this.ctx=r.context;a.setTransform(this.suspendedCtx.getTransform()),mp(this.suspendedCtx,a),T4(a,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),mp(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,i,r){const a=r[0],o=r[1],l=r[2]-a,h=r[3]-o;l===0||h===0||(this.genericComposeSMask(e.context,i,l,h,e.subtype,e.backdrop,e.transferMap,a,o,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,e,i,r,a,o,l,h,f,g,m){let y=t.canvas,b=h-g,T=f-m;if(o)if(b<0||T<0||b+i>y.width||T+r>y.height){const w=this.cachedCanvases.getCanvas("maskExtension",i,r),E=w.context;E.drawImage(y,-b,-T),E.globalCompositeOperation="destination-atop",E.fillStyle=o,E.fillRect(0,0,i,r),E.globalCompositeOperation="source-over",y=w.canvas,b=T=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const w=new Path2D;w.rect(b,T,i,r),t.clip(w),t.globalCompositeOperation="destination-atop",t.fillStyle=o,t.fillRect(b,T,i,r),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),a==="Alpha"&&l?e.filter=this.filterFactory.addAlphaFilter(l):a==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(l));const A=new Path2D;A.rect(h,f,i,r),e.clip(A),e.globalCompositeOperation="destination-in",e.drawImage(y,b,T,i,r,h,f,i,r),e.restore()}save(){this.inSMaskMode&&mp(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&mp(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,i,r,a,o){this.ctx.transform(t,e,i,r,a,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,i){let[r]=e;if(!i){r||(r=e[0]=new Path2D),this[t](r);return}if(!(r instanceof Path2D)){const a=e[0]=new Path2D;for(let o=0,l=r.length;o<l;)switch(r[o++]){case Qv.moveTo:a.moveTo(r[o++],r[o++]);break;case Qv.lineTo:a.lineTo(r[o++],r[o++]);break;case Qv.curveTo:a.bezierCurveTo(r[o++],r[o++],r[o++],r[o++],r[o++],r[o++]);break;case Qv.closePath:a.closePath();break;default:Ee(`Unrecognized drawing path operator: ${r[o-1]}`);break}r=a}le.axialAlignedBoundingBox(i,Fi(this.ctx),this.current.minMax),this[t](r)}closePath(){this.ctx.closePath()}stroke(t,e=!0){const i=this.ctx,r=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof r=="object"&&(r!=null&&r.getPattern)){const a=r.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=r.getPattern(i,this,aa(i),Pn.STROKE),a){const o=new Path2D;o.addPath(t,i.getTransform().invertSelf().multiplySelf(a)),t=o}this.rescaleAndStroke(t,!1),i.restore()}else this.rescaleAndStroke(t,!0);e&&this.consumePath(t,this.current.getClippedPathBoundingBox(Pn.STROKE,Fi(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(t){this.stroke(t)}fill(t,e=!0){const i=this.ctx,r=this.current.fillColor,a=this.current.patternFill;let o=!1;if(a){const h=r.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.fillStyle=r.getPattern(i,this,aa(i),Pn.FILL),h){const f=new Path2D;f.addPath(t,i.getTransform().invertSelf().multiplySelf(h)),t=f}o=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(i.fill(t,"evenodd"),this.pendingEOFill=!1):i.fill(t)),o&&i.restore(),e&&this.consumePath(t,l)}eoFill(t){this.pendingEOFill=!0,this.fill(t)}fillStroke(t){this.fill(t,!1),this.stroke(t,!1),this.consumePath(t)}eoFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}closeFillStroke(t){this.fillStroke(t)}closeEOFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}endPath(t){this.consumePath(t)}rawFillPath(t){this.ctx.fill(t)}clip(){this.pendingClip=N4}eoClip(){this.pendingClip=dD}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0)return;const i=new Path2D,r=e.getTransform().invertSelf();for(const{transform:a,x:o,y:l,fontSize:h,path:f}of t)i.addPath(f,new DOMMatrix(a).preMultiplySelf(r).translate(o,l).scale(h,-h));e.clip(i),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var g;const i=this.commonObjs.get(t),r=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=i.fontMatrix||xw,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Ee("Invalid font matrix for font "+t),e<0?(e=-e,r.fontDirection=-1):r.fontDirection=1,this.current.font=i,this.current.fontSize=e,i.isType3Font)return;const a=i.loadedName||"sans-serif",o=((g=i.systemFontInfo)==null?void 0:g.css)||`"${a}", ${i.fallbackName}`;let l="normal";i.black?l="900":i.bold&&(l="bold");const h=i.italic?"italic":"normal";let f=e;e<aD?f=aD:e>oD&&(f=oD),this.current.fontSizeScale=e/f,this.ctx.font=`${h} ${l} ${f}px ${o}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t){const{current:e}=this;e.textMatrix=t,e.textMatrixScale=Math.hypot(t[0],t[1]),e.x=e.lineX=0,e.y=e.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,i,r,a){const o=this.ctx,l=this.current,h=l.font,f=l.textRenderingMode,g=l.fontSize/l.fontSizeScale,m=f&Xn.FILL_STROKE_MASK,y=!!(f&Xn.ADD_TO_PATH_FLAG),b=l.patternFill&&!h.missingFile,T=l.patternStroke&&!h.missingFile;let A;if((h.disableFontFace||y||b||T)&&(A=h.getPathGenerator(this.commonObjs,t)),h.disableFontFace||b||T){o.save(),o.translate(e,i),o.scale(g,-g);let w;if((m===Xn.FILL||m===Xn.FILL_STROKE)&&(r?(w=o.getTransform(),o.setTransform(...r),o.fill(z(this,Js,Jw).call(this,A,w,r))):o.fill(A)),m===Xn.STROKE||m===Xn.FILL_STROKE)if(a){w||(w=o.getTransform()),o.setTransform(...a);const{a:E,b:D,c:R,d:N}=w,x=le.inverseTransform(a),L=le.transform([E,D,R,N,0,0],x);le.singularValueDecompose2dScale(L,Kr),o.lineWidth*=Math.max(Kr[0],Kr[1])/g,o.stroke(z(this,Js,Jw).call(this,A,w,a))}else o.lineWidth/=g,o.stroke(A);o.restore()}else(m===Xn.FILL||m===Xn.FILL_STROKE)&&o.fillText(t,e,i),(m===Xn.STROKE||m===Xn.FILL_STROKE)&&o.strokeText(t,e,i);y&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Fi(o),x:e,y:i,fontSize:g,path:A})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){i=!0;break}return Ie(this,"isFontSubpixelAAEnabled",i)}showText(t){const e=this.current,i=e.font;if(i.isType3Font)return this.showType3Text(t);const r=e.fontSize;if(r===0)return;const a=this.ctx,o=e.fontSizeScale,l=e.charSpacing,h=e.wordSpacing,f=e.fontDirection,g=e.textHScale*f,m=t.length,y=i.vertical,b=y?1:-1,T=i.defaultVMetrics,A=r*e.fontMatrix[0],w=e.textRenderingMode===Xn.FILL&&!i.disableFontFace&&!e.patternFill;a.save(),e.textMatrix&&a.transform(...e.textMatrix),a.translate(e.x,e.y+e.textRise),f>0?a.scale(g,-1):a.scale(g,1);let E,D;if(e.patternFill){a.save();const I=e.fillColor.getPattern(a,this,aa(a),Pn.FILL);E=Fi(a),a.restore(),a.fillStyle=I}if(e.patternStroke){a.save();const I=e.strokeColor.getPattern(a,this,aa(a),Pn.STROKE);D=Fi(a),a.restore(),a.strokeStyle=I}let R=e.lineWidth;const N=e.textMatrixScale;if(N===0||R===0){const I=e.textRenderingMode&Xn.FILL_STROKE_MASK;(I===Xn.STROKE||I===Xn.FILL_STROKE)&&(R=this.getSinglePixelWidth())}else R/=N;if(o!==1&&(a.scale(o,o),R/=o),a.lineWidth=R,i.isInvalidPDFjsFont){const I=[];let U=0;for(const F of t)I.push(F.unicode),U+=F.width;a.fillText(I.join(""),0,0),e.x+=U*A*g,a.restore(),this.compose();return}let x=0,L;for(L=0;L<m;++L){const I=t[L];if(typeof I=="number"){x+=b*I*r/1e3;continue}let U=!1;const F=(I.isSpace?h:0)+l,k=I.fontChar,$=I.accent;let Y,J,ft=I.width;if(y){const X=I.vmetric||T,Z=-(I.vmetric?X[1]:ft*.5)*A,ct=X[2]*A;ft=X?-X[0]:ft,Y=Z/o,J=(x+ct)/o}else Y=x/o,J=0;if(i.remeasure&&ft>0){const X=a.measureText(k).width*1e3/r*o;if(ft<X&&this.isFontSubpixelAAEnabled){const Z=ft/X;U=!0,a.save(),a.scale(Z,1),Y/=Z}else ft!==X&&(Y+=(ft-X)/2e3*r/o)}if(this.contentVisible&&(I.isInFont||i.missingFile)){if(w&&!$)a.fillText(k,Y,J);else if(this.paintChar(k,Y,J,E,D),$){const X=Y+r*$.offset.x/o,Z=J-r*$.offset.y/o;this.paintChar($.fontChar,X,Z,E,D)}}const bt=y?ft*A-F*f:ft*A+F*f;x+=bt,U&&a.restore()}y?e.y-=x:e.x+=x*g,a.restore(),this.compose()}showType3Text(t){const e=this.ctx,i=this.current,r=i.font,a=i.fontSize,o=i.fontDirection,l=r.vertical?1:-1,h=i.charSpacing,f=i.wordSpacing,g=i.textHScale*o,m=i.fontMatrix||xw,y=t.length,b=i.textRenderingMode===Xn.INVISIBLE;let T,A,w,E;if(!(b||a===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),i.textMatrix&&e.transform(...i.textMatrix),e.translate(i.x,i.y+i.textRise),e.scale(g,o),T=0;T<y;++T){if(A=t[T],typeof A=="number"){E=l*A*a/1e3,this.ctx.translate(E,0),i.x+=E*g;continue}const D=(A.isSpace?f:0)+h,R=r.charProcOperatorList[A.operatorListId];R?this.contentVisible&&(this.save(),e.scale(a,a),e.transform(...m),this.executeOperatorList(R),this.restore()):Ee(`Type3 character "${A.operatorListId}" is not available.`);const N=[A.width,0];le.applyTransform(N,m),w=N[0]*a+D,e.translate(w,0),i.x+=w*g}e.restore()}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,i,r,a,o){const l=new Path2D;l.rect(i,r,a-i,o-r),this.ctx.clip(l),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const i=this.baseTransform||Fi(this.ctx),r={createCanvasGraphics:a=>new M_(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new Kw(t,this.ctx,r,i)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t){this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t){this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=S4(this.getObject(t)),this.cachedPatterns.set(t,i)),e&&(i.matrix=e),i}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const i=this._getPattern(t);e.fillStyle=i.getPattern(e,this,aa(e),Pn.SHADING);const r=aa(e);if(r){const{width:a,height:o}=e.canvas,l=Wh.slice();le.axialAlignedBoundingBox([0,0,a,o],r,l);const[h,f,g,m]=l;this.ctx.fillRect(h,f,g-h,m-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){gi("Should not call beginInlineImage")}beginImageData(){gi("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=Fi(this.ctx),e)){le.axialAlignedBoundingBox(e,this.baseTransform,this.current.minMax);const[i,r,a,o]=e,l=new Path2D;l.rect(i,r,a-i,o-r),this.ctx.clip(l),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||Wy("TODO: Support non-isolated groups."),t.knockout&&Ee("Knockout groups not supported.");const i=Fi(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=Wh.slice();le.axialAlignedBoundingBox(t.bbox,Fi(e),r);const a=[0,0,e.canvas.width,e.canvas.height];r=le.intersect(r,a)||[0,0,0,0];const o=Math.floor(r[0]),l=Math.floor(r[1]),h=Math.max(Math.ceil(r[2])-o,1),f=Math.max(Math.ceil(r[3])-l,1);this.current.startNewPathAndClipBox([0,0,h,f]);let g="groupAt"+this.groupLevel;t.smask&&(g+="_smask_"+this.smaskCounter++%2);const m=this.cachedCanvases.getCanvas(g,h,f),y=m.context;y.translate(-o,-l),y.transform(...i);let b=new Path2D;const[T,A,w,E]=t.bbox;if(b.rect(T,A,w-T,E-A),t.matrix){const D=new Path2D;D.addPath(b,new DOMMatrix(t.matrix)),b=D}y.clip(b),t.smask?this.smaskStack.push({canvas:m.canvas,context:y,offsetX:o,offsetY:l,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(o,l),e.save()),mp(e,y),this.ctx=y,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=Fi(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const a=Wh.slice();le.axialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],r,a),this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(t,e,i,r,a){if(z(this,Js,Zw).call(this),i0(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const o=e[2]-e[0],l=e[3]-e[1];if(a&&this.annotationCanvasMap){i=i.slice(),i[4]-=e[0],i[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=o,e[3]=l,le.singularValueDecompose2dScale(Fi(this.ctx),Kr);const{viewportScale:h}=this,f=Math.ceil(o*this.outputScaleX*h),g=Math.ceil(l*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(f,g);const{canvas:m,context:y}=this.annotationCanvas;this.annotationCanvasMap.set(t,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=y,this.ctx.save(),this.ctx.setTransform(Kr[0],0,0,-Kr[1],0,l*Kr[1]),i0(this.ctx)}else{i0(this.ctx),this.endPath();const h=new Path2D;h.rect(e[0],e[1],o,l),this.ctx.clip(h)}}this.current=new uD(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),z(this,Js,Qw).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const i=this.ctx,r=this._createMaskCanvas(t),a=r.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(a,r.offsetX,r.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,i=0,r=0,a,o){if(!this.contentVisible)return;t=this.getObject(t.data,t);const l=this.ctx;l.save();const h=Fi(l);l.transform(e,i,r,a,0,0);const f=this._createMaskCanvas(t);l.setTransform(1,0,0,1,f.offsetX-h[4],f.offsetY-h[5]);for(let g=0,m=o.length;g<m;g+=2){const y=le.transform(h,[e,i,r,a,o[g],o[g+1]]);l.drawImage(f.canvas,y[4],y[5])}l.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,i=this.current.fillColor,r=this.current.patternFill;for(const a of t){const{data:o,width:l,height:h,transform:f}=a,g=this.cachedCanvases.getCanvas("maskCanvas",l,h),m=g.context;m.save();const y=this.getObject(o,a);hD(m,y),m.globalCompositeOperation="source-in",m.fillStyle=r?i.getPattern(m,this,aa(e),Pn.FILL):i,m.fillRect(0,0,l,h),m.restore(),e.save(),e.transform(...f),e.scale(1,-1),e0(e,g.canvas,0,0,l,h,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){Ee("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,i,r){if(!this.contentVisible)return;const a=this.getObject(t);if(!a){Ee("Dependent image isn't ready yet");return}const o=a.width,l=a.height,h=[];for(let f=0,g=r.length;f<g;f+=2)h.push({transform:[e,0,0,i,r[f],r[f+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(a,h)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:i,height:r}=t,a=this.cachedCanvases.getCanvas("inlineImage",i,r),o=a.context;return o.filter=this.current.transferMaps,o.drawImage(e,0,0),o.filter="none",a.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,i=t.height,r=this.ctx;this.save();const{filter:a}=r;a!=="none"&&a!==""&&(r.filter="none"),r.scale(1/e,-1/i);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const f=this.cachedCanvases.getCanvas("inlineImage",e,i).context;cD(f,t),o=this.applyTransferMapsToCanvas(f)}const l=this._scaleImage(o,aa(r));r.imageSmoothingEnabled=fD(Fi(r),t.interpolate),e0(r,l.img,0,0,l.paintWidth,l.paintHeight,0,-i,e,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const i=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const a=t.width,o=t.height,h=this.cachedCanvases.getCanvas("inlineImage",a,o).context;cD(h,t),r=this.applyTransferMapsToCanvas(h)}for(const a of e)i.save(),i.transform(...a.transform),i.scale(1,-1),e0(i,r,a.x,a.y,a.w,a.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t,e){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(i||(this.pendingClip===dD?r.clip(t,"evenodd"):r.clip(t)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Fi(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:i,c:r,d:a}=this.ctx.getTransform();let o,l;if(i===0&&r===0){const h=Math.abs(e),f=Math.abs(a);if(h===f)if(t===0)o=l=1/h;else{const g=h*t;o=l=g<1?1/g:1}else if(t===0)o=1/h,l=1/f;else{const g=h*t,m=f*t;o=g<1?1/g:1,l=m<1?1/m:1}}else{const h=Math.abs(e*a-i*r),f=Math.hypot(e,i),g=Math.hypot(r,a);if(t===0)o=g/h,l=f/h;else{const m=t*h;o=g>m?g/m:1,l=f>m?f/m:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=l}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:i,current:{lineWidth:r}}=this,[a,o]=this.getScaleForStroking();if(a===o){i.lineWidth=(r||1)*a,i.stroke(t);return}const l=i.getLineDash();e&&i.save(),i.scale(a,o),sw.a=1/a,sw.d=1/o;const h=new Path2D;if(h.addPath(t,sw),l.length>0){const f=Math.max(a,o);i.setLineDash(l.map(g=>g/f)),i.lineDashOffset/=f}i.lineWidth=r||1,i.stroke(h),e&&i.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};Js=new WeakSet,Zw=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Qw=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}},Jw=function(t,e,i){const r=new Path2D;return r.addPath(t,new DOMMatrix(i).invertSelf().multiplySelf(e)),r};let Jh=M_;for(const u in ey)Jh.prototype[u]!==void 0&&(Jh.prototype[ey[u]]=Jh.prototype[u]);var Sg,xg;class Da{static get workerPort(){return p(this,Sg)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");O(this,Sg,t)}static get workerSrc(){return p(this,xg)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");O(this,xg,t)}}Sg=new WeakMap,xg=new WeakMap,P(Da,Sg,null),P(Da,xg,"");var bf,Cg;class O4{constructor({parsedData:t,rawData:e}){P(this,bf);P(this,Cg);O(this,bf,t),O(this,Cg,e)}getRaw(){return p(this,Cg)}get(t){return p(this,bf).get(t)??null}[Symbol.iterator](){return p(this,bf).entries()}}bf=new WeakMap,Cg=new WeakMap;const qh=Symbol("INTERNAL");var Tg,Dg,Rg,wf;class M4{constructor(t,{name:e,intent:i,usage:r,rbGroups:a}){P(this,Tg,!1);P(this,Dg,!1);P(this,Rg,!1);P(this,wf,!0);O(this,Tg,!!(t&Xr.DISPLAY)),O(this,Dg,!!(t&Xr.PRINT)),this.name=e,this.intent=i,this.usage=r,this.rbGroups=a}get visible(){if(p(this,Rg))return p(this,wf);if(!p(this,wf))return!1;const{print:t,view:e}=this.usage;return p(this,Tg)?(e==null?void 0:e.viewState)!=="OFF":p(this,Dg)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,i=!1){t!==qh&&gi("Internal method `_setVisible` called."),O(this,Rg,i),O(this,wf,e)}}Tg=new WeakMap,Dg=new WeakMap,Rg=new WeakMap,wf=new WeakMap;var kl,di,Af,_f,kg,tA;class L4{constructor(t,e=Xr.DISPLAY){P(this,kg);P(this,kl,null);P(this,di,new Map);P(this,Af,null);P(this,_f,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,O(this,_f,t.order);for(const i of t.groups)p(this,di).set(i.id,new M4(e,i));if(t.baseState==="OFF")for(const i of p(this,di).values())i._setVisible(qh,!1);for(const i of t.on)p(this,di).get(i)._setVisible(qh,!0);for(const i of t.off)p(this,di).get(i)._setVisible(qh,!1);O(this,Af,this.getHash())}}isVisible(t){if(p(this,di).size===0)return!0;if(!t)return Wy("Optional content group not defined."),!0;if(t.type==="OCG")return p(this,di).has(t.id)?p(this,di).get(t.id).visible:(Ee(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return z(this,kg,tA).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!p(this,di).has(e))return Ee(`Optional content group not found: ${e}`),!0;if(p(this,di).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!p(this,di).has(e))return Ee(`Optional content group not found: ${e}`),!0;if(!p(this,di).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!p(this,di).has(e))return Ee(`Optional content group not found: ${e}`),!0;if(!p(this,di).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!p(this,di).has(e))return Ee(`Optional content group not found: ${e}`),!0;if(p(this,di).get(e).visible)return!1}return!0}return Ee(`Unknown optional content policy ${t.policy}.`),!0}return Ee(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,i=!0){var a;const r=p(this,di).get(t);if(!r){Ee(`Optional content group not found: ${t}`);return}if(i&&e&&r.rbGroups.length)for(const o of r.rbGroups)for(const l of o)l!==t&&((a=p(this,di).get(l))==null||a._setVisible(qh,!1,!0));r._setVisible(qh,!!e,!0),O(this,kl,null)}setOCGState({state:t,preserveRB:e}){let i;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const a=p(this,di).get(r);if(a)switch(i){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!a.visible,e);break}}O(this,kl,null)}get hasInitialVisibility(){return p(this,Af)===null||this.getHash()===p(this,Af)}getOrder(){return p(this,di).size?p(this,_f)?p(this,_f).slice():[...p(this,di).keys()]:null}getGroup(t){return p(this,di).get(t)||null}getHash(){if(p(this,kl)!==null)return p(this,kl);const t=new ok;for(const[e,i]of p(this,di))t.update(`${e}:${i.visible}`);return O(this,kl,t.hexdigest())}[Symbol.iterator](){return p(this,di).entries()}}kl=new WeakMap,di=new WeakMap,Af=new WeakMap,_f=new WeakMap,kg=new WeakSet,tA=function(t){const e=t.length;if(e<2)return!0;const i=t[0];for(let r=1;r<e;r++){const a=t[r];let o;if(Array.isArray(a))o=z(this,kg,tA).call(this,a);else if(p(this,di).has(a))o=p(this,di).get(a).visible;else return Ee(`Optional content group not found: ${a}`),!0;switch(i){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return i==="And"};class I4{constructor(t,{disableRange:e=!1,disableStream:i=!1}){un(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:a,progressiveDone:o,contentDispositionFilename:l}=t;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=l,(a==null?void 0:a.length)>0){const h=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(h)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((h,f)=>{this._onReceiveData({begin:h,chunk:f})}),t.addProgressListener((h,f)=>{this._onProgress({loaded:h,total:f})}),t.addProgressiveReadListener(h=>{this._onReceiveData({chunk:h})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const i=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.some(function(a){return a._begin!==t?!1:(a._enqueue(i),!0)});un(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,i,r,a;t.total===void 0?(i=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||i.call(e,{loaded:t.loaded}):(a=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||a.call(r,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){un(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new B4(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new P4(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeReaders.slice(0))i.cancel(t);this._pdfDataRangeTransport.abort()}}class B4{constructor(t,e,i=!1,r=null){this._stream=t,this._done=i||!1,this._filename=__(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class P4{constructor(t,e,i){this._stream=t,this._begin=e,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function z4(u){let t=!0,e=i("filename\\*","i").exec(u);if(e){e=e[1];let g=l(e);return g=unescape(g),g=h(g),g=f(g),a(g)}if(e=o(u),e){const g=f(e);return a(g)}if(e=i("filename","i").exec(u),e){e=e[1];let g=l(e);return g=f(g),a(g)}function i(g,m){return new RegExp("(?:^|;)\\s*"+g+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',m)}function r(g,m){if(g){if(!/^[\x00-\xFF]+$/.test(m))return m;try{const y=new TextDecoder(g,{fatal:!0}),b=Nm(m);m=y.decode(b),t=!1}catch{}}return m}function a(g){return t&&/[\x80-\xff]/.test(g)&&(g=r("utf-8",g),t&&(g=r("iso-8859-1",g))),g}function o(g){const m=[];let y;const b=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(y=b.exec(g))!==null;){let[,A,w,E]=y;if(A=parseInt(A,10),A in m){if(A===0)break;continue}m[A]=[w,E]}const T=[];for(let A=0;A<m.length&&A in m;++A){let[w,E]=m[A];E=l(E),w&&(E=unescape(E),A===0&&(E=h(E))),T.push(E)}return T.join("")}function l(g){if(g.startsWith('"')){const m=g.slice(1).split('\\"');for(let y=0;y<m.length;++y){const b=m[y].indexOf('"');b!==-1&&(m[y]=m[y].slice(0,b),m.length=y+1),m[y]=m[y].replaceAll(/\\(.)/g,"$1")}g=m.join('"')}return g}function h(g){const m=g.indexOf("'");if(m===-1)return g;const y=g.slice(0,m),T=g.slice(m+1).replace(/^[^']*'/,"");return r(y,T)}function f(g){return!g.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(g)?g:g.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(m,y,b,T){if(b==="q"||b==="Q")return T=T.replaceAll("_"," "),T=T.replaceAll(/=([0-9a-fA-F]{2})/g,function(A,w){return String.fromCharCode(parseInt(w,16))}),r(y,T);try{T=atob(T)}catch{}return r(y,T)})}return""}function bk(u,t){const e=new Headers;if(!u||!t||typeof t!="object")return e;for(const i in t){const r=t[i];r!==void 0&&e.append(i,r)}return e}function Xy(u){var t;return((t=URL.parse(u))==null?void 0:t.origin)??null}function wk({responseHeaders:u,isHttp:t,rangeChunkSize:e,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(u.get("Content-Length"),10);return!Number.isInteger(a)||(r.suggestedLength=a,a<=2*e)||i||!t||u.get("Accept-Ranges")!=="bytes"||(u.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function Ak(u){const t=u.get("Content-Disposition");if(t){let e=z4(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(__(e))return e}return null}function Im(u,t){return new iy(`Unexpected server response (${u}) while retrieving PDF "${t}".`,u,u===404||u===0&&t.startsWith("file:"))}function _k(u){return u===200||u===206}function Ek(u,t,e){return{method:"GET",headers:u,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function Sk(u){return u instanceof Uint8Array?u.buffer:u instanceof ArrayBuffer?u:(Ee(`getArrayBuffer - unexpected data format: ${u}`),new Uint8Array(u).buffer)}class F4{constructor(t){Bt(this,"_responseOrigin",null);this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=bk(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return un(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new U4(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new H4(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class U4{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const i=new Headers(t.headers),r=e.url;fetch(r,Ek(i,this._withCredentials,this._abortController)).then(a=>{if(t._responseOrigin=Xy(a.url),!_k(a.status))throw Im(a.status,r);this._reader=a.body.getReader(),this._headersCapability.resolve();const o=a.headers,{allowRangeRequests:l,suggestedLength:h}=wk({responseHeaders:o,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=h||this._contentLength,this._filename=Ak(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new eu("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Sk(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class H4{constructor(t,e,i){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const a=new Headers(t.headers);a.append("Range",`bytes=${e}-${i-1}`);const o=r.url;fetch(o,Ek(a,this._withCredentials,this._abortController)).then(l=>{const h=Xy(l.url);if(h!==t._responseOrigin)throw new Error(`Expected range response-origin "${h}" to match "${t._responseOrigin}".`);if(!_k(l.status))throw Im(l.status,o);this._readCapability.resolve(),this._reader=l.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:Sk(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const aw=200,ow=206;function j4(u){const t=u.response;return typeof t!="string"?t:Nm(t).buffer}class q4{constructor({url:t,httpHeaders:e,withCredentials:i}){Bt(this,"_responseOrigin",null);this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=bk(this.isHttp,e),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[a,o]of this.headers)e.setRequestHeader(a,o);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=ow):r.expectedStatus=aw,e.responseType="arraybuffer",un(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,i),e.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),i}onProgress(t,e){var r;const i=this.pendingRequests[t];i&&((r=i.onProgress)==null||r.call(i,e))}onStateChange(t,e){const i=this.pendingRequests[t];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){i.onError(r.status);return}const a=r.status||aw;if(!(a===aw&&i.expectedStatus===ow)&&a!==i.expectedStatus){i.onError(r.status);return}const l=j4(r);if(a===ow){const h=r.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);f?i.onDone({begin:parseInt(f[1],10),chunk:l}):(Ee('Missing or invalid "Content-Range" header.'),i.onError(0))}else l?i.onDone({begin:0,chunk:l}):i.onError(r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class G4{constructor(t){this._source=t,this._manager=new q4(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return un(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new V4(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const i=new $4(this._manager,t,e);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class V4{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=Xy(e.responseURL);const i=e.getAllResponseHeaders(),r=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(l=>{const[h,...f]=l.split(": ");return[h,f.join(": ")]}):[]),{allowRangeRequests:a,suggestedLength:o}=wk({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=Ak(r),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Im(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class $4{constructor(t,e,i){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var e;const t=Xy((e=this._manager.getRequestXhr(this._requestId))==null?void 0:e.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??(this._storedError=Im(t,this._url));for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const W4=/^[a-z][a-z0-9\-+.]+:/i;function Y4(u){if(W4.test(u))return new URL(u);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(u))}class X4{constructor(t){this.source=t,this.url=Y4(t.url),un(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return un(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new K4(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new Z4(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class K4{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=Im(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new eu("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Z4{constructor(t,e,i){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=t.source;this._isStreamingSupported=!r.disableStream;const a=process.getBuiltinModule("fs");this._setReadableStream(a.createReadStream(this._url,{start:e,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const vp=Symbol("INITIAL_DATA");var Fr,Ng,eA;class xk{constructor(){P(this,Ng);P(this,Fr,Object.create(null))}get(t,e=null){if(e){const r=z(this,Ng,eA).call(this,t);return r.promise.then(()=>e(r.data)),null}const i=p(this,Fr)[t];if(!i||i.data===vp)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){const e=p(this,Fr)[t];return!!e&&e.data!==vp}delete(t){const e=p(this,Fr)[t];return!e||e.data===vp?!1:(delete p(this,Fr)[t],!0)}resolve(t,e=null){const i=z(this,Ng,eA).call(this,t);i.data=e,i.resolve()}clear(){var t;for(const e in p(this,Fr)){const{data:i}=p(this,Fr)[e];(t=i==null?void 0:i.bitmap)==null||t.close()}O(this,Fr,Object.create(null))}*[Symbol.iterator](){for(const t in p(this,Fr)){const{data:e}=p(this,Fr)[t];e!==vp&&(yield[t,e])}}}Fr=new WeakMap,Ng=new WeakSet,eA=function(t){var e;return(e=p(this,Fr))[t]||(e[t]={...Promise.withResolvers(),data:vp})};const Q4=1e5,pD=30;var yD,Nl,Er,Og,Mg,ec,mo,Lg,Ig,ic,Ef,Sf,Ol,xf,Bg,Cf,nc,Pg,zg,Tf,rc,Fg,Ml,Df,Fo,Ck,Tk,iA,es,E0,nA,Dk,Rk;const pn=class pn{constructor({textContentSource:t,container:e,viewport:i}){P(this,Fo);P(this,Nl,Promise.withResolvers());P(this,Er,null);P(this,Og,!1);P(this,Mg,!!((yD=globalThis.FontInspector)!=null&&yD.enabled));P(this,ec,null);P(this,mo,null);P(this,Lg,0);P(this,Ig,0);P(this,ic,null);P(this,Ef,null);P(this,Sf,0);P(this,Ol,0);P(this,xf,Object.create(null));P(this,Bg,[]);P(this,Cf,null);P(this,nc,[]);P(this,Pg,new WeakMap);P(this,zg,null);var h;if(t instanceof ReadableStream)O(this,Cf,t);else if(typeof t=="object")O(this,Cf,new ReadableStream({start(f){f.enqueue(t),f.close()}}));else throw new Error('No "textContentSource" parameter specified.');O(this,Er,O(this,Ef,e)),O(this,Ol,i.scale*Na.pixelRatio),O(this,Sf,i.rotation),O(this,mo,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:a,pageX:o,pageY:l}=i.rawDims;O(this,zg,[1,0,0,-1,-o,l+a]),O(this,Ig,r),O(this,Lg,a),z(h=pn,es,Dk).call(h),Uc(e,i),p(this,Nl).promise.finally(()=>{p(pn,Df).delete(this),O(this,mo,null),O(this,xf,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=qn.platform;return Ie(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{p(this,ic).read().then(({value:e,done:i})=>{if(i){p(this,Nl).resolve();return}p(this,ec)??O(this,ec,e.lang),Object.assign(p(this,xf),e.styles),z(this,Fo,Ck).call(this,e.items),t()},p(this,Nl).reject)};return O(this,ic,p(this,Cf).getReader()),p(pn,Df).add(this),t(),p(this,Nl).promise}update({viewport:t,onBefore:e=null}){var a;const i=t.scale*Na.pixelRatio,r=t.rotation;if(r!==p(this,Sf)&&(e==null||e(),O(this,Sf,r),Uc(p(this,Ef),{rotation:r})),i!==p(this,Ol)){e==null||e(),O(this,Ol,i);const o={div:null,properties:null,ctx:z(a=pn,es,E0).call(a,p(this,ec))};for(const l of p(this,nc))o.properties=p(this,Pg).get(l),o.div=l,z(this,Fo,iA).call(this,o)}}cancel(){var e;const t=new eu("TextLayer task cancelled.");(e=p(this,ic))==null||e.cancel(t).catch(()=>{}),O(this,ic,null),p(this,Nl).reject(t)}get textDivs(){return p(this,nc)}get textContentItemsStr(){return p(this,Bg)}static cleanup(){if(!(p(this,Df).size>0)){p(this,Tf).clear();for(const{canvas:t}of p(this,rc).values())t.remove();p(this,rc).clear()}}};Nl=new WeakMap,Er=new WeakMap,Og=new WeakMap,Mg=new WeakMap,ec=new WeakMap,mo=new WeakMap,Lg=new WeakMap,Ig=new WeakMap,ic=new WeakMap,Ef=new WeakMap,Sf=new WeakMap,Ol=new WeakMap,xf=new WeakMap,Bg=new WeakMap,Cf=new WeakMap,nc=new WeakMap,Pg=new WeakMap,zg=new WeakMap,Tf=new WeakMap,rc=new WeakMap,Fg=new WeakMap,Ml=new WeakMap,Df=new WeakMap,Fo=new WeakSet,Ck=function(t){var r,a;if(p(this,Og))return;(a=p(this,mo)).ctx??(a.ctx=z(r=pn,es,E0).call(r,p(this,ec)));const e=p(this,nc),i=p(this,Bg);for(const o of t){if(e.length>Q4){Ee("Ignoring additional textDivs for performance reasons."),O(this,Og,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const l=p(this,Er);O(this,Er,document.createElement("span")),p(this,Er).classList.add("markedContent"),o.id!==null&&p(this,Er).setAttribute("id",`${o.id}`),l.append(p(this,Er))}else o.type==="endMarkedContent"&&O(this,Er,p(this,Er).parentNode);continue}i.push(o.str),z(this,Fo,Tk).call(this,o)}},Tk=function(t){var A;const e=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};p(this,nc).push(e);const r=le.transform(p(this,zg),t.transform);let a=Math.atan2(r[1],r[0]);const o=p(this,xf)[t.fontName];o.vertical&&(a+=Math.PI/2);let l=p(this,Mg)&&o.fontSubstitution||o.fontFamily;l=pn.fontFamilyMap.get(l)||l;const h=Math.hypot(r[2],r[3]),f=h*z(A=pn,es,Rk).call(A,l,o,p(this,ec));let g,m;a===0?(g=r[4],m=r[5]-f):(g=r[4]+f*Math.sin(a),m=r[5]-f*Math.cos(a));const y="calc(var(--total-scale-factor) *",b=e.style;p(this,Er)===p(this,Ef)?(b.left=`${(100*g/p(this,Ig)).toFixed(2)}%`,b.top=`${(100*m/p(this,Lg)).toFixed(2)}%`):(b.left=`${y}${g.toFixed(2)}px)`,b.top=`${y}${m.toFixed(2)}px)`),b.fontSize=`${y}${(p(pn,Ml)*h).toFixed(2)}px)`,b.fontFamily=l,i.fontSize=h,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,p(this,Mg)&&(e.dataset.fontName=o.fontSubstitutionLoadedName||t.fontName),a!==0&&(i.angle=a*(180/Math.PI));let T=!1;if(t.str.length>1)T=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const w=Math.abs(t.transform[0]),E=Math.abs(t.transform[3]);w!==E&&Math.max(w,E)/Math.min(w,E)>1.5&&(T=!0)}if(T&&(i.canvasWidth=o.vertical?t.height:t.width),p(this,Pg).set(e,i),p(this,mo).div=e,p(this,mo).properties=i,z(this,Fo,iA).call(this,p(this,mo)),i.hasText&&p(this,Er).append(e),i.hasEOL){const w=document.createElement("br");w.setAttribute("role","presentation"),p(this,Er).append(w)}},iA=function(t){var l;const{div:e,properties:i,ctx:r}=t,{style:a}=e;let o="";if(p(pn,Ml)>1&&(o=`scale(${1/p(pn,Ml)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:h}=a,{canvasWidth:f,fontSize:g}=i;z(l=pn,es,nA).call(l,r,g*p(this,Ol),h);const{width:m}=r.measureText(e.textContent);m>0&&(o=`scaleX(${f*p(this,Ol)/m}) ${o}`)}i.angle!==0&&(o=`rotate(${i.angle}deg) ${o}`),o.length>0&&(a.transform=o)},es=new WeakSet,E0=function(t=null){let e=p(this,rc).get(t||(t=""));if(!e){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=t,document.body.append(i),e=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),p(this,rc).set(t,e),p(this,Fg).set(e,{size:0,family:""})}return e},nA=function(t,e,i){const r=p(this,Fg).get(t);e===r.size&&i===r.family||(t.font=`${e}px ${i}`,r.size=e,r.family=i)},Dk=function(){if(p(this,Ml)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),O(this,Ml,t.getBoundingClientRect().height),t.remove()},Rk=function(t,e,i){const r=p(this,Tf).get(t);if(r)return r;const a=z(this,es,E0).call(this,i);a.canvas.width=a.canvas.height=pD,z(this,es,nA).call(this,a,pD,t);const o=a.measureText(""),l=o.fontBoundingBoxAscent,h=Math.abs(o.fontBoundingBoxDescent);a.canvas.width=a.canvas.height=0;let f=.8;return l?f=l/(l+h):(qn.platform.isFirefox&&Ee("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?f=e.ascent:e.descent&&(f=1+e.descent)),p(this,Tf).set(t,f),f},P(pn,es),P(pn,Tf,new Map),P(pn,rc,new Map),P(pn,Fg,new WeakMap),P(pn,Ml,null),P(pn,Df,new Set);let Xp=pn;class Kp{static textContent(t){const e=[],i={items:e,styles:Object.create(null)};function r(a){var h;if(!a)return;let o=null;const l=a.name;if(l==="#text")o=a.value;else if(Kp.shouldBuildText(l))(h=a==null?void 0:a.attributes)!=null&&h.textContent?o=a.attributes.textContent:a.value&&(o=a.value);else return;if(o!==null&&e.push({str:o}),!!a.children)for(const f of a.children)r(f)}return r(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const J4=100;function kk(u={}){typeof u=="string"||u instanceof URL?u={url:u}:(u instanceof ArrayBuffer||ArrayBuffer.isView(u))&&(u={data:u});const t=new rA,{docId:e}=t,i=u.url?l4(u.url):null,r=u.data?u4(u.data):null,a=u.httpHeaders||null,o=u.withCredentials===!0,l=u.password??null,h=u.range instanceof Nk?u.range:null,f=Number.isInteger(u.rangeChunkSize)&&u.rangeChunkSize>0?u.rangeChunkSize:2**16;let g=u.worker instanceof Zp?u.worker:null;const m=u.verbosity,y=typeof u.docBaseUrl=="string"&&!Yy(u.docBaseUrl)?u.docBaseUrl:null,b=Jv(u.cMapUrl),T=u.cMapPacked!==!1,A=u.CMapReaderFactory||(cr?v4:iD),w=Jv(u.iccUrl),E=Jv(u.standardFontDataUrl),D=u.StandardFontDataFactory||(cr?y4:nD),R=Jv(u.wasmUrl),N=u.WasmFactory||(cr?b4:rD),x=u.stopAtErrors!==!0,L=Number.isInteger(u.maxImageSize)&&u.maxImageSize>-1?u.maxImageSize:-1,I=u.isEvalSupported!==!1,U=typeof u.isOffscreenCanvasSupported=="boolean"?u.isOffscreenCanvasSupported:!cr,F=typeof u.isImageDecoderSupported=="boolean"?u.isImageDecoderSupported:!cr&&(qn.platform.isFirefox||!globalThis.chrome),k=Number.isInteger(u.canvasMaxAreaInBytes)?u.canvasMaxAreaInBytes:-1,$=typeof u.disableFontFace=="boolean"?u.disableFontFace:cr,Y=u.fontExtraProperties===!0,J=u.enableXfa===!0,ft=u.ownerDocument||globalThis.document,bt=u.disableRange===!0,X=u.disableStream===!0,Z=u.disableAutoFetch===!0,ct=u.pdfBug===!0,_t=u.CanvasFactory||(cr?m4:d4),K=u.FilterFactory||(cr?g4:p4),it=u.enableHWA===!0,gt=u.useWasm!==!1,At=h?h.length:u.length??NaN,Dt=typeof u.useSystemFonts=="boolean"?u.useSystemFonts:!cr&&!$,qt=typeof u.useWorkerFetch=="boolean"?u.useWorkerFetch:!!(A===iD&&D===nD&&N===rD&&b&&E&&R&&_p(b,document.baseURI)&&_p(E,document.baseURI)&&_p(R,document.baseURI)),Ht=null;U5(m);const Yt={canvasFactory:new _t({ownerDocument:ft,enableHWA:it}),filterFactory:new K({docId:e,ownerDocument:ft}),cMapReaderFactory:qt?null:new A({baseUrl:b,isCompressed:T}),standardFontDataFactory:qt?null:new D({baseUrl:E}),wasmFactory:qt?null:new N({baseUrl:R})};g||(g=Zp.create({verbosity:m,port:Da.workerPort}),t._worker=g);const zt={docId:e,apiVersion:"5.3.31",data:r,password:l,disableAutoFetch:Z,rangeChunkSize:f,length:At,docBaseUrl:y,enableXfa:J,evaluatorOptions:{maxImageSize:L,disableFontFace:$,ignoreErrors:x,isEvalSupported:I,isOffscreenCanvasSupported:U,isImageDecoderSupported:F,canvasMaxAreaInBytes:k,fontExtraProperties:Y,useSystemFonts:Dt,useWasm:gt,useWorkerFetch:qt,cMapUrl:b,iccUrl:w,standardFontDataUrl:E,wasmUrl:R}},ve={ownerDocument:ft,pdfBug:ct,styleElement:Ht,loadingParams:{disableAutoFetch:Z,enableXfa:J}};return g.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const Te=g.messageHandler.sendWithPromise("GetDocRequest",zt,r?[r.buffer]:null);let oe;if(h)oe=new I4(h,{disableRange:bt,disableStream:X});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");const fe=_p(i)?F4:cr?X4:G4;oe=new fe({url:i,length:At,httpHeaders:a,withCredentials:o,rangeChunkSize:f,disableRange:bt,disableStream:X})}return Te.then(fe=>{if(t.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const de=new Tp(e,fe,g.port),ye=new i8(de,t,oe,ve,Yt);t._transport=ye,de.send("Ready",null)})}).catch(t._capability.reject),t}var by;const wy=class wy{constructor(){Bt(this,"_capability",Promise.withResolvers());Bt(this,"_transport",null);Bt(this,"_worker",null);Bt(this,"docId",`d${nr(wy,by)._++}`);Bt(this,"destroyed",!1);Bt(this,"onPassword",null);Bt(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var t,e,i,r;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(a){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,a}this._transport=null,(r=this._worker)==null||r.destroy(),this._worker=null}async getData(){return this._transport.getData()}};by=new WeakMap,P(wy,by,0);let rA=wy;var sc,Ug,Hg,jg,qg;class Nk{constructor(t,e,i=!1,r=null){P(this,sc,Promise.withResolvers());P(this,Ug,[]);P(this,Hg,[]);P(this,jg,[]);P(this,qg,[]);this.length=t,this.initialData=e,this.progressiveDone=i,this.contentDispositionFilename=r}addRangeListener(t){p(this,qg).push(t)}addProgressListener(t){p(this,jg).push(t)}addProgressiveReadListener(t){p(this,Hg).push(t)}addProgressiveDoneListener(t){p(this,Ug).push(t)}onDataRange(t,e){for(const i of p(this,qg))i(t,e)}onDataProgress(t,e){p(this,sc).promise.then(()=>{for(const i of p(this,jg))i(t,e)})}onDataProgressiveRead(t){p(this,sc).promise.then(()=>{for(const e of p(this,Hg))e(t)})}onDataProgressiveDone(){p(this,sc).promise.then(()=>{for(const t of p(this,Ug))t()})}transportReady(){p(this,sc).resolve()}requestDataRange(t,e){gi("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}sc=new WeakMap,Ug=new WeakMap,Hg=new WeakMap,jg=new WeakMap,qg=new WeakMap;class t8{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ie(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var vo,ac,Op;class e8{constructor(t,e,i,r=!1){P(this,ac);P(this,vo,!1);this._pageIndex=t,this._pageInfo=e,this._transport=i,this._stats=r?new JT:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new xk,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:a=!1}={}){return new Mm({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:r,dontFlip:a})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ie(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:i="display",annotationMode:r=pl.ENABLE,transform:a=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:h=null,pageColors:f=null,printAnnotationStorage:g=null,isEditing:m=!1}){var N,x;(N=this._stats)==null||N.time("Overall");const y=this._transport.getRenderingIntent(i,r,g,m),{renderingIntent:b,cacheKey:T}=y;O(this,vo,!1),l||(l=this._transport.getOptionalContentConfig(b));let A=this._intentStates.get(T);A||(A=Object.create(null),this._intentStates.set(T,A)),A.streamReaderCancelTimeout&&(clearTimeout(A.streamReaderCancelTimeout),A.streamReaderCancelTimeout=null);const w=!!(b&Xr.PRINT);A.displayReadyCapability||(A.displayReadyCapability=Promise.withResolvers(),A.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(x=this._stats)==null||x.time("Page Request"),this._pumpOperatorList(y));const E=L=>{var I;A.renderTasks.delete(D),w&&O(this,vo,!0),z(this,ac,Op).call(this),L?(D.capability.reject(L),this._abortOperatorList({intentState:A,reason:L instanceof Error?L:new Error(L)})):D.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(I=globalThis.Stats)!=null&&I.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},D=new sA({callback:E,params:{canvasContext:t,viewport:e,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:h,operatorList:A.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!w,pdfBug:this._pdfBug,pageColors:f});(A.renderTasks||(A.renderTasks=new Set)).add(D);const R=D.task;return Promise.all([A.displayReadyCapability.promise,l]).then(([L,I])=>{var U;if(this.destroyed){E();return}if((U=this._stats)==null||U.time("Rendering"),!(I.renderingIntent&b))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");D.initializeGraphics({transparency:L,optionalContentConfig:I}),D.operatorListChanged()}).catch(E),R}getOperatorList({intent:t="display",annotationMode:e=pl.ENABLE,printAnnotationStorage:i=null,isEditing:r=!1}={}){var f;function a(){l.operatorList.lastChunk&&(l.opListReadCapability.resolve(l.operatorList),l.renderTasks.delete(h))}const o=this._transport.getRenderingIntent(t,e,i,r,!0);let l=this._intentStates.get(o.cacheKey);l||(l=Object.create(null),this._intentStates.set(o.cacheKey,l));let h;return l.opListReadCapability||(h=Object.create(null),h.operatorListChanged=a,l.opListReadCapability=Promise.withResolvers(),(l.renderTasks||(l.renderTasks=new Set)).add(h),l.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(f=this._stats)==null||f.time("Page Request"),this._pumpOperatorList(o)),l.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>Kp.textContent(i));const e=this.streamTextContent(t);return new Promise(function(i,r){function a(){o.read().then(function({value:h,done:f}){if(f){i(l);return}l.lang??(l.lang=h.lang),Object.assign(l.styles,h.styles),l.items.push(...h.items),a()},r)}const o=e.getReader(),l={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const i of e.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),O(this,vo,!1),Promise.all(t)}cleanup(t=!1){O(this,vo,!0);const e=z(this,ac,Op).call(this);return t&&e&&this._stats&&(this._stats=new JT),e}_startRenderPage(t,e){var r,a;const i=this._intentStates.get(e);i&&((r=this._stats)==null||r.timeEnd("Page Request"),(a=i.displayReadyCapability)==null||a.resolve(t))}_renderPageChunk(t,e){for(let i=0,r=t.length;i<r;i++)e.operatorList.fnArray.push(t.fnArray[i]),e.operatorList.argsArray.push(t.argsArray[i]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const i of e.renderTasks)i.operatorListChanged();t.lastChunk&&z(this,ac,Op).call(this)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:i,modifiedIds:r}){const{map:a,transfer:o}=i,h=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:a,modifiedIds:r},o).getReader(),f=this._intentStates.get(e);f.streamReader=h;const g=()=>{h.read().then(({value:m,done:y})=>{if(y){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(m,f),g())},m=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const y of f.renderTasks)y.operatorListChanged();z(this,ac,Op).call(this)}if(f.displayReadyCapability)f.displayReadyCapability.reject(m);else if(f.opListReadCapability)f.opListReadCapability.reject(m);else throw m}})};g()}_abortOperatorList({intentState:t,reason:e,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(e instanceof A_){let r=J4;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new eu(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,a]of this._intentStates)if(a===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}vo=new WeakMap,ac=new WeakSet,Op=function(){if(!p(this,vo)||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),O(this,vo,!1),!0};var Ll,Us,yo,oc,Ay,lc,uc,fr,S0,Ok,Mk,Mp,Rf,x0;const Ni=class Ni{constructor({name:t=null,port:e=null,verbosity:i=H5()}={}){P(this,fr);P(this,Ll,Promise.withResolvers());P(this,Us,null);P(this,yo,null);P(this,oc,null);if(this.name=t,this.destroyed=!1,this.verbosity=i,e){if(p(Ni,uc).has(e))throw new Error("Cannot use more than one PDFWorker per port.");p(Ni,uc).set(e,this),z(this,fr,Ok).call(this,e)}else z(this,fr,Mk).call(this)}get promise(){return p(this,Ll).promise}get port(){return p(this,yo)}get messageHandler(){return p(this,Us)}destroy(){var t,e;this.destroyed=!0,(t=p(this,oc))==null||t.terminate(),O(this,oc,null),p(Ni,uc).delete(p(this,yo)),O(this,yo,null),(e=p(this,Us))==null||e.destroy(),O(this,Us,null)}static create(t){const e=p(this,uc).get(t==null?void 0:t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Ni(t)}static get workerSrc(){if(Da.workerSrc)return Da.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ie(this,"_setupFakeWorkerGlobal",(async()=>p(this,Rf,x0)?p(this,Rf,x0):(await import(this.workerSrc)).WorkerMessageHandler)())}};Ll=new WeakMap,Us=new WeakMap,yo=new WeakMap,oc=new WeakMap,Ay=new WeakMap,lc=new WeakMap,uc=new WeakMap,fr=new WeakSet,S0=function(){p(this,Ll).resolve(),p(this,Us).send("configure",{verbosity:this.verbosity})},Ok=function(t){O(this,yo,t),O(this,Us,new Tp("main","worker",t)),p(this,Us).on("ready",()=>{}),z(this,fr,S0).call(this)},Mk=function(){if(p(Ni,lc)||p(Ni,Rf,x0)){z(this,fr,Mp).call(this);return}let{workerSrc:t}=Ni;try{Ni._isSameOrigin(window.location,t)||(t=Ni._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),i=new Tp("main","worker",e),r=()=>{a.abort(),i.destroy(),e.terminate(),this.destroyed?p(this,Ll).reject(new Error("Worker was destroyed")):z(this,fr,Mp).call(this)},a=new AbortController;e.addEventListener("error",()=>{p(this,oc)||r()},{signal:a.signal}),i.on("test",l=>{if(a.abort(),this.destroyed||!l){r();return}O(this,Us,i),O(this,yo,e),O(this,oc,e),z(this,fr,S0).call(this)}),i.on("ready",l=>{if(a.abort(),this.destroyed){r();return}try{o()}catch{z(this,fr,Mp).call(this)}});const o=()=>{const l=new Uint8Array;i.send("test",l,[l.buffer])};o();return}catch{Wy("The worker has been disabled.")}z(this,fr,Mp).call(this)},Mp=function(){p(Ni,lc)||(Ee("Setting up fake worker."),O(Ni,lc,!0)),Ni._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){p(this,Ll).reject(new Error("Worker was destroyed"));return}const e=new f4;O(this,yo,e);const i=`fake${nr(Ni,Ay)._++}`,r=new Tp(i+"_worker",i,e);t.setup(r,e),O(this,Us,new Tp(i,i+"_worker",e)),z(this,fr,S0).call(this)}).catch(t=>{p(this,Ll).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},Rf=new WeakSet,x0=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},P(Ni,Rf),P(Ni,Ay,0),P(Ni,lc,!1),P(Ni,uc,new WeakMap),cr&&(O(Ni,lc,!0),Da.workerSrc||(Da.workerSrc="./pdf.worker.mjs")),Ni._isSameOrigin=(t,e)=>{const i=URL.parse(t);if(!(i!=null&&i.origin)||i.origin==="null")return!1;const r=new URL(e,i);return i.origin===r.origin},Ni._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},Ni.fromPort=t=>{if(J5("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Ni.create(t)};let Zp=Ni;var bo,ya,kf,Nf,wo,cc,Lp;class i8{constructor(t,e,i,r,a){P(this,cc);P(this,bo,new Map);P(this,ya,new Map);P(this,kf,new Map);P(this,Nf,new Map);P(this,wo,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new xk,this.fontLoader=new a4({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.wasmFactory=a.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Ie(this,"annotationStorage",new x_)}getRenderingIntent(t,e=pl.ENABLE,i=null,r=!1,a=!1){let o=Xr.DISPLAY,l=Vw;switch(t){case"any":o=Xr.ANY;break;case"display":break;case"print":o=Xr.PRINT;break;default:Ee(`getRenderingIntent - invalid intent: ${t}`)}const h=o&Xr.PRINT&&i instanceof uk?i:this.annotationStorage;switch(e){case pl.DISABLE:o+=Xr.ANNOTATIONS_DISABLE;break;case pl.ENABLE:break;case pl.ENABLE_FORMS:o+=Xr.ANNOTATIONS_FORMS;break;case pl.ENABLE_STORAGE:o+=Xr.ANNOTATIONS_STORAGE,l=h.serializable;break;default:Ee(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(o+=Xr.IS_EDITING),a&&(o+=Xr.OPLIST);const{ids:f,hash:g}=h.modifiedIds,m=[o,l.hash,g];return{renderingIntent:o,cacheKey:m.join("_"),annotationStorageSerializable:l,modifiedIds:f}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=p(this,wo))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const r of p(this,ya).values())t.push(r._destroy());p(this,ya).clear(),p(this,kf).clear(),p(this,Nf).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var r,a;this.commonObjs.clear(),this.fontLoader.clear(),p(this,bo).clear(),this.filterFactory.destroy(),Xp.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new eu("Worker was terminated.")),(a=this.messageHandler)==null||a.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(i,r)=>{un(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},r.onPull=()=>{this._fullReader.read().then(function({value:a,done:o}){if(o){r.close();return}un(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{r.error(a)})},r.onCancel=a=>{this._fullReader.cancel(a),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),t.on("ReaderHeadersReady",async i=>{var l;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:a,contentLength:o}=this._fullReader;return(!r||!a)&&(this._lastProgress&&((l=e.onProgress)==null||l.call(e,this._lastProgress)),this._fullReader.onProgress=h=>{var f;(f=e.onProgress)==null||f.call(e,{loaded:h.loaded,total:h.total})}),{isStreamingSupported:r,isRangeSupported:a,contentLength:o}}),t.on("GetRangeReader",(i,r)=>{un(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(i.begin,i.end);if(!a){r.close();return}r.onPull=()=>{a.read().then(function({value:o,done:l}){if(l){r.close();return}un(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{a.cancel(o),r.ready.catch(l=>{if(!this.destroyed)throw l})}}),t.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,e._capability.resolve(new t8(i,this))}),t.on("DocException",i=>{e._capability.reject(wr(i))}),t.on("PasswordRequest",i=>{O(this,wo,Promise.withResolvers());try{if(!e.onPassword)throw wr(i);const r=a=>{a instanceof Error?p(this,wo).reject(a):p(this,wo).resolve({password:a})};e.onPassword(r,i.code)}catch(r){p(this,wo).reject(r)}return p(this,wo).promise}),t.on("DataLoaded",i=>{var r;(r=e.onProgress)==null||r.call(e,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;p(this,ya).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,r,a])=>{var o;if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":if("error"in a){const g=a.error;Ee(`Error during font loading: ${g}`),this.commonObjs.resolve(i,g);break}const l=this._params.pdfBug&&((o=globalThis.FontInspector)!=null&&o.enabled)?(g,m)=>globalThis.FontInspector.fontAdded(g,m):null,h=new o4(a,l);this.fontLoader.bind(h).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!h.fontExtraProperties&&h.data&&(h.data=null),this.commonObjs.resolve(i,h)});break;case"CopyLocalImage":const{imageRef:f}=a;un(f,"The imageRef must be defined.");for(const g of p(this,ya).values())for(const[,m]of g.objs)if((m==null?void 0:m.ref)===f)return m.dataLen?(this.commonObjs.resolve(i,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,a);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([i,r,a,o])=>{var h;if(this.destroyed)return;const l=p(this,ya).get(r);if(!l.objs.has(i)){if(l._intentStates.size===0){(h=o==null?void 0:o.bitmap)==null||h.close();return}switch(a){case"Image":case"Pattern":l.objs.resolve(i,o);break;default:throw new Error(`Got unknown object type ${a}`)}}}),t.on("DocProgress",i=>{var r;this.destroyed||(r=e.onProgress)==null||r.call(e,{loaded:i.loaded,total:i.total})}),t.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[i.type];if(!r)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&Ee("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((i=this._fullReader)==null?void 0:i.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,i=p(this,kf).get(e);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&p(this,Nf).set(a.refStr,t);const o=new e8(e,a,this,this._params.pdfBug);return p(this,ya).set(e,o),o});return p(this,kf).set(e,r),r}getPageIndex(t){return $w(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return z(this,cc,Lp).call(this,"GetFieldObjects")}hasJSActions(){return z(this,cc,Lp).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return z(this,cc,Lp).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return z(this,cc,Lp).call(this,"GetOptionalContentConfig").then(e=>new L4(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=p(this,bo).get(t);if(e)return e;const i=this.messageHandler.sendWithPromise(t,null).then(r=>{var a,o;return{info:r[0],metadata:r[1]?new O4(r[1]):null,contentDispositionFilename:((a=this._fullReader)==null?void 0:a.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return p(this,bo).set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of p(this,ya).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),p(this,bo).clear(),this.filterFactory.destroy(!0),Xp.cleanup()}}cachedPageNumber(t){if(!$w(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return p(this,Nf).get(e)??null}}bo=new WeakMap,ya=new WeakMap,kf=new WeakMap,Nf=new WeakMap,wo=new WeakMap,cc=new WeakSet,Lp=function(t,e=null){const i=p(this,bo).get(t);if(i)return i;const r=this.messageHandler.sendWithPromise(t,e);return p(this,bo).set(t,r),r};var Il;class n8{constructor(t){P(this,Il,null);Bt(this,"onContinue",null);Bt(this,"onError",null);O(this,Il,t)}get promise(){return p(this,Il).capability.promise}cancel(t=0){p(this,Il).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=p(this,Il).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=p(this,Il);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}Il=new WeakMap;var Bl,hc;const ku=class ku{constructor({callback:t,params:e,objs:i,commonObjs:r,annotationCanvasMap:a,operatorList:o,pageIndex:l,canvasFactory:h,filterFactory:f,useRequestAnimationFrame:g=!1,pdfBug:m=!1,pageColors:y=null}){P(this,Bl,null);this.callback=t,this.params=e,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=l,this.canvasFactory=h,this.filterFactory=f,this._pdfBug=m,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=g===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new n8(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var l,h;if(this.cancelled)return;if(this._canvas){if(p(ku,hc).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");p(ku,hc).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:r,transform:a,background:o}=this.params;this.gfx=new Jh(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:a,viewport:r,transparency:t,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(h=this.graphicsReadyCallback)==null||h.call(this)}cancel(t=null,e=0){var i,r,a;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),p(this,Bl)&&(window.cancelAnimationFrame(p(this,Bl)),O(this,Bl,null)),p(ku,hc).delete(this._canvas),t||(t=new A_(`Rendering cancelled, page ${this._pageIndex+1}`,e)),this.callback(t),(a=(r=this.task).onError)==null||a.call(r,t)}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?O(this,Bl,window.requestAnimationFrame(()=>{O(this,Bl,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),p(ku,hc).delete(this._canvas),this.callback())))}};Bl=new WeakMap,hc=new WeakMap,P(ku,hc,new WeakSet);let sA=ku;const Lk="5.3.31",r8="47ad820d9";function gD(u){return Math.floor(Math.max(0,Math.min(1,u))*255).toString(16).padStart(2,"0")}function yp(u){return Math.max(0,Math.min(255,255*u))}class mD{static CMYK_G([t,e,i,r]){return["G",1-Math.min(1,.3*t+.59*i+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=yp(t),[t,t,t]}static G_HTML([t]){const e=gD(t);return`#${e}${e}${e}`}static RGB_G([t,e,i]){return["G",.3*t+.59*e+.11*i]}static RGB_rgb(t){return t.map(yp)}static RGB_HTML(t){return`#${t.map(gD).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,i,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,i+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,i,r]){return[yp(1-Math.min(1,t+r)),yp(1-Math.min(1,i+r)),yp(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,i]){const r=1-t,a=1-e,o=1-i,l=Math.min(r,a,o);return["CMYK",r,a,o,l]}}class s8{create(t,e,i=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){gi("Abstract method `_createSVG` called.")}}class sy extends s8{_createSVG(t){return document.createElementNS(Qa,t)}}class Ik{static setupStorage(t,e,i,r,a){const o=r.getValue(e,{value:null});switch(i.name){case"textarea":if(o.value!==null&&(t.textContent=o.value),a==="print")break;t.addEventListener("input",l=>{r.setValue(e,{value:l.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(o.value===i.attributes.xfaOn?t.setAttribute("checked",!0):o.value===i.attributes.xfaOff&&t.removeAttribute("checked"),a==="print")break;t.addEventListener("change",l=>{r.setValue(e,{value:l.target.checked?l.target.getAttribute("xfaOn"):l.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&t.setAttribute("value",o.value),a==="print")break;t.addEventListener("input",l=>{r.setValue(e,{value:l.target.value})})}break;case"select":if(o.value!==null){t.setAttribute("value",o.value);for(const l of i.children)l.attributes.value===o.value?l.attributes.selected=!0:l.attributes.hasOwnProperty("selected")&&delete l.attributes.selected}t.addEventListener("input",l=>{const h=l.target.options,f=h.selectedIndex===-1?"":h[h.selectedIndex].value;r.setValue(e,{value:f})});break}}static setAttributes({html:t,element:e,storage:i=null,intent:r,linkService:a}){const{attributes:o}=e,l=t instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${r}`);for(const[h,f]of Object.entries(o))if(f!=null)switch(h){case"class":f.length&&t.setAttribute(h,f.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",f);break;case"style":Object.assign(t.style,f);break;case"textContent":t.textContent=f;break;default:(!l||h!=="href"&&h!=="newWindow")&&t.setAttribute(h,f)}l&&a.addLinkAttributes(t,o.href,o.newWindow),i&&o.dataId&&this.setupStorage(t,o.dataId,e,i)}static render(t){var m,y;const e=t.annotationStorage,i=t.linkService,r=t.xfaHtml,a=t.intent||"display",o=document.createElement(r.name);r.attributes&&this.setAttributes({html:o,element:r,intent:a,linkService:i});const l=a!=="richText",h=t.div;if(h.append(o),t.viewport){const b=`matrix(${t.viewport.transform.join(",")})`;h.style.transform=b}l&&h.setAttribute("class","xfaLayer xfaFont");const f=[];if(r.children.length===0){if(r.value){const b=document.createTextNode(r.value);o.append(b),l&&Kp.shouldBuildText(r.name)&&f.push(b)}return{textDivs:f}}const g=[[r,-1,o]];for(;g.length>0;){const[b,T,A]=g.at(-1);if(T+1===b.children.length){g.pop();continue}const w=b.children[++g.at(-1)[1]];if(w===null)continue;const{name:E}=w;if(E==="#text"){const R=document.createTextNode(w.value);f.push(R),A.append(R);continue}const D=(m=w==null?void 0:w.attributes)!=null&&m.xmlns?document.createElementNS(w.attributes.xmlns,E):document.createElement(E);if(A.append(D),w.attributes&&this.setAttributes({html:D,element:w,storage:e,intent:a,linkService:i}),((y=w.children)==null?void 0:y.length)>0)g.push([w,-1,D]);else if(w.value){const R=document.createTextNode(w.value);l&&Kp.shouldBuildText(E)&&f.push(R),D.append(R)}}for(const b of h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))b.setAttribute("readOnly",!0);return{textDivs:f}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const Bm=1e3,a8=9,jc=new WeakSet;class vD{static create(t){switch(t.data.annotationType){case an.LINK:return new Bk(t);case an.TEXT:return new o8(t);case an.WIDGET:switch(t.data.fieldType){case"Tx":return new l8(t);case"Btn":return t.data.radioButton?new Fk(t):t.data.checkBox?new c8(t):new h8(t);case"Ch":return new f8(t);case"Sig":return new u8(t)}return new Xc(t);case an.POPUP:return new oA(t);case an.FREETEXT:return new Gk(t);case an.LINE:return new p8(t);case an.SQUARE:return new g8(t);case an.CIRCLE:return new m8(t);case an.POLYLINE:return new Vk(t);case an.CARET:return new y8(t);case an.INK:return new D_(t);case an.POLYGON:return new v8(t);case an.HIGHLIGHT:return new $k(t);case an.UNDERLINE:return new b8(t);case an.SQUIGGLY:return new w8(t);case an.STRIKEOUT:return new A8(t);case an.STAMP:return new Wk(t);case an.FILEATTACHMENT:return new _8(t);default:return new Qi(t)}}}var fc,Of,Mf,Gg,aA;const L_=class L_{constructor(t,{isRenderable:e=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){P(this,Gg);P(this,fc,null);P(this,Of,!1);P(this,Mf,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:i}){return!!(t!=null&&t.str||e!=null&&e.str||i!=null&&i.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return L_._hasPopupData(this.data)}updateEdited(t){var i;if(!this.container)return;p(this,fc)||O(this,fc,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&z(this,Gg,aA).call(this,e),(i=p(this,Mf))==null||i.popup.updateEdited(t)}resetEdited(){var t;p(this,fc)&&(z(this,Gg,aA).call(this,p(this,fc).rect),(t=p(this,Mf))==null||t.popup.resetEdited(),O(this,fc,null))}_createContainer(t){const{data:e,parent:{page:i,viewport:r}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",e.id),this instanceof Xc||(a.tabIndex=Bm);const{style:o}=a;if(o.zIndex=this.parent.zIndex++,e.alternativeText&&(a.title=e.alternativeText),e.noRotate&&a.classList.add("norotate"),!e.rect||this instanceof oA){const{rotation:A}=e;return!e.hasOwnCanvas&&A!==0&&this.setRotation(A,a),a}const{width:l,height:h}=this;if(!t&&e.borderStyle.width>0){o.borderWidth=`${e.borderStyle.width}px`;const A=e.borderStyle.horizontalCornerRadius,w=e.borderStyle.verticalCornerRadius;if(A>0||w>0){const D=`calc(${A}px * var(--total-scale-factor)) / calc(${w}px * var(--total-scale-factor))`;o.borderRadius=D}else if(this instanceof Fk){const D=`calc(${l}px * var(--total-scale-factor)) / calc(${h}px * var(--total-scale-factor))`;o.borderRadius=D}switch(e.borderStyle.style){case Fh.SOLID:o.borderStyle="solid";break;case Fh.DASHED:o.borderStyle="dashed";break;case Fh.BEVELED:Ee("Unimplemented border style: beveled");break;case Fh.INSET:Ee("Unimplemented border style: inset");break;case Fh.UNDERLINE:o.borderBottomStyle="solid";break}const E=e.borderColor||null;E?(O(this,Of,!0),o.borderColor=le.makeHexColor(E[0]|0,E[1]|0,E[2]|0)):o.borderWidth=0}const f=le.normalizeRect([e.rect[0],i.view[3]-e.rect[1]+i.view[1],e.rect[2],i.view[3]-e.rect[3]+i.view[1]]),{pageWidth:g,pageHeight:m,pageX:y,pageY:b}=r.rawDims;o.left=`${100*(f[0]-y)/g}%`,o.top=`${100*(f[1]-b)/m}%`;const{rotation:T}=e;return e.hasOwnCanvas||T===0?(o.width=`${100*l/g}%`,o.height=`${100*h/m}%`):this.setRotation(T,a),a}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims;let{width:a,height:o}=this;t%180!==0&&([a,o]=[o,a]),e.style.width=`${100*a/i}%`,e.style.height=`${100*o/r}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,i,r)=>{const a=r.detail[e],o=a[0],l=a.slice(1);r.target.style[i]=mD[`${o}_HTML`](l),this.annotationStorage.setValue(this.data.id,{[i]:mD[`${o}_rgb`](l)})};return Ie(this,"_commonActions",{display:e=>{const{display:i}=e.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:i}=e.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const i=e.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,e){const i=this._commonActions;for(const r of Object.keys(e.detail)){const a=t[r]||i[r];a==null||a(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const i=this._commonActions;for(const[r,a]of Object.entries(e)){const o=i[r];if(o){const l={detail:{[r]:a},target:t};o(l),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,i,r,a]=this.data.rect.map(A=>Math.fround(A));if(t.length===8){const[A,w,E,D]=t.subarray(2,6);if(r===A&&a===w&&e===E&&i===D)return}const{style:o}=this.container;let l;if(p(this,Of)){const{borderColor:A,borderWidth:w}=o;o.borderWidth=0,l=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${A}" stroke-width="${w}">`],this.container.classList.add("hasBorder")}const h=r-e,f=a-i,{svgFactory:g}=this,m=g.createElement("svg");m.classList.add("quadrilateralsContainer"),m.setAttribute("width",0),m.setAttribute("height",0);const y=g.createElement("defs");m.append(y);const b=g.createElement("clipPath"),T=`clippath_${this.data.id}`;b.setAttribute("id",T),b.setAttribute("clipPathUnits","objectBoundingBox"),y.append(b);for(let A=2,w=t.length;A<w;A+=8){const E=t[A],D=t[A+1],R=t[A+2],N=t[A+3],x=g.createElement("rect"),L=(R-e)/h,I=(a-D)/f,U=(E-R)/h,F=(D-N)/f;x.setAttribute("x",L),x.setAttribute("y",I),x.setAttribute("width",U),x.setAttribute("height",F),b.append(x),l==null||l.push(`<rect vector-effect="non-scaling-stroke" x="${L}" y="${I}" width="${U}" height="${F}"/>`)}p(this,Of)&&(l.push("</g></svg>')"),o.backgroundImage=l.join("")),this.container.append(m),this.container.style.clipPath=`url(#${T})`}_createPopup(){const{data:t}=this,e=O(this,Mf,new oA({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){gi("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:a,id:o,exportValues:l}of r){if(a===-1||o===e)continue;const h=typeof l=="string"?l:null,f=document.querySelector(`[data-element-id="${o}"]`);if(f&&!jc.has(f)){Ee(`_getElementsByName - element not allowed: ${o}`);continue}i.push({id:o,exportValue:h,domElement:f})}return i}for(const r of document.getElementsByName(t)){const{exportValue:a}=r,o=r.getAttribute("data-element-id");o!==e&&jc.has(r)&&i.push({id:o,exportValue:a,domElement:r})}return i}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};fc=new WeakMap,Of=new WeakMap,Mf=new WeakMap,Gg=new WeakSet,aA=function(t){const{container:{style:e},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:o,pageX:l,pageY:h}}}}=this;i==null||i.splice(0,4,...t),e.left=`${100*(t[0]-l)/a}%`,e.top=`${100*(o-t[3]+h)/o}%`,r===0?(e.width=`${100*(t[2]-t[0])/a}%`,e.height=`${100*(t[3]-t[1])/o}%`):this.setRotation(r)};let Qi=L_;var Zr,Cu,Pk,zk;class Bk extends Qi{constructor(e,i=null){super(e,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});P(this,Zr);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:i}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let a=!1;return e.url?(i.addLinkAttributes(r,e.url,e.newWindow),a=!0):e.action?(this._bindNamedAction(r,e.action),a=!0):e.attachment?(z(this,Zr,Pk).call(this,r,e.attachment,e.attachmentDest),a=!0):e.setOCGState?(z(this,Zr,zk).call(this,r,e.setOCGState),a=!0):e.dest?(this._bindLink(r,e.dest),a=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),a=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(r,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(r),this.container}_bindLink(e,i){e.href=this.linkService.getDestinationHash(i),e.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&z(this,Zr,Cu).call(this)}_bindNamedAction(e,i){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(i),!1),z(this,Zr,Cu).call(this)}_bindJSAction(e,i){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(i.actions)){const o=r.get(a);o&&(e[o]=()=>{var l;return(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:a}}),!1})}e.onclick||(e.onclick=()=>!1),z(this,Zr,Cu).call(this)}_bindResetFormAction(e,i){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),z(this,Zr,Cu).call(this),!this._fieldObjects){Ee('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{var m;r==null||r();const{fields:a,refs:o,include:l}=i,h=[];if(a.length!==0||o.length!==0){const y=new Set(o);for(const b of a){const T=this._fieldObjects[b]||[];for(const{id:A}of T)y.add(A)}for(const b of Object.values(this._fieldObjects))for(const T of b)y.has(T.id)===l&&h.push(T)}else for(const y of Object.values(this._fieldObjects))h.push(...y);const f=this.annotationStorage,g=[];for(const y of h){const{id:b}=y;switch(g.push(b),y.type){case"text":{const A=y.defaultValue||"";f.setValue(b,{value:A});break}case"checkbox":case"radiobutton":{const A=y.defaultValue===y.exportValues;f.setValue(b,{value:A});break}case"combobox":case"listbox":{const A=y.defaultValue||"";f.setValue(b,{value:A});break}default:continue}const T=document.querySelector(`[data-element-id="${b}"]`);if(T){if(!jc.has(T)){Ee(`_bindResetFormAction - element not allowed: ${b}`);continue}}else continue;T.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((m=this.linkService.eventBus)==null||m.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:g,name:"ResetForm"}})),!1}}}Zr=new WeakSet,Cu=function(){this.container.setAttribute("data-internal-link","")},Pk=function(e,i,r=null){e.href=this.linkService.getAnchorUrl(""),i.description&&(e.title=i.description),e.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(i.content,i.filename,r),!1},z(this,Zr,Cu).call(this)},zk=function(e,i){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(i),!1),z(this,Zr,Cu).call(this)};class o8 extends Qi{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class Xc extends Qi{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return qn.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,i,r,a){i.includes("mouse")?t.addEventListener(i,o=>{var l;(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:a(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):t.addEventListener(i,o=>{var l;if(i==="blur"){if(!e.focused||!o.relatedTarget)return;e.focused=!1}else if(i==="focus"){if(e.focused)return;e.focused=!0}a&&((l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:a(o)}}))})}_setEventListeners(t,e,i,r){var a,o,l;for(const[h,f]of i)(f==="Action"||(a=this.data.actions)!=null&&a[f])&&((f==="Focus"||f==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,h,f,r),f==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(t,e,"blur","Blur",null):f==="Blur"&&!((l=this.data.actions)!=null&&l.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":le.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||a8,a=t.style;let o;const l=2,h=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-l),g=Math.round(f/(tw*r))||1,m=f/g;o=Math.min(r,h(m/tw))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-l);o=Math.min(r,h(f/tw))}a.fontSize=`calc(${o}px * var(--total-scale-factor))`,a.color=le.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(a.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class l8 extends Xc{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,i,r){const a=this.annotationStorage;for(const o of this._getElementsByName(t.name,t.id))o.domElement&&(o.domElement[e]=i),a.setValue(o.id,{[r]:i})}render(){var r,a;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const o=t.getValue(e,{value:this.data.fieldValue});let l=o.value||"";const h=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;h&&l.length>h&&(l=l.slice(0,h));let f=o.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;f&&this.data.comb&&(f=f.replaceAll(/\s+/g,""));const g={userValue:l,formattedValue:f,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=f??l,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",f??l),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),jc.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=Bm,this._setRequired(i,this.data.required),h&&(i.maxLength=h),i.addEventListener("input",y=>{t.setValue(e,{value:y.target.value}),this.setPropertyOnSiblings(i,"value",y.target.value,"value"),g.formattedValue=null}),i.addEventListener("resetform",y=>{const b=this.data.defaultFieldValue??"";i.value=g.userValue=b,g.formattedValue=null});let m=y=>{const{formattedValue:b}=g;b!=null&&(y.target.value=b),y.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",b=>{var A;if(g.focused)return;const{target:T}=b;g.userValue&&(T.value=g.userValue),g.lastCommittedValue=T.value,g.commitKey=1,(A=this.data.actions)!=null&&A.Focus||(g.focused=!0)}),i.addEventListener("updatefromsandbox",b=>{this.showElementAndHideCanvas(b.target);const T={value(A){g.userValue=A.detail.value??"",t.setValue(e,{value:g.userValue.toString()}),A.target.value=g.userValue},formattedValue(A){const{formattedValue:w}=A.detail;g.formattedValue=w,w!=null&&A.target!==document.activeElement&&(A.target.value=w),t.setValue(e,{formattedValue:w})},selRange(A){A.target.setSelectionRange(...A.detail.selRange)},charLimit:A=>{var R;const{charLimit:w}=A.detail,{target:E}=A;if(w===0){E.removeAttribute("maxLength");return}E.setAttribute("maxLength",w);let D=g.userValue;!D||D.length<=w||(D=D.slice(0,w),E.value=g.userValue=D,t.setValue(e,{value:D}),(R=this.linkService.eventBus)==null||R.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:D,willCommit:!0,commitKey:1,selStart:E.selectionStart,selEnd:E.selectionEnd}}))}};this._dispatchEventFromSandbox(T,b)}),i.addEventListener("keydown",b=>{var w;g.commitKey=1;let T=-1;if(b.key==="Escape"?T=0:b.key==="Enter"&&!this.data.multiLine?T=2:b.key==="Tab"&&(g.commitKey=3),T===-1)return;const{value:A}=b.target;g.lastCommittedValue!==A&&(g.lastCommittedValue=A,g.userValue=A,(w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:A,willCommit:!0,commitKey:T,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}}))});const y=m;m=null,i.addEventListener("blur",b=>{var A,w;if(!g.focused||!b.relatedTarget)return;(A=this.data.actions)!=null&&A.Blur||(g.focused=!1);const{value:T}=b.target;g.userValue=T,g.lastCommittedValue!==T&&((w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:T,willCommit:!0,commitKey:g.commitKey,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}})),y(b)}),(a=this.data.actions)!=null&&a.Keystroke&&i.addEventListener("beforeinput",b=>{var x;g.lastCommittedValue=null;const{data:T,target:A}=b,{value:w,selectionStart:E,selectionEnd:D}=A;let R=E,N=D;switch(b.inputType){case"deleteWordBackward":{const L=w.substring(0,E).match(/\w*[^\w]*$/);L&&(R-=L[0].length);break}case"deleteWordForward":{const L=w.substring(E).match(/^[^\w]*\w*/);L&&(N+=L[0].length);break}case"deleteContentBackward":E===D&&(R-=1);break;case"deleteContentForward":E===D&&(N+=1);break}b.preventDefault(),(x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:w,change:T||"",willCommit:!1,selStart:R,selEnd:N}})}),this._setEventListeners(i,g,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],b=>b.target.value)}if(m&&i.addEventListener("blur",m),this.data.comb){const b=(this.data.rect[2]-this.data.rect[0])/h;i.classList.add("comb"),i.style.letterSpacing=`calc(${b}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class u8 extends Xc{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class c8 extends Xc{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,i=e.id;let r=t.getValue(i,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return jc.add(a),a.setAttribute("data-element-id",i),a.disabled=e.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=e.fieldName,r&&a.setAttribute("checked",!0),a.setAttribute("exportValue",e.exportValue),a.tabIndex=Bm,a.addEventListener("change",o=>{const{name:l,checked:h}=o.target;for(const f of this._getElementsByName(l,i)){const g=h&&f.exportValue===e.exportValue;f.domElement&&(f.domElement.checked=g),t.setValue(f.id,{value:g})}t.setValue(i,{value:h})}),a.addEventListener("resetform",o=>{const l=e.defaultFieldValue||"Off";o.target.checked=l===e.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",o=>{const l={value(h){h.target.checked=h.detail.value!=="Off",t.setValue(i,{value:h.target.checked})}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class Fk extends Xc{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,i=e.id;let r=t.getValue(i,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(i,{value:r})),r)for(const o of this._getElementsByName(e.fieldName,i))t.setValue(o.id,{value:!1});const a=document.createElement("input");if(jc.add(a),a.setAttribute("data-element-id",i),a.disabled=e.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=e.fieldName,r&&a.setAttribute("checked",!0),a.tabIndex=Bm,a.addEventListener("change",o=>{const{name:l,checked:h}=o.target;for(const f of this._getElementsByName(l,i))t.setValue(f.id,{value:!1});t.setValue(i,{value:h})}),a.addEventListener("resetform",o=>{const l=e.defaultFieldValue;o.target.checked=l!=null&&l===e.buttonValue}),this.enableScripting&&this.hasJSActions){const o=e.buttonValue;a.addEventListener("updatefromsandbox",l=>{const h={value:f=>{const g=o===f.detail.value;for(const m of this._getElementsByName(f.target.name)){const y=g&&m.id===i;m.domElement&&(m.domElement.checked=y),t.setValue(m.id,{value:y})}}};this._dispatchEventFromSandbox(h,l)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class h8 extends Bk{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}}class f8 extends Xc{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,i=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");jc.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=Bm;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",g=>{const m=this.data.defaultFieldValue;for(const y of r.options)y.selected=y.value===m});for(const g of this.data.options){const m=document.createElement("option");m.textContent=g.displayValue,m.value=g.exportValue,i.value.includes(g.exportValue)&&(m.setAttribute("selected",!0),a=!1),r.append(m)}let o=null;if(a){const g=document.createElement("option");g.value=" ",g.setAttribute("hidden",!0),g.setAttribute("selected",!0),r.prepend(g),o=()=>{g.remove(),r.removeEventListener("input",o),o=null},r.addEventListener("input",o)}const l=g=>{const m=g?"value":"textContent",{options:y,multiple:b}=r;return b?Array.prototype.filter.call(y,T=>T.selected).map(T=>T[m]):y.selectedIndex===-1?null:y[y.selectedIndex][m]};let h=l(!1);const f=g=>{const m=g.target.options;return Array.prototype.map.call(m,y=>({displayValue:y.textContent,exportValue:y.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",g=>{const m={value(y){o==null||o();const b=y.detail.value,T=new Set(Array.isArray(b)?b:[b]);for(const A of r.options)A.selected=T.has(A.value);t.setValue(e,{value:l(!0)}),h=l(!1)},multipleSelection(y){r.multiple=!0},remove(y){const b=r.options,T=y.detail.remove;b[T].selected=!1,r.remove(T),b.length>0&&Array.prototype.findIndex.call(b,w=>w.selected)===-1&&(b[0].selected=!0),t.setValue(e,{value:l(!0),items:f(y)}),h=l(!1)},clear(y){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),h=l(!1)},insert(y){const{index:b,displayValue:T,exportValue:A}=y.detail.insert,w=r.children[b],E=document.createElement("option");E.textContent=T,E.value=A,w?w.before(E):r.append(E),t.setValue(e,{value:l(!0),items:f(y)}),h=l(!1)},items(y){const{items:b}=y.detail;for(;r.length!==0;)r.remove(0);for(const T of b){const{displayValue:A,exportValue:w}=T,E=document.createElement("option");E.textContent=A,E.value=w,r.append(E)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:l(!0),items:f(y)}),h=l(!1)},indices(y){const b=new Set(y.detail.indices);for(const T of y.target.options)T.selected=b.has(T.index);t.setValue(e,{value:l(!0)}),h=l(!1)},editable(y){y.target.disabled=!y.detail.editable}};this._dispatchEventFromSandbox(m,g)}),r.addEventListener("input",g=>{var b;const m=l(!0),y=l(!1);t.setValue(e,{value:m}),g.preventDefault(),(b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:h,change:y,changeEx:m,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],g=>g.target.value)):r.addEventListener("input",function(g){t.setValue(e,{value:l(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class oA extends Qi{constructor(t){const{data:e,elements:i}=t;super(t,{isRenderable:Qi._hasPopupData(e)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new d8({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const i of this.elements)i.popup=t,i.container.ariaHasPopup="dialog",e.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(i=>`${w_}${i}`).join(",")),this.container}}var Lf,_y,Ey,If,Bf,$i,Ao,Pf,Vg,$g,zf,_o,Hs,Eo,Wg,So,Yg,dc,pc,mi,C0,lA,Uk,Hk,jk,qk,T0,D0,uA;class d8{constructor({container:t,color:e,elements:i,titleObj:r,modificationDate:a,contentsObj:o,richText:l,parent:h,rect:f,parentRect:g,open:m}){P(this,mi);P(this,Lf,z(this,mi,jk).bind(this));P(this,_y,z(this,mi,uA).bind(this));P(this,Ey,z(this,mi,D0).bind(this));P(this,If,z(this,mi,T0).bind(this));P(this,Bf,null);P(this,$i,null);P(this,Ao,null);P(this,Pf,null);P(this,Vg,null);P(this,$g,null);P(this,zf,null);P(this,_o,!1);P(this,Hs,null);P(this,Eo,null);P(this,Wg,null);P(this,So,null);P(this,Yg,null);P(this,dc,null);P(this,pc,!1);var y;O(this,$i,t),O(this,Yg,r),O(this,Ao,o),O(this,So,l),O(this,$g,h),O(this,Bf,e),O(this,Wg,f),O(this,zf,g),O(this,Vg,i),O(this,Pf,E_.toDateObject(a)),this.trigger=i.flatMap(b=>b.getElementsToTriggerPopup());for(const b of this.trigger)b.addEventListener("click",p(this,If)),b.addEventListener("mouseenter",p(this,Ey)),b.addEventListener("mouseleave",p(this,_y)),b.classList.add("popupTriggerArea");for(const b of i)(y=b.container)==null||y.addEventListener("keydown",p(this,Lf));p(this,$i).hidden=!0,m&&z(this,mi,T0).call(this)}render(){if(p(this,Hs))return;const t=O(this,Hs,document.createElement("div"));if(t.className="popup",p(this,Bf)){const a=t.style.outlineColor=le.makeHexColor(...p(this,Bf));t.style.backgroundColor=`color-mix(in srgb, ${a} 30%, white)`}const e=document.createElement("span");e.className="header";const i=document.createElement("h1");if(e.append(i),{dir:i.dir,str:i.textContent}=p(this,Yg),t.append(e),p(this,Pf)){const a=document.createElement("span");a.classList.add("popupDate"),a.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),a.setAttribute("data-l10n-args",JSON.stringify({dateObj:p(this,Pf).valueOf()})),e.append(a)}const r=p(this,mi,C0);if(r)Ik.render({xfaHtml:r,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const a=this._formatContents(p(this,Ao));t.append(a)}p(this,$i).append(t)}_formatContents({str:t,dir:e}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=e;const r=t.split(/(?:\r\n?|\n)/);for(let a=0,o=r.length;a<o;++a){const l=r[a];i.append(document.createTextNode(l)),a<o-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:t,popupContent:e}){var i;p(this,dc)||O(this,dc,{contentsObj:p(this,Ao),richText:p(this,So)}),t&&O(this,Eo,null),e&&(O(this,So,z(this,mi,Hk).call(this,e)),O(this,Ao,null)),(i=p(this,Hs))==null||i.remove(),O(this,Hs,null)}resetEdited(){var t;p(this,dc)&&({contentsObj:nr(this,Ao)._,richText:nr(this,So)._}=p(this,dc),O(this,dc,null),(t=p(this,Hs))==null||t.remove(),O(this,Hs,null),O(this,Eo,null))}forceHide(){O(this,pc,this.isVisible),p(this,pc)&&(p(this,$i).hidden=!0)}maybeShow(){p(this,pc)&&(p(this,Hs)||z(this,mi,D0).call(this),O(this,pc,!1),p(this,$i).hidden=!1)}get isVisible(){return p(this,$i).hidden===!1}}Lf=new WeakMap,_y=new WeakMap,Ey=new WeakMap,If=new WeakMap,Bf=new WeakMap,$i=new WeakMap,Ao=new WeakMap,Pf=new WeakMap,Vg=new WeakMap,$g=new WeakMap,zf=new WeakMap,_o=new WeakMap,Hs=new WeakMap,Eo=new WeakMap,Wg=new WeakMap,So=new WeakMap,Yg=new WeakMap,dc=new WeakMap,pc=new WeakMap,mi=new WeakSet,C0=function(){const t=p(this,So),e=p(this,Ao);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&p(this,So).html||null},lA=function(){var t,e,i;return((i=(e=(t=p(this,mi,C0))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.fontSize)||0},Uk=function(){var t,e,i;return((i=(e=(t=p(this,mi,C0))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.color)||null},Hk=function(t){const e=[],i={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:p(this,mi,Uk),fontSize:p(this,mi,lA)?`calc(${p(this,mi,lA)}px * var(--total-scale-factor))`:""}};for(const a of t.split(`
`))e.push({name:"span",value:a,attributes:r});return i},jk=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&p(this,_o))&&z(this,mi,T0).call(this)},qk=function(){if(p(this,Eo)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:i,pageX:r,pageY:a}}}=p(this,$g);let o=!!p(this,zf),l=o?p(this,zf):p(this,Wg);for(const T of p(this,Vg))if(!l||le.intersect(T.data.rect,l)!==null){l=T.data.rect,o=!0;break}const h=le.normalizeRect([l[0],t[3]-l[1]+t[1],l[2],t[3]-l[3]+t[1]]),g=o?l[2]-l[0]+5:0,m=h[0]+g,y=h[1];O(this,Eo,[100*(m-r)/e,100*(y-a)/i]);const{style:b}=p(this,$i);b.left=`${p(this,Eo)[0]}%`,b.top=`${p(this,Eo)[1]}%`},T0=function(){O(this,_o,!p(this,_o)),p(this,_o)?(z(this,mi,D0).call(this),p(this,$i).addEventListener("click",p(this,If)),p(this,$i).addEventListener("keydown",p(this,Lf))):(z(this,mi,uA).call(this),p(this,$i).removeEventListener("click",p(this,If)),p(this,$i).removeEventListener("keydown",p(this,Lf)))},D0=function(){p(this,Hs)||this.render(),this.isVisible?p(this,_o)&&p(this,$i).classList.add("focused"):(z(this,mi,qk).call(this),p(this,$i).hidden=!1,p(this,$i).style.zIndex=parseInt(p(this,$i).style.zIndex)+1e3)},uA=function(){p(this,$i).classList.remove("focused"),!(p(this,_o)||!this.isVisible)&&(p(this,$i).hidden=!0,p(this,$i).style.zIndex=parseInt(p(this,$i).style.zIndex)-1e3)};class Gk extends Qi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=_e.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const i=document.createElement("span");i.textContent=e,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Xg;class p8 extends Qi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});P(this,Xg,null)}render(){this.container.classList.add("lineAnnotation");const{data:e,width:i,height:r}=this,a=this.svgFactory.create(i,r,!0),o=O(this,Xg,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),o.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),o.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),o.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),o.setAttribute("stroke-width",e.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return p(this,Xg)}addHighlightArea(){this.container.classList.add("highlightArea")}}Xg=new WeakMap;var Kg;class g8 extends Qi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});P(this,Kg,null)}render(){this.container.classList.add("squareAnnotation");const{data:e,width:i,height:r}=this,a=this.svgFactory.create(i,r,!0),o=e.borderStyle.width,l=O(this,Kg,this.svgFactory.createElement("svg:rect"));return l.setAttribute("x",o/2),l.setAttribute("y",o/2),l.setAttribute("width",i-o),l.setAttribute("height",r-o),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),a.append(l),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return p(this,Kg)}addHighlightArea(){this.container.classList.add("highlightArea")}}Kg=new WeakMap;var Zg;class m8 extends Qi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});P(this,Zg,null)}render(){this.container.classList.add("circleAnnotation");const{data:e,width:i,height:r}=this,a=this.svgFactory.create(i,r,!0),o=e.borderStyle.width,l=O(this,Zg,this.svgFactory.createElement("svg:ellipse"));return l.setAttribute("cx",i/2),l.setAttribute("cy",r/2),l.setAttribute("rx",i/2-o/2),l.setAttribute("ry",r/2-o/2),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),a.append(l),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return p(this,Zg)}addHighlightArea(){this.container.classList.add("highlightArea")}}Zg=new WeakMap;var Qg;class Vk extends Qi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});P(this,Qg,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:i,borderStyle:r,popupRef:a},width:o,height:l}=this;if(!i)return this.container;const h=this.svgFactory.create(o,l,!0);let f=[];for(let m=0,y=i.length;m<y;m+=2){const b=i[m]-e[0],T=e[3]-i[m+1];f.push(`${b},${T}`)}f=f.join(" ");const g=O(this,Qg,this.svgFactory.createElement(this.svgElementName));return g.setAttribute("points",f),g.setAttribute("stroke-width",r.width||1),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),h.append(g),this.container.append(h),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return p(this,Qg)}addHighlightArea(){this.container.classList.add("highlightArea")}}Qg=new WeakMap;class v8 extends Vk{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class y8 extends Qi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Jg,gc,tm,cA;class D_ extends Qi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});P(this,tm);P(this,Jg,null);P(this,gc,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?_e.HIGHLIGHT:_e.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:i,inkLists:r,borderStyle:a,popupRef:o}}=this,{transform:l,width:h,height:f}=z(this,tm,cA).call(this,i,e),g=this.svgFactory.create(h,f,!0),m=O(this,Jg,this.svgFactory.createElement("svg:g"));g.append(m),m.setAttribute("stroke-width",a.width||1),m.setAttribute("stroke-linecap","round"),m.setAttribute("stroke-linejoin","round"),m.setAttribute("stroke-miterlimit",10),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),m.setAttribute("transform",l);for(let y=0,b=r.length;y<b;y++){const T=this.svgFactory.createElement(this.svgElementName);p(this,gc).push(T),T.setAttribute("points",r[y].join(",")),m.append(T)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(g),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:i,points:r,rect:a}=e,o=p(this,Jg);if(i>=0&&o.setAttribute("stroke-width",i||1),r)for(let l=0,h=p(this,gc).length;l<h;l++)p(this,gc)[l].setAttribute("points",r[l].join(","));if(a){const{transform:l,width:h,height:f}=z(this,tm,cA).call(this,this.data.rotation,a);o.parentElement.setAttribute("viewBox",`0 0 ${h} ${f}`),o.setAttribute("transform",l)}}getElementsToTriggerPopup(){return p(this,gc)}addHighlightArea(){this.container.classList.add("highlightArea")}}Jg=new WeakMap,gc=new WeakMap,tm=new WeakSet,cA=function(e,i){switch(e){case 90:return{transform:`rotate(90) translate(${-i[0]},${i[1]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};case 180:return{transform:`rotate(180) translate(${-i[2]},${i[1]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]};case 270:return{transform:`rotate(270) translate(${-i[2]},${i[3]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};default:return{transform:`translate(${-i[0]},${i[3]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]}}};class $k extends Qi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=_e.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class b8 extends Qi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class w8 extends Qi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class A8 extends Qi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Wk extends Qi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=_e.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var em,im,hA;class _8 extends Qi{constructor(e){var r;super(e,{isRenderable:!0});P(this,im);P(this,em,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:i}=this;let r;i.hasAppearance||i.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),r.addEventListener("dblclick",z(this,im,hA).bind(this)),O(this,em,r);const{isMac:a}=qn.platform;return e.addEventListener("keydown",o=>{o.key==="Enter"&&(a?o.metaKey:o.ctrlKey)&&z(this,im,hA).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return p(this,em)}addHighlightArea(){this.container.classList.add("highlightArea")}}em=new WeakMap,im=new WeakSet,hA=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var nm,mc,Pl,rm,su,dA,pA;const I_=class I_{constructor({div:t,accessibilityManager:e,annotationCanvasMap:i,annotationEditorUIManager:r,page:a,viewport:o,structTreeLayer:l}){P(this,su);P(this,nm,null);P(this,mc,null);P(this,Pl,new Map);P(this,rm,null);this.div=t,O(this,nm,e),O(this,mc,i),O(this,rm,l||null),this.page=a,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return p(this,Pl).size>0}async render(t){var o;const{annotations:e}=t,i=this.div;Uc(i,this.viewport);const r=new Map,a={data:null,layer:i,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new sy,annotationStorage:t.annotationStorage||new x_,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const l of e){if(l.noHTML)continue;const h=l.annotationType===an.POPUP;if(h){const m=r.get(l.id);if(!m)continue;a.elements=m}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;a.data=l;const f=vD.create(a);if(!f.isRenderable)continue;if(!h&&l.popupRef){const m=r.get(l.popupRef);m?m.push(f):r.set(l.popupRef,[f])}const g=f.render();l.hidden&&(g.style.visibility="hidden"),await z(this,su,dA).call(this,g,l.id),f._isEditable&&(p(this,Pl).set(f.data.id,f),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(f))}z(this,su,pA).call(this)}async addLinkAnnotations(t,e){const i={data:null,layer:this.div,linkService:e,svgFactory:new sy,parent:this};for(const r of t){r.borderStyle||(r.borderStyle=I_._defaultBorderStyle),i.data=r;const a=vD.create(i);if(!a.isRenderable)continue;const o=a.render();await z(this,su,dA).call(this,o,r.id)}}update({viewport:t}){const e=this.div;this.viewport=t,Uc(e,{rotation:t.rotation}),z(this,su,pA).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(p(this,Pl).values())}getEditableAnnotation(t){return p(this,Pl).get(t)}static get _defaultBorderStyle(){return Ie(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Fh.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};nm=new WeakMap,mc=new WeakMap,Pl=new WeakMap,rm=new WeakMap,su=new WeakSet,dA=async function(t,e){var o,l;const i=t.firstChild||t,r=i.id=`${w_}${e}`,a=await((o=p(this,rm))==null?void 0:o.getAriaAttributes(r));if(a)for(const[h,f]of a)i.setAttribute(h,f);this.div.append(t),(l=p(this,nm))==null||l.moveElementInDOM(this.div,t,i,!1)},pA=function(){var e;if(!p(this,mc))return;const t=this.div;for(const[i,r]of p(this,mc)){const a=t.querySelector(`[data-annotation-id="${i}"]`);if(!a)continue;r.className="annotationContent";const{firstChild:o}=a;o?o.nodeName==="CANVAS"?o.replaceWith(r):o.classList.contains("annotationContent")?o.after(r):o.before(r):a.append(r);const l=p(this,Pl).get(i);l&&(l._hasNoCanvas?((e=this._annotationEditorUIManager)==null||e.setMissingCanvas(i,a.id,r),l._hasNoCanvas=!1):l.canvas=r)}p(this,mc).clear()};let fA=I_;const n0=/\r\n?|\n/g;var js,Ur,sm,vc,Hr,cn,Yk,Xk,Kk,R0,Io,k0,N0,Zk,mA,Qk;const Si=class Si extends xi{constructor(e){super({...e,name:"freeTextEditor"});P(this,cn);P(this,js);P(this,Ur,"");P(this,sm,`${this.id}-editor`);P(this,vc,null);P(this,Hr);O(this,js,e.color||Si._defaultColor||xi._defaultLineColor),O(this,Hr,e.fontSize||Si._defaultFontSize)}static get _keyboardManager(){const e=Si.prototype,i=o=>o.isEmpty(),r=Hc.TRANSLATE_SMALL,a=Hc.TRANSLATE_BIG;return Ie(this,"_keyboardManager",new Lm([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-a,0],checker:i}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[a,0],checker:i}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-a],checker:i}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,a],checker:i}]]))}static initialize(e,i){xi.initialize(e,i);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,i){switch(e){case Pe.FREETEXT_SIZE:Si._defaultFontSize=i;break;case Pe.FREETEXT_COLOR:Si._defaultColor=i;break}}updateParams(e,i){switch(e){case Pe.FREETEXT_SIZE:z(this,cn,Yk).call(this,i);break;case Pe.FREETEXT_COLOR:z(this,cn,Xk).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Pe.FREETEXT_SIZE,Si._defaultFontSize],[Pe.FREETEXT_COLOR,Si._defaultColor||xi._defaultLineColor]]}get propertiesToUpdate(){return[[Pe.FREETEXT_SIZE,p(this,Hr)],[Pe.FREETEXT_COLOR,p(this,js)]]}_translateEmpty(e,i){this._uiManager.translateSelectedEditors(e,i,!0)}getInitialTranslation(){const e=this.parentScale;return[-Si._internalPadding*e,-(Si._internalPadding+p(this,Hr))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),O(this,vc,new AbortController);const e=this._uiManager.combinedSignal(p(this,vc));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){var e;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",p(this,sm)),this._isDraggable=!0,(e=p(this,vc))==null||e.abort(),O(this,vc,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){var i;this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=p(this,Ur),i=O(this,Ur,z(this,cn,Kk).call(this).trimEnd());if(e===i)return;const r=a=>{if(O(this,Ur,a),!a){this.remove();return}z(this,cn,N0).call(this),this._uiManager.rebuild(this),z(this,cn,R0).call(this)};this.addCommands({cmd:()=>{r(i)},undo:()=>{r(e)},mustExec:!1}),z(this,cn,R0).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Si._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,i;(this._isCopy||this.annotationElementId)&&(e=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",p(this,sm)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${p(this,Hr)}px * var(--total-scale-factor))`,r.color=p(this,js),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[a,o]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[h,f]=this.getInitialTranslation();[h,f]=this.pageTranslationToScreen(h,f);const[g,m]=this.pageDimensions,[y,b]=this.pageTranslation;let T,A;switch(this.rotation){case 0:T=e+(l[0]-y)/g,A=i+this.height-(l[1]-b)/m;break;case 90:T=e+(l[0]-y)/g,A=i-(l[1]-b)/m,[h,f]=[f,-h];break;case 180:T=e-this.width+(l[0]-y)/g,A=i-(l[1]-b)/m,[h,f]=[-h,-f];break;case 270:T=e+(l[0]-y-this.height*m)/g,A=i+(l[1]-b-this.width*g)/m,[h,f]=[-f,h];break}this.setAt(T*a,A*o,h,f)}else this._moveAfterPaste(e,i);z(this,cn,N0).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var T,A,w;const i=e.clipboardData||window.clipboardData,{types:r}=i;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();const a=z(T=Si,Io,mA).call(T,i.getData("text")||"").replaceAll(n0,`
`);if(!a)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const l=o.getRangeAt(0);if(!a.includes(`
`)){l.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:h,startOffset:f}=l,g=[],m=[];if(h.nodeType===Node.TEXT_NODE){const E=h.parentElement;if(m.push(h.nodeValue.slice(f).replaceAll(n0,"")),E!==this.editorDiv){let D=g;for(const R of this.editorDiv.childNodes){if(R===E){D=m;continue}D.push(z(A=Si,Io,k0).call(A,R))}}g.push(h.nodeValue.slice(0,f).replaceAll(n0,""))}else if(h===this.editorDiv){let E=g,D=0;for(const R of this.editorDiv.childNodes)D++===f&&(E=m),E.push(z(w=Si,Io,k0).call(w,R))}O(this,Ur,`${g.join(`
`)}${a}${m.join(`
`)}`),z(this,cn,N0).call(this);const y=new Range;let b=Math.sumPrecise(g.map(E=>E.length));for(const{firstChild:E}of this.editorDiv.childNodes)if(E.nodeType===Node.TEXT_NODE){const D=E.nodeValue.length;if(b<=D){y.setStart(E,b),y.setEnd(E,b);break}b-=D}o.removeAllRanges(),o.addRange(y)}get contentDiv(){return this.editorDiv}static async deserialize(e,i,r){var l;let a=null;if(e instanceof Gk){const{data:{defaultAppearanceData:{fontSize:h,fontColor:f},rect:g,rotation:m,id:y,popupRef:b},textContent:T,textPosition:A,parent:{page:{pageNumber:w}}}=e;if(!T||T.length===0)return null;a=e={annotationType:_e.FREETEXT,color:Array.from(f),fontSize:h,value:T.join(`
`),position:A,pageIndex:w-1,rect:g.slice(0),rotation:m,id:y,deleted:!1,popupRef:b}}const o=await super.deserialize(e,i,r);return O(o,Hr,e.fontSize),O(o,js,le.makeHexColor(...e.color)),O(o,Ur,z(l=Si,Io,mA).call(l,e.value)),o.annotationElementId=e.id||null,o._initialData=a,o}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Si._internalPadding*this.parentScale,r=this.getRect(i,i),a=xi._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:p(this,js)),o={annotationType:_e.FREETEXT,color:a,fontSize:p(this,Hr),value:z(this,cn,Zk).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(o.isCopy=!0,o):this.annotationElementId&&!z(this,cn,Qk).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(e){const i=super.renderAnnotationElement(e);if(this.deleted)return i;const{style:r}=i;r.fontSize=`calc(${p(this,Hr)}px * var(--total-scale-factor))`,r.color=p(this,js),i.replaceChildren();for(const o of p(this,Ur).split(`
`)){const l=document.createElement("div");l.append(o?document.createTextNode(o):document.createElement("br")),i.append(l)}const a=Si._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(a,a),popupContent:p(this,Ur)}),i}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};js=new WeakMap,Ur=new WeakMap,sm=new WeakMap,vc=new WeakMap,Hr=new WeakMap,cn=new WeakSet,Yk=function(e){const i=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--total-scale-factor))`,this.translate(0,-(a-p(this,Hr))*this.parentScale),O(this,Hr,a),z(this,cn,R0).call(this)},r=p(this,Hr);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pe.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Xk=function(e){const i=a=>{O(this,js,this.editorDiv.style.color=a)},r=p(this,js);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pe.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Kk=function(){var r;const e=[];this.editorDiv.normalize();let i=null;for(const a of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&a.nodeName==="BR"||(e.push(z(r=Si,Io,k0).call(r,a)),i=a);return e.join(`
`)},R0=function(){const[e,i]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:a,div:o}=this,l=o.style.display,h=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",a.div.append(this.div),r=o.getBoundingClientRect(),o.remove(),o.style.display=l,o.classList.toggle("hidden",h)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/i):(this.width=r.height/e,this.height=r.width/i),this.fixAndSetPosition()},Io=new WeakSet,k0=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(n0,"")},N0=function(){if(this.editorDiv.replaceChildren(),!!p(this,Ur))for(const e of p(this,Ur).split(`
`)){const i=document.createElement("div");i.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(i)}},Zk=function(){return p(this,Ur).replaceAll(""," ")},mA=function(e){return e.replaceAll(" ","")},Qk=function(e){const{value:i,fontSize:r,color:a,pageIndex:o}=this._initialData;return this._hasBeenMoved||e.value!==i||e.fontSize!==r||e.color.some((l,h)=>l!==a[h])||e.pageIndex!==o},P(Si,Io),Bt(Si,"_freeTextDefaultContent",""),Bt(Si,"_internalPadding",0),Bt(Si,"_defaultColor",null),Bt(Si,"_defaultFontSize",10),Bt(Si,"_type","freetext"),Bt(Si,"_editorType",_e.FREETEXT);let gA=Si;class Qt{toSVGPath(){gi("Abstract method `toSVGPath` must be implemented.")}get box(){gi("Abstract getter `box` must be implemented.")}serialize(t,e){gi("Abstract method `serialize` must be implemented.")}static _rescale(t,e,i,r,a,o){o||(o=new Float32Array(t.length));for(let l=0,h=t.length;l<h;l+=2)o[l]=e+t[l]*r,o[l+1]=i+t[l+1]*a;return o}static _rescaleAndSwap(t,e,i,r,a,o){o||(o=new Float32Array(t.length));for(let l=0,h=t.length;l<h;l+=2)o[l]=e+t[l+1]*r,o[l+1]=i+t[l]*a;return o}static _translate(t,e,i,r){r||(r=new Float32Array(t.length));for(let a=0,o=t.length;a<o;a+=2)r[a]=e+t[a],r[a+1]=i+t[a+1];return r}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,i,r,a){switch(a){case 90:return[1-e/i,t/r];case 180:return[1-t/i,1-e/r];case 270:return[e/i,1-t/r];default:return[t/i,e/r]}}static _normalizePagePoint(t,e,i){switch(i){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,i,r,a,o){return[(t+5*i)/6,(e+5*r)/6,(5*i+a)/6,(5*r+o)/6,(i+a)/2,(r+o)/2]}}Bt(Qt,"PRECISION",1e-4);var jr,qs,Ff,Uf,ba,Oe,yc,bc,am,om,Hf,jf,zl,lm,Sy,xy,yn,Ip,Jk,tN,eN,iN,nN,rN;const io=class io{constructor({x:t,y:e},i,r,a,o,l=0){P(this,yn);P(this,jr);P(this,qs,[]);P(this,Ff);P(this,Uf);P(this,ba,[]);P(this,Oe,new Float32Array(18));P(this,yc);P(this,bc);P(this,am);P(this,om);P(this,Hf);P(this,jf);P(this,zl,[]);O(this,jr,i),O(this,jf,a*r),O(this,Uf,o),p(this,Oe).set([NaN,NaN,NaN,NaN,t,e],6),O(this,Ff,l),O(this,om,p(io,lm)*r),O(this,am,p(io,xy)*r),O(this,Hf,r),p(this,zl).push(t,e)}isEmpty(){return isNaN(p(this,Oe)[8])}add({x:t,y:e}){var F;O(this,yc,t),O(this,bc,e);const[i,r,a,o]=p(this,jr);let[l,h,f,g]=p(this,Oe).subarray(8,12);const m=t-f,y=e-g,b=Math.hypot(m,y);if(b<p(this,am))return!1;const T=b-p(this,om),A=T/b,w=A*m,E=A*y;let D=l,R=h;l=f,h=g,f+=w,g+=E,(F=p(this,zl))==null||F.push(t,e);const N=-E/T,x=w/T,L=N*p(this,jf),I=x*p(this,jf);return p(this,Oe).set(p(this,Oe).subarray(2,8),0),p(this,Oe).set([f+L,g+I],4),p(this,Oe).set(p(this,Oe).subarray(14,18),12),p(this,Oe).set([f-L,g-I],16),isNaN(p(this,Oe)[6])?(p(this,ba).length===0&&(p(this,Oe).set([l+L,h+I],2),p(this,ba).push(NaN,NaN,NaN,NaN,(l+L-i)/a,(h+I-r)/o),p(this,Oe).set([l-L,h-I],14),p(this,qs).push(NaN,NaN,NaN,NaN,(l-L-i)/a,(h-I-r)/o)),p(this,Oe).set([D,R,l,h,f,g],6),!this.isEmpty()):(p(this,Oe).set([D,R,l,h,f,g],6),Math.abs(Math.atan2(R-h,D-l)-Math.atan2(E,w))<Math.PI/2?([l,h,f,g]=p(this,Oe).subarray(2,6),p(this,ba).push(NaN,NaN,NaN,NaN,((l+f)/2-i)/a,((h+g)/2-r)/o),[l,h,D,R]=p(this,Oe).subarray(14,18),p(this,qs).push(NaN,NaN,NaN,NaN,((D+l)/2-i)/a,((R+h)/2-r)/o),!0):([D,R,l,h,f,g]=p(this,Oe).subarray(0,6),p(this,ba).push(((D+5*l)/6-i)/a,((R+5*h)/6-r)/o,((5*l+f)/6-i)/a,((5*h+g)/6-r)/o,((l+f)/2-i)/a,((h+g)/2-r)/o),[f,g,l,h,D,R]=p(this,Oe).subarray(12,18),p(this,qs).push(((D+5*l)/6-i)/a,((R+5*h)/6-r)/o,((5*l+f)/6-i)/a,((5*h+g)/6-r)/o,((l+f)/2-i)/a,((h+g)/2-r)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const t=p(this,ba),e=p(this,qs);if(isNaN(p(this,Oe)[6])&&!this.isEmpty())return z(this,yn,Jk).call(this);const i=[];i.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?i.push(`L${t[r+4]} ${t[r+5]}`):i.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);z(this,yn,eN).call(this,i);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?i.push(`L${e[r+4]} ${e[r+5]}`):i.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return z(this,yn,tN).call(this,i),i.join(" ")}newFreeDrawOutline(t,e,i,r,a,o){return new sN(t,e,i,r,a,o)}getOutlines(){var m;const t=p(this,ba),e=p(this,qs),i=p(this,Oe),[r,a,o,l]=p(this,jr),h=new Float32Array((((m=p(this,zl))==null?void 0:m.length)??0)+2);for(let y=0,b=h.length-2;y<b;y+=2)h[y]=(p(this,zl)[y]-r)/o,h[y+1]=(p(this,zl)[y+1]-a)/l;if(h[h.length-2]=(p(this,yc)-r)/o,h[h.length-1]=(p(this,bc)-a)/l,isNaN(i[6])&&!this.isEmpty())return z(this,yn,iN).call(this,h);const f=new Float32Array(p(this,ba).length+24+p(this,qs).length);let g=t.length;for(let y=0;y<g;y+=2){if(isNaN(t[y])){f[y]=f[y+1]=NaN;continue}f[y]=t[y],f[y+1]=t[y+1]}g=z(this,yn,rN).call(this,f,g);for(let y=e.length-6;y>=6;y-=6)for(let b=0;b<6;b+=2){if(isNaN(e[y+b])){f[g]=f[g+1]=NaN,g+=2;continue}f[g]=e[y+b],f[g+1]=e[y+b+1],g+=2}return z(this,yn,nN).call(this,f,g),this.newFreeDrawOutline(f,h,p(this,jr),p(this,Hf),p(this,Ff),p(this,Uf))}};jr=new WeakMap,qs=new WeakMap,Ff=new WeakMap,Uf=new WeakMap,ba=new WeakMap,Oe=new WeakMap,yc=new WeakMap,bc=new WeakMap,am=new WeakMap,om=new WeakMap,Hf=new WeakMap,jf=new WeakMap,zl=new WeakMap,lm=new WeakMap,Sy=new WeakMap,xy=new WeakMap,yn=new WeakSet,Ip=function(){const t=p(this,Oe).subarray(4,6),e=p(this,Oe).subarray(16,18),[i,r,a,o]=p(this,jr);return[(p(this,yc)+(t[0]-e[0])/2-i)/a,(p(this,bc)+(t[1]-e[1])/2-r)/o,(p(this,yc)+(e[0]-t[0])/2-i)/a,(p(this,bc)+(e[1]-t[1])/2-r)/o]},Jk=function(){const[t,e,i,r]=p(this,jr),[a,o,l,h]=z(this,yn,Ip).call(this);return`M${(p(this,Oe)[2]-t)/i} ${(p(this,Oe)[3]-e)/r} L${(p(this,Oe)[4]-t)/i} ${(p(this,Oe)[5]-e)/r} L${a} ${o} L${l} ${h} L${(p(this,Oe)[16]-t)/i} ${(p(this,Oe)[17]-e)/r} L${(p(this,Oe)[14]-t)/i} ${(p(this,Oe)[15]-e)/r} Z`},tN=function(t){const e=p(this,qs);t.push(`L${e[4]} ${e[5]} Z`)},eN=function(t){const[e,i,r,a]=p(this,jr),o=p(this,Oe).subarray(4,6),l=p(this,Oe).subarray(16,18),[h,f,g,m]=z(this,yn,Ip).call(this);t.push(`L${(o[0]-e)/r} ${(o[1]-i)/a} L${h} ${f} L${g} ${m} L${(l[0]-e)/r} ${(l[1]-i)/a}`)},iN=function(t){const e=p(this,Oe),[i,r,a,o]=p(this,jr),[l,h,f,g]=z(this,yn,Ip).call(this),m=new Float32Array(36);return m.set([NaN,NaN,NaN,NaN,(e[2]-i)/a,(e[3]-r)/o,NaN,NaN,NaN,NaN,(e[4]-i)/a,(e[5]-r)/o,NaN,NaN,NaN,NaN,l,h,NaN,NaN,NaN,NaN,f,g,NaN,NaN,NaN,NaN,(e[16]-i)/a,(e[17]-r)/o,NaN,NaN,NaN,NaN,(e[14]-i)/a,(e[15]-r)/o],0),this.newFreeDrawOutline(m,t,p(this,jr),p(this,Hf),p(this,Ff),p(this,Uf))},nN=function(t,e){const i=p(this,qs);return t.set([NaN,NaN,NaN,NaN,i[4],i[5]],e),e+=6},rN=function(t,e){const i=p(this,Oe).subarray(4,6),r=p(this,Oe).subarray(16,18),[a,o,l,h]=p(this,jr),[f,g,m,y]=z(this,yn,Ip).call(this);return t.set([NaN,NaN,NaN,NaN,(i[0]-a)/l,(i[1]-o)/h,NaN,NaN,NaN,NaN,f,g,NaN,NaN,NaN,NaN,m,y,NaN,NaN,NaN,NaN,(r[0]-a)/l,(r[1]-o)/h],e),e+=24},P(io,lm,8),P(io,Sy,2),P(io,xy,p(io,lm)+p(io,Sy));let ay=io;var qf,wc,xo,um,qr,cm,Zi,Cy,aN;class sN extends Qt{constructor(e,i,r,a,o,l){super();P(this,Cy);P(this,qf);P(this,wc,new Float32Array(4));P(this,xo);P(this,um);P(this,qr);P(this,cm);P(this,Zi);O(this,Zi,e),O(this,qr,i),O(this,qf,r),O(this,cm,a),O(this,xo,o),O(this,um,l),this.lastPoint=[NaN,NaN],z(this,Cy,aN).call(this,l);const[h,f,g,m]=p(this,wc);for(let y=0,b=e.length;y<b;y+=2)e[y]=(e[y]-h)/g,e[y+1]=(e[y+1]-f)/m;for(let y=0,b=i.length;y<b;y+=2)i[y]=(i[y]-h)/g,i[y+1]=(i[y+1]-f)/m}toSVGPath(){const e=[`M${p(this,Zi)[4]} ${p(this,Zi)[5]}`];for(let i=6,r=p(this,Zi).length;i<r;i+=6){if(isNaN(p(this,Zi)[i])){e.push(`L${p(this,Zi)[i+4]} ${p(this,Zi)[i+5]}`);continue}e.push(`C${p(this,Zi)[i]} ${p(this,Zi)[i+1]} ${p(this,Zi)[i+2]} ${p(this,Zi)[i+3]} ${p(this,Zi)[i+4]} ${p(this,Zi)[i+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,i,r,a],o){const l=r-e,h=a-i;let f,g;switch(o){case 0:f=Qt._rescale(p(this,Zi),e,a,l,-h),g=Qt._rescale(p(this,qr),e,a,l,-h);break;case 90:f=Qt._rescaleAndSwap(p(this,Zi),e,i,l,h),g=Qt._rescaleAndSwap(p(this,qr),e,i,l,h);break;case 180:f=Qt._rescale(p(this,Zi),r,i,-l,h),g=Qt._rescale(p(this,qr),r,i,-l,h);break;case 270:f=Qt._rescaleAndSwap(p(this,Zi),r,a,-l,-h),g=Qt._rescaleAndSwap(p(this,qr),r,a,-l,-h);break}return{outline:Array.from(f),points:[Array.from(g)]}}get box(){return p(this,wc)}newOutliner(e,i,r,a,o,l=0){return new ay(e,i,r,a,o,l)}getNewOutline(e,i){const[r,a,o,l]=p(this,wc),[h,f,g,m]=p(this,qf),y=o*g,b=l*m,T=r*g+h,A=a*m+f,w=this.newOutliner({x:p(this,qr)[0]*y+T,y:p(this,qr)[1]*b+A},p(this,qf),p(this,cm),e,p(this,um),i??p(this,xo));for(let E=2;E<p(this,qr).length;E+=2)w.add({x:p(this,qr)[E]*y+T,y:p(this,qr)[E+1]*b+A});return w.getOutlines()}}qf=new WeakMap,wc=new WeakMap,xo=new WeakMap,um=new WeakMap,qr=new WeakMap,cm=new WeakMap,Zi=new WeakMap,Cy=new WeakSet,aN=function(e){const i=p(this,Zi);let r=i[4],a=i[5];const o=[r,a,r,a];let l=r,h=a;const f=e?Math.max:Math.min;for(let m=6,y=i.length;m<y;m+=6){const b=i[m+4],T=i[m+5];if(isNaN(i[m]))le.pointBoundingBox(b,T,o),h<T?(l=b,h=T):h===T&&(l=f(l,b));else{const A=[1/0,1/0,-1/0,-1/0];le.bezierBoundingBox(r,a,...i.slice(m,m+6),A),le.rectBoundingBox(...A,o),h<A[3]?(l=A[2],h=A[3]):h===A[3]&&(l=f(l,A[2]))}r=b,a=T}const g=p(this,wc);g[0]=o[0]-p(this,xo),g[1]=o[1]-p(this,xo),g[2]=o[2]-o[0]+2*p(this,xo),g[3]=o[3]-o[1]+2*p(this,xo),this.lastPoint=[l,h]};var hm,fm,Fl,Gs,dr,oN,O0,lN,uN,yA;class vA{constructor(t,e=0,i=0,r=!0){P(this,dr);P(this,hm);P(this,fm);P(this,Fl,[]);P(this,Gs,[]);const a=[1/0,1/0,-1/0,-1/0],o=10**-4;for(const{x:b,y:T,width:A,height:w}of t){const E=Math.floor((b-e)/o)*o,D=Math.ceil((b+A+e)/o)*o,R=Math.floor((T-e)/o)*o,N=Math.ceil((T+w+e)/o)*o,x=[E,R,N,!0],L=[D,R,N,!1];p(this,Fl).push(x,L),le.rectBoundingBox(E,R,D,N,a)}const l=a[2]-a[0]+2*i,h=a[3]-a[1]+2*i,f=a[0]-i,g=a[1]-i,m=p(this,Fl).at(r?-1:-2),y=[m[0],m[2]];for(const b of p(this,Fl)){const[T,A,w]=b;b[0]=(T-f)/l,b[1]=(A-g)/h,b[2]=(w-g)/h}O(this,hm,new Float32Array([f,g,l,h])),O(this,fm,y)}getOutlines(){p(this,Fl).sort((e,i)=>e[0]-i[0]||e[1]-i[1]||e[2]-i[2]);const t=[];for(const e of p(this,Fl))e[3]?(t.push(...z(this,dr,yA).call(this,e)),z(this,dr,lN).call(this,e)):(z(this,dr,uN).call(this,e),t.push(...z(this,dr,yA).call(this,e)));return z(this,dr,oN).call(this,t)}}hm=new WeakMap,fm=new WeakMap,Fl=new WeakMap,Gs=new WeakMap,dr=new WeakSet,oN=function(t){const e=[],i=new Set;for(const o of t){const[l,h,f]=o;e.push([l,h,o],[l,f,o])}e.sort((o,l)=>o[1]-l[1]||o[0]-l[0]);for(let o=0,l=e.length;o<l;o+=2){const h=e[o][2],f=e[o+1][2];h.push(f),f.push(h),i.add(h),i.add(f)}const r=[];let a;for(;i.size>0;){const o=i.values().next().value;let[l,h,f,g,m]=o;i.delete(o);let y=l,b=h;for(a=[l,f],r.push(a);;){let T;if(i.has(g))T=g;else if(i.has(m))T=m;else break;i.delete(T),[l,h,f,g,m]=T,y!==l&&(a.push(y,b,l,b===h?h:f),y=l),b=b===h?f:h}a.push(y,b)}return new E8(r,p(this,hm),p(this,fm))},O0=function(t){const e=p(this,Gs);let i=0,r=e.length-1;for(;i<=r;){const a=i+r>>1,o=e[a][0];if(o===t)return a;o<t?i=a+1:r=a-1}return r+1},lN=function([,t,e]){const i=z(this,dr,O0).call(this,t);p(this,Gs).splice(i,0,[t,e])},uN=function([,t,e]){const i=z(this,dr,O0).call(this,t);for(let r=i;r<p(this,Gs).length;r++){const[a,o]=p(this,Gs)[r];if(a!==t)break;if(a===t&&o===e){p(this,Gs).splice(r,1);return}}for(let r=i-1;r>=0;r--){const[a,o]=p(this,Gs)[r];if(a!==t)break;if(a===t&&o===e){p(this,Gs).splice(r,1);return}}},yA=function(t){const[e,i,r]=t,a=[[e,i,r]],o=z(this,dr,O0).call(this,r);for(let l=0;l<o;l++){const[h,f]=p(this,Gs)[l];for(let g=0,m=a.length;g<m;g++){const[,y,b]=a[g];if(!(f<=y||b<=h)){if(y>=h){if(b>f)a[g][1]=f;else{if(m===1)return[];a.splice(g,1),g--,m--}continue}a[g][2]=h,b>f&&a.push([e,f,b])}}}return a};var dm,Gf;class E8 extends Qt{constructor(e,i,r){super();P(this,dm);P(this,Gf);O(this,Gf,e),O(this,dm,i),this.lastPoint=r}toSVGPath(){const e=[];for(const i of p(this,Gf)){let[r,a]=i;e.push(`M${r} ${a}`);for(let o=2;o<i.length;o+=2){const l=i[o],h=i[o+1];l===r?(e.push(`V${h}`),a=h):h===a&&(e.push(`H${l}`),r=l)}e.push("Z")}return e.join(" ")}serialize([e,i,r,a],o){const l=[],h=r-e,f=a-i;for(const g of p(this,Gf)){const m=new Array(g.length);for(let y=0;y<g.length;y+=2)m[y]=e+g[y]*h,m[y+1]=a-g[y+1]*f;l.push(m)}return l}get box(){return p(this,dm)}get classNamesForOutlining(){return["highlightOutline"]}}dm=new WeakMap,Gf=new WeakMap;class bA extends ay{newFreeDrawOutline(t,e,i,r,a,o){return new S8(t,e,i,r,a,o)}}class S8 extends sN{newOutliner(t,e,i,r,a,o=0){return new bA(t,e,i,r,a,o)}}var Vs,Ac,Vf,vn,pm,$f,gm,mm,Ul,$s,Wf,vm,pi,wA,AA,_A,Tu,cN,fl;const Ar=class Ar{constructor({editor:t=null,uiManager:e=null}){P(this,pi);P(this,Vs,null);P(this,Ac,null);P(this,Vf);P(this,vn,null);P(this,pm,!1);P(this,$f,!1);P(this,gm,null);P(this,mm);P(this,Ul,null);P(this,$s,null);P(this,Wf);var i;t?(O(this,$f,!1),O(this,Wf,Pe.HIGHLIGHT_COLOR),O(this,gm,t)):(O(this,$f,!0),O(this,Wf,Pe.HIGHLIGHT_DEFAULT_COLOR)),O(this,$s,(t==null?void 0:t._uiManager)||e),O(this,mm,p(this,$s)._eventBus),O(this,Vf,(t==null?void 0:t.color)||((i=p(this,$s))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),p(Ar,vm)||O(Ar,vm,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Ie(this,"_keyboardManager",new Lm([[["Escape","mac+Escape"],Ar.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ar.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ar.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ar.prototype._moveToPrevious],[["Home","mac+Home"],Ar.prototype._moveToBeginning],[["End","mac+End"],Ar.prototype._moveToEnd]]))}renderButton(){const t=O(this,Vs,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=p(this,$s)._signal;t.addEventListener("click",z(this,pi,Tu).bind(this),{signal:e}),t.addEventListener("keydown",z(this,pi,_A).bind(this),{signal:e});const i=O(this,Ac,document.createElement("span"));return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=p(this,Vf),t.append(i),t}renderMainDropdown(){const t=O(this,vn,z(this,pi,wA).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===p(this,Vs)){z(this,pi,Tu).call(this,t);return}const e=t.target.getAttribute("data-color");e&&z(this,pi,AA).call(this,e,t)}_moveToNext(t){var e,i;if(!p(this,pi,fl)){z(this,pi,Tu).call(this,t);return}if(t.target===p(this,Vs)){(e=p(this,vn).firstChild)==null||e.focus();return}(i=t.target.nextSibling)==null||i.focus()}_moveToPrevious(t){var e,i;if(t.target===((e=p(this,vn))==null?void 0:e.firstChild)||t.target===p(this,Vs)){p(this,pi,fl)&&this._hideDropdownFromKeyboard();return}p(this,pi,fl)||z(this,pi,Tu).call(this,t),(i=t.target.previousSibling)==null||i.focus()}_moveToBeginning(t){var e;if(!p(this,pi,fl)){z(this,pi,Tu).call(this,t);return}(e=p(this,vn).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!p(this,pi,fl)){z(this,pi,Tu).call(this,t);return}(e=p(this,vn).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=p(this,vn))==null||t.classList.add("hidden"),(e=p(this,Ul))==null||e.abort(),O(this,Ul,null)}_hideDropdownFromKeyboard(){var t;if(!p(this,$f)){if(!p(this,pi,fl)){(t=p(this,gm))==null||t.unselect();return}this.hideDropdown(),p(this,Vs).focus({preventScroll:!0,focusVisible:p(this,pm)})}}updateColor(t){if(p(this,Ac)&&(p(this,Ac).style.backgroundColor=t),!p(this,vn))return;const e=p(this,$s).highlightColors.values();for(const i of p(this,vn).children)i.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=p(this,Vs))==null||t.remove(),O(this,Vs,null),O(this,Ac,null),(e=p(this,vn))==null||e.remove(),O(this,vn,null)}};Vs=new WeakMap,Ac=new WeakMap,Vf=new WeakMap,vn=new WeakMap,pm=new WeakMap,$f=new WeakMap,gm=new WeakMap,mm=new WeakMap,Ul=new WeakMap,$s=new WeakMap,Wf=new WeakMap,vm=new WeakMap,pi=new WeakSet,wA=function(){const t=document.createElement("div"),e=p(this,$s)._signal;t.addEventListener("contextmenu",Qs,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[i,r]of p(this,$s).highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",r),a.title=i,a.setAttribute("data-l10n-id",p(Ar,vm)[i]);const o=document.createElement("span");a.append(o),o.className="swatch",o.style.backgroundColor=r,a.setAttribute("aria-selected",r===p(this,Vf)),a.addEventListener("click",z(this,pi,AA).bind(this,r),{signal:e}),t.append(a)}return t.addEventListener("keydown",z(this,pi,_A).bind(this),{signal:e}),t},AA=function(t,e){e.stopPropagation(),p(this,mm).dispatch("switchannotationeditorparams",{source:this,type:p(this,Wf),value:t})},_A=function(t){Ar._keyboardManager.exec(this,t)},Tu=function(t){if(p(this,pi,fl)){this.hideDropdown();return}if(O(this,pm,t.detail===0),p(this,Ul)||(O(this,Ul,new AbortController),window.addEventListener("pointerdown",z(this,pi,cN).bind(this),{signal:p(this,$s).combinedSignal(p(this,Ul))})),p(this,vn)){p(this,vn).classList.remove("hidden");return}const e=O(this,vn,z(this,pi,wA).call(this));p(this,Vs).append(e)},cN=function(t){var e;(e=p(this,vn))!=null&&e.contains(t.target)||this.hideDropdown()},fl=function(){return p(this,vn)&&!p(this,vn).classList.contains("hidden")},P(Ar,vm,null);let oy=Ar;var Yf,ym,Co,_c,Xf,Sr,bm,wm,Ec,ys,Gr,In,Kf,To,Jn,Zf,bs,Am,Se,EA,M0,hN,fN,dN,SA,Du,Ss,Gh,pN,L0,Bp,gN,mN,vN,yN,bN;const Qe=class Qe extends xi{constructor(e){super({...e,name:"highlightEditor"});P(this,Se);P(this,Yf,null);P(this,ym,0);P(this,Co);P(this,_c,null);P(this,Xf,null);P(this,Sr,null);P(this,bm,null);P(this,wm,0);P(this,Ec,null);P(this,ys,null);P(this,Gr,null);P(this,In,!1);P(this,Kf,null);P(this,To);P(this,Jn,null);P(this,Zf,"");P(this,bs);P(this,Am,"");this.color=e.color||Qe._defaultColor,O(this,bs,e.thickness||Qe._defaultThickness),O(this,To,e.opacity||Qe._defaultOpacity),O(this,Co,e.boxes||null),O(this,Am,e.methodOfCreation||""),O(this,Zf,e.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(O(this,In,!0),z(this,Se,M0).call(this,e),z(this,Se,Du).call(this)):p(this,Co)&&(O(this,Yf,e.anchorNode),O(this,ym,e.anchorOffset),O(this,bm,e.focusNode),O(this,wm,e.focusOffset),z(this,Se,EA).call(this),z(this,Se,Du).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=Qe.prototype;return Ie(this,"_keyboardManager",new Lm([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:p(this,In)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:p(this,bs),methodOfCreation:p(this,Am)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,i){var r;xi.initialize(e,i),Qe._defaultColor||(Qe._defaultColor=((r=i.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(e,i){switch(e){case Pe.HIGHLIGHT_DEFAULT_COLOR:Qe._defaultColor=i;break;case Pe.HIGHLIGHT_THICKNESS:Qe._defaultThickness=i;break}}translateInPage(e,i){}get toolbarPosition(){return p(this,Kf)}updateParams(e,i){switch(e){case Pe.HIGHLIGHT_COLOR:z(this,Se,hN).call(this,i);break;case Pe.HIGHLIGHT_THICKNESS:z(this,Se,fN).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Pe.HIGHLIGHT_DEFAULT_COLOR,Qe._defaultColor],[Pe.HIGHLIGHT_THICKNESS,Qe._defaultThickness]]}get propertiesToUpdate(){return[[Pe.HIGHLIGHT_COLOR,this.color||Qe._defaultColor],[Pe.HIGHLIGHT_THICKNESS,p(this,bs)||Qe._defaultThickness],[Pe.HIGHLIGHT_FREE,p(this,In)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(O(this,Xf,new oy({editor:this})),e.addColorPicker(p(this,Xf))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(z(this,Se,Bp).call(this))}getBaseTranslation(){return[0,0]}getRect(e,i){return super.getRect(e,i,z(this,Se,Bp).call(this))}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){z(this,Se,SA).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(z(this,Se,Du).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var r;let i=!1;this.parent&&!e?z(this,Se,SA).call(this):e&&(z(this,Se,Du).call(this,e),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),i&&this.select()}rotate(e){var a,o,l;const{drawLayer:i}=this.parent;let r;p(this,In)?(e=(e-this.rotation+360)%360,r=z(a=Qe,Ss,Gh).call(a,p(this,ys).box,e)):r=z(o=Qe,Ss,Gh).call(o,[this.x,this.y,this.width,this.height],e),i.updateProperties(p(this,Gr),{bbox:r,root:{"data-main-rotation":e}}),i.updateProperties(p(this,Jn),{bbox:z(l=Qe,Ss,Gh).call(l,p(this,Sr).box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();p(this,Zf)&&(e.setAttribute("aria-label",p(this,Zf)),e.setAttribute("role","mark")),p(this,In)?e.classList.add("free"):this.div.addEventListener("keydown",z(this,Se,pN).bind(this),{signal:this._uiManager._signal});const i=O(this,Ec,document.createElement("div"));e.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=p(this,_c);const[r,a]=this.parentDimensions;return this.setDims(this.width*r,this.height*a),PR(this,p(this,Ec),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(p(this,Jn),{rootClass:{hovered:!0}})}pointerleave(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(p(this,Jn),{rootClass:{hovered:!1}})}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:z(this,Se,L0).call(this,!0);break;case 1:case 3:z(this,Se,L0).call(this,!1);break}}select(){var e;super.select(),p(this,Jn)&&((e=this.parent)==null||e.drawLayer.updateProperties(p(this,Jn),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var e;super.unselect(),p(this,Jn)&&((e=this.parent)==null||e.drawLayer.updateProperties(p(this,Jn),{rootClass:{selected:!1}}),p(this,In)||z(this,Se,L0).call(this,!1))}get _mustFixPosition(){return!p(this,In)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(p(this,Gr),{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(p(this,Jn),{rootClass:{hidden:!e}}))}static startHighlighting(e,i,{target:r,x:a,y:o}){const{x:l,y:h,width:f,height:g}=r.getBoundingClientRect(),m=new AbortController,y=e.combinedSignal(m),b=T=>{m.abort(),z(this,Ss,yN).call(this,e,T)};window.addEventListener("blur",b,{signal:y}),window.addEventListener("pointerup",b,{signal:y}),window.addEventListener("pointerdown",on,{capture:!0,passive:!1,signal:y}),window.addEventListener("contextmenu",Qs,{signal:y}),r.addEventListener("pointermove",z(this,Ss,vN).bind(this,e),{signal:y}),this._freeHighlight=new bA({x:a,y:o},[l,h,f,g],e.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(e,i,r){var A,w,E,D;let a=null;if(e instanceof $k){const{data:{quadPoints:R,rect:N,rotation:x,id:L,color:I,opacity:U,popupRef:F},parent:{page:{pageNumber:k}}}=e;a=e={annotationType:_e.HIGHLIGHT,color:Array.from(I),opacity:U,quadPoints:R,boxes:null,pageIndex:k-1,rect:N.slice(0),rotation:x,id:L,deleted:!1,popupRef:F}}else if(e instanceof D_){const{data:{inkLists:R,rect:N,rotation:x,id:L,color:I,borderStyle:{rawWidth:U},popupRef:F},parent:{page:{pageNumber:k}}}=e;a=e={annotationType:_e.HIGHLIGHT,color:Array.from(I),thickness:U,inkLists:R,boxes:null,pageIndex:k-1,rect:N.slice(0),rotation:x,id:L,deleted:!1,popupRef:F}}const{color:o,quadPoints:l,inkLists:h,opacity:f}=e,g=await super.deserialize(e,i,r);g.color=le.makeHexColor(...o),O(g,To,f||1),h&&O(g,bs,e.thickness),g.annotationElementId=e.id||null,g._initialData=a;const[m,y]=g.pageDimensions,[b,T]=g.pageTranslation;if(l){const R=O(g,Co,[]);for(let N=0;N<l.length;N+=8)R.push({x:(l[N]-b)/m,y:1-(l[N+1]-T)/y,width:(l[N+2]-l[N])/m,height:(l[N+1]-l[N+5])/y});z(A=g,Se,EA).call(A),z(w=g,Se,Du).call(w),g.rotate(g.rotation)}else if(h){O(g,In,!0);const R=h[0],N={x:R[0]-b,y:y-(R[1]-T)},x=new bA(N,[0,0,m,y],1,p(g,bs)/2,!0,.001);for(let U=0,F=R.length;U<F;U+=2)N.x=R[U]-b,N.y=y-(R[U+1]-T),x.add(N);const{id:L,clipPathId:I}=i.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:g.color,"fill-opacity":g._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:x.toSVGPath()}},!0,!0);z(E=g,Se,M0).call(E,{highlightOutlines:x.getOutlines(),highlightId:L,clipPathId:I}),z(D=g,Se,Du).call(D),g.rotate(g.parentRotation)}return g}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const i=this.getRect(0,0),r=xi._colorManager.convert(this.color),a={annotationType:_e.HIGHLIGHT,color:r,opacity:p(this,To),thickness:p(this,bs),quadPoints:z(this,Se,gN).call(this),outlines:z(this,Se,mN).call(this,i),pageIndex:this.pageIndex,rect:i,rotation:z(this,Se,Bp).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!z(this,Se,bN).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Yf=new WeakMap,ym=new WeakMap,Co=new WeakMap,_c=new WeakMap,Xf=new WeakMap,Sr=new WeakMap,bm=new WeakMap,wm=new WeakMap,Ec=new WeakMap,ys=new WeakMap,Gr=new WeakMap,In=new WeakMap,Kf=new WeakMap,To=new WeakMap,Jn=new WeakMap,Zf=new WeakMap,bs=new WeakMap,Am=new WeakMap,Se=new WeakSet,EA=function(){const e=new vA(p(this,Co),.001);O(this,ys,e.getOutlines()),[this.x,this.y,this.width,this.height]=p(this,ys).box;const i=new vA(p(this,Co),.0025,.001,this._uiManager.direction==="ltr");O(this,Sr,i.getOutlines());const{lastPoint:r}=p(this,Sr);O(this,Kf,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},M0=function({highlightOutlines:e,highlightId:i,clipPathId:r}){var m,y;if(O(this,ys,e),O(this,Sr,e.getNewOutline(p(this,bs)/2+1.5,.0025)),i>=0)O(this,Gr,i),O(this,_c,r),this.parent.drawLayer.finalizeDraw(i,{bbox:e.box,path:{d:e.toSVGPath()}}),O(this,Jn,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:p(this,Sr).box,path:{d:p(this,Sr).toSVGPath()}},!0));else if(this.parent){const b=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(p(this,Gr),{bbox:z(m=Qe,Ss,Gh).call(m,p(this,ys).box,(b-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(p(this,Jn),{bbox:z(y=Qe,Ss,Gh).call(y,p(this,Sr).box,b),path:{d:p(this,Sr).toSVGPath()}})}const[o,l,h,f]=e.box;switch(this.rotation){case 0:this.x=o,this.y=l,this.width=h,this.height=f;break;case 90:{const[b,T]=this.parentDimensions;this.x=l,this.y=1-o,this.width=h*T/b,this.height=f*b/T;break}case 180:this.x=1-o,this.y=1-l,this.width=h,this.height=f;break;case 270:{const[b,T]=this.parentDimensions;this.x=1-l,this.y=o,this.width=h*T/b,this.height=f*b/T;break}}const{lastPoint:g}=p(this,Sr);O(this,Kf,[(g[0]-o)/h,(g[1]-l)/f])},hN=function(e){const i=(o,l)=>{var h,f;this.color=o,O(this,To,l),(h=this.parent)==null||h.drawLayer.updateProperties(p(this,Gr),{root:{fill:o,"fill-opacity":l}}),(f=p(this,Xf))==null||f.updateColor(o)},r=this.color,a=p(this,To);this.addCommands({cmd:i.bind(this,e,Qe._defaultOpacity),undo:i.bind(this,r,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pe.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},fN=function(e){const i=p(this,bs),r=a=>{O(this,bs,a),z(this,Se,dN).call(this,a)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pe.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},dN=function(e){if(!p(this,In))return;z(this,Se,M0).call(this,{highlightOutlines:p(this,ys).getNewOutline(e/2)}),this.fixAndSetPosition();const[i,r]=this.parentDimensions;this.setDims(this.width*i,this.height*r)},SA=function(){p(this,Gr)===null||!this.parent||(this.parent.drawLayer.remove(p(this,Gr)),O(this,Gr,null),this.parent.drawLayer.remove(p(this,Jn)),O(this,Jn,null))},Du=function(e=this.parent){p(this,Gr)===null&&({id:nr(this,Gr)._,clipPathId:nr(this,_c)._}=e.drawLayer.draw({bbox:p(this,ys).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":p(this,To)},rootClass:{highlight:!0,free:p(this,In)},path:{d:p(this,ys).toSVGPath()}},!1,!0),O(this,Jn,e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:p(this,In)},bbox:p(this,Sr).box,path:{d:p(this,Sr).toSVGPath()}},p(this,In))),p(this,Ec)&&(p(this,Ec).style.clipPath=p(this,_c)))},Ss=new WeakSet,Gh=function([e,i,r,a],o){switch(o){case 90:return[1-i-a,e,a,r];case 180:return[1-e-r,1-i-a,r,a];case 270:return[i,1-e-r,a,r]}return[e,i,r,a]},pN=function(e){Qe._keyboardManager.exec(this,e)},L0=function(e){if(!p(this,Yf))return;const i=window.getSelection();e?i.setPosition(p(this,Yf),p(this,ym)):i.setPosition(p(this,bm),p(this,wm))},Bp=function(){return p(this,In)?this.rotation:0},gN=function(){if(p(this,In))return null;const[e,i]=this.pageDimensions,[r,a]=this.pageTranslation,o=p(this,Co),l=new Float32Array(o.length*8);let h=0;for(const{x:f,y:g,width:m,height:y}of o){const b=f*e+r,T=(1-g)*i+a;l[h]=l[h+4]=b,l[h+1]=l[h+3]=T,l[h+2]=l[h+6]=b+m*e,l[h+5]=l[h+7]=T-y*i,h+=8}return l},mN=function(e){return p(this,ys).serialize(e,z(this,Se,Bp).call(this))},vN=function(e,i){this._freeHighlight.add(i)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},yN=function(e,i){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},bN=function(e){const{color:i}=this._initialData;return e.color.some((r,a)=>r!==i[a])},P(Qe,Ss),Bt(Qe,"_defaultColor",null),Bt(Qe,"_defaultOpacity",1),Bt(Qe,"_defaultThickness",12),Bt(Qe,"_type","highlight"),Bt(Qe,"_editorType",_e.HIGHLIGHT),Bt(Qe,"_freeHighlightId",-1),Bt(Qe,"_freeHighlight",null),Bt(Qe,"_freeHighlightClipId","");let ly=Qe;var Sc;class wN{constructor(){P(this,Sc,Object.create(null))}updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,i]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,i)}updateSVGProperty(t,e){p(this,Sc)[t]=e}toSVGProperties(){const t=p(this,Sc);return O(this,Sc,Object.create(null)),{root:t}}reset(){O(this,Sc,Object.create(null))}updateAll(t=this){this.updateProperties(t)}clone(){gi("Not implemented")}}Sc=new WeakMap;var Vr,Qf,Sn,xc,Cc,Hl,jl,ql,Tc,Ve,xA,CA,TA,Pp,AN,I0,zp,Vh;const te=class te extends xi{constructor(e){super(e);P(this,Ve);P(this,Vr,null);P(this,Qf);Bt(this,"_drawId",null);O(this,Qf,e.mustBeCommitted||!1),this._addOutlines(e)}_addOutlines(e){e.drawOutlines&&(z(this,Ve,xA).call(this,e),z(this,Ve,Pp).call(this))}static _mergeSVGProperties(e,i){const r=new Set(Object.keys(e));for(const[a,o]of Object.entries(i))r.has(a)?Object.assign(e[a],o):e[a]=o;return e}static getDefaultDrawingOptions(e){gi("Not implemented")}static get typesMap(){gi("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,i){const r=this.typesMap.get(e);r&&this._defaultDrawingOptions.updateProperty(r,i),this._currentParent&&(p(te,Sn).updateProperty(r,i),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,i){const r=this.constructor.typesMap.get(e);r&&this._updateProperty(e,r,i)}static get defaultPropertiesToUpdate(){const e=[],i=this._defaultDrawingOptions;for(const[r,a]of this.typesMap)e.push([r,i[a]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:i}=this;for(const[r,a]of this.constructor.typesMap)e.push([r,i[a]]);return e}_updateProperty(e,i,r){const a=this._drawingOptions,o=a[i],l=h=>{var g;a.updateProperty(i,h);const f=p(this,Vr).updateProperty(i,h);f&&z(this,Ve,zp).call(this,f),(g=this.parent)==null||g.drawLayer.updateProperties(this._drawId,a.toSVGProperties())};this.addCommands({cmd:l.bind(this,r),undo:l.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,te._mergeSVGProperties(p(this,Vr).getPathResizingSVGProperties(z(this,Ve,I0).call(this)),{bbox:z(this,Ve,Vh).call(this)}))}_onResized(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,te._mergeSVGProperties(p(this,Vr).getPathResizedSVGProperties(z(this,Ve,I0).call(this)),{bbox:z(this,Ve,Vh).call(this)}))}_onTranslating(e,i){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{bbox:z(this,Ve,Vh).call(this)})}_onTranslated(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,te._mergeSVGProperties(p(this,Vr).getPathTranslatedSVGProperties(z(this,Ve,I0).call(this),this.parentDimensions),{bbox:z(this,Ve,Vh).call(this)}))}_onStartDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,p(this,Qf)&&(O(this,Qf,!1),this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){z(this,Ve,TA).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(z(this,Ve,Pp).call(this),z(this,Ve,zp).call(this,p(this,Vr).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var r;let i=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),z(this,Ve,TA).call(this)):e&&(this._uiManager.addShouldRescale(this),z(this,Ve,Pp).call(this,e),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(e),i&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,te._mergeSVGProperties({bbox:z(this,Ve,Vh).call(this)},p(this,Vr).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&z(this,Ve,zp).call(this,p(this,Vr).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,i;this._isCopy&&(e=this.x,i=this.y);const r=super.render();r.classList.add("draw");const a=document.createElement("div");r.append(a),a.setAttribute("aria-hidden","true"),a.className="internal";const[o,l]=this.parentDimensions;return this.setDims(this.width*o,this.height*l),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,i),r}static createDrawerInstance(e,i,r,a,o){gi("Not implemented")}static startDrawing(e,i,r,a){var w;const{target:o,offsetX:l,offsetY:h,pointerId:f,pointerType:g}=a;if(p(te,jl)&&p(te,jl)!==g)return;const{viewport:{rotation:m}}=e,{width:y,height:b}=o.getBoundingClientRect(),T=O(te,xc,new AbortController),A=e.combinedSignal(T);if(p(te,Hl)||O(te,Hl,f),p(te,jl)??O(te,jl,g),window.addEventListener("pointerup",E=>{var D;p(te,Hl)===E.pointerId?this._endDraw(E):(D=p(te,ql))==null||D.delete(E.pointerId)},{signal:A}),window.addEventListener("pointercancel",E=>{var D;p(te,Hl)===E.pointerId?this._currentParent.endDrawingSession():(D=p(te,ql))==null||D.delete(E.pointerId)},{signal:A}),window.addEventListener("pointerdown",E=>{p(te,jl)===E.pointerType&&((p(te,ql)||O(te,ql,new Set)).add(E.pointerId),p(te,Sn).isCancellable()&&(p(te,Sn).removeLastElement(),p(te,Sn).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:A}),window.addEventListener("contextmenu",Qs,{signal:A}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:A}),o.addEventListener("touchmove",E=>{E.timeStamp===p(te,Tc)&&on(E)},{signal:A}),e.toggleDrawing(),(w=i._editorUndoBar)==null||w.hide(),p(te,Sn)){e.drawLayer.updateProperties(this._currentDrawId,p(te,Sn).startNew(l,h,y,b,m));return}i.updateUIForDefaultProperties(this),O(te,Sn,this.createDrawerInstance(l,h,y,b,m)),O(te,Cc,this.getDefaultDrawingOptions()),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(p(te,Cc).toSVGProperties(),p(te,Sn).defaultSVGProperties),!0,!1)}static _drawMove(e){var o;if(O(te,Tc,-1),!p(te,Sn))return;const{offsetX:i,offsetY:r,pointerId:a}=e;if(p(te,Hl)===a){if(((o=p(te,ql))==null?void 0:o.size)>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,p(te,Sn).add(i,r)),O(te,Tc,e.timeStamp),on(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,O(te,Sn,null),O(te,Cc,null),O(te,jl,null),O(te,Tc,NaN)),p(te,xc)&&(p(te,xc).abort(),O(te,xc,null),O(te,Hl,NaN),O(te,ql,null))}static _endDraw(e){const i=this._currentParent;if(i){if(i.toggleDrawing(!0),this._cleanup(!1),(e==null?void 0:e.target)===i.div&&i.drawLayer.updateProperties(this._currentDrawId,p(te,Sn).end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const r=p(te,Sn),a=this._currentDrawId,o=r.getLastElement();i.addCommands({cmd:()=>{i.drawLayer.updateProperties(a,r.setLastElement(o))},undo:()=>{i.drawLayer.updateProperties(a,r.removeLastElement())},mustExec:!1,type:Pe.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const i=this._currentParent;if(!i)return null;if(i.toggleDrawing(!0),i.cleanUndoStack(Pe.DRAW_STEP),!p(te,Sn).isEmpty()){const{pageDimensions:[r,a],scale:o}=i,l=i.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:p(te,Sn).getOutlines(r*o,a*o,o,this._INNER_MARGIN),drawingOptions:p(te,Cc),mustBeCommitted:!e});return this._cleanup(!0),l}return i.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,i,r,a,o,l){gi("Not implemented")}static async deserialize(e,i,r){var m,y;const{rawDims:{pageWidth:a,pageHeight:o,pageX:l,pageY:h}}=i.viewport,f=this.deserializeDraw(l,h,a,o,this._INNER_MARGIN,e),g=await super.deserialize(e,i,r);return g.createDrawingOptions(e),z(m=g,Ve,xA).call(m,{drawOutlines:f}),z(y=g,Ve,Pp).call(y),g.onScaleChanging(),g.rotate(),g}serializeDraw(e){const[i,r]=this.pageTranslation,[a,o]=this.pageDimensions;return p(this,Vr).serialize([i,r,a,o],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Vr=new WeakMap,Qf=new WeakMap,Sn=new WeakMap,xc=new WeakMap,Cc=new WeakMap,Hl=new WeakMap,jl=new WeakMap,ql=new WeakMap,Tc=new WeakMap,Ve=new WeakSet,xA=function({drawOutlines:e,drawId:i,drawingOptions:r}){O(this,Vr,e),this._drawingOptions||(this._drawingOptions=r),i>=0?(this._drawId=i,this.parent.drawLayer.finalizeDraw(i,e.defaultProperties)):this._drawId=z(this,Ve,CA).call(this,e,this.parent),z(this,Ve,zp).call(this,e.box)},CA=function(e,i){const{id:r}=i.drawLayer.draw(te._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return r},TA=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Pp=function(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=z(this,Ve,CA).call(this,p(this,Vr),e)}},AN=function([e,i,r,a]){const{parentDimensions:[o,l],rotation:h}=this;switch(h){case 90:return[i,1-e,r*(l/o),a*(o/l)];case 180:return[1-e,1-i,r,a];case 270:return[1-i,e,r*(l/o),a*(o/l)];default:return[e,i,r,a]}},I0=function(){const{x:e,y:i,width:r,height:a,parentDimensions:[o,l],rotation:h}=this;switch(h){case 90:return[1-i,e,r*(o/l),a*(l/o)];case 180:return[1-e,1-i,r,a];case 270:return[i,1-e,r*(o/l),a*(l/o)];default:return[e,i,r,a]}},zp=function(e){if([this.x,this.y,this.width,this.height]=z(this,Ve,AN).call(this,e),this.div){this.fixAndSetPosition();const[i,r]=this.parentDimensions;this.setDims(this.width*i,this.height*r)}this._onResized()},Vh=function(){const{x:e,y:i,width:r,height:a,rotation:o,parentRotation:l,parentDimensions:[h,f]}=this;switch((o*4+l)/90){case 1:return[1-i-a,e,a,r];case 2:return[1-e-r,1-i-a,r,a];case 3:return[i,1-e-r,a,r];case 4:return[e,i-r*(h/f),a*(f/h),r*(h/f)];case 5:return[1-i,e,r*(h/f),a*(f/h)];case 6:return[1-e-a*(f/h),1-i,a*(f/h),r*(h/f)];case 7:return[i-r*(h/f),1-e-a*(f/h),r*(h/f),a*(f/h)];case 8:return[e-r,i-a,r,a];case 9:return[1-i,e-r,a,r];case 10:return[1-e,1-i,r,a];case 11:return[i-a,1-e,a,r];case 12:return[e-a*(f/h),i,a*(f/h),r*(h/f)];case 13:return[1-i-r*(h/f),e-a*(f/h),r*(h/f),a*(f/h)];case 14:return[1-e,1-i-r*(h/f),a*(f/h),r*(h/f)];case 15:return[i,1-e,r*(h/f),a*(f/h)];default:return[e,i,r,a]}},Bt(te,"_currentDrawId",-1),Bt(te,"_currentParent",null),P(te,Sn,null),P(te,xc,null),P(te,Cc,null),P(te,Hl,NaN),P(te,jl,null),P(te,ql,null),P(te,Tc,NaN),Bt(te,"_INNER_MARGIN",3);let uy=te;var wa,xn,Cn,Dc,Jf,or,Bn,ws,Rc,kc,Nc,td,B0;class x8{constructor(t,e,i,r,a,o){P(this,td);P(this,wa,new Float64Array(6));P(this,xn);P(this,Cn);P(this,Dc);P(this,Jf);P(this,or);P(this,Bn,"");P(this,ws,0);P(this,Rc,new Pm);P(this,kc);P(this,Nc);O(this,kc,i),O(this,Nc,r),O(this,Dc,a),O(this,Jf,o),[t,e]=z(this,td,B0).call(this,t,e);const l=O(this,xn,[NaN,NaN,NaN,NaN,t,e]);O(this,or,[t,e]),O(this,Cn,[{line:l,points:p(this,or)}]),p(this,wa).set(l,0)}updateProperty(t,e){t==="stroke-width"&&O(this,Jf,e)}isEmpty(){return!p(this,Cn)||p(this,Cn).length===0}isCancellable(){return p(this,or).length<=10}add(t,e){[t,e]=z(this,td,B0).call(this,t,e);const[i,r,a,o]=p(this,wa).subarray(2,6),l=t-a,h=e-o;return Math.hypot(p(this,kc)*l,p(this,Nc)*h)<=2?null:(p(this,or).push(t,e),isNaN(i)?(p(this,wa).set([a,o,t,e],2),p(this,xn).push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(p(this,wa)[0])&&p(this,xn).splice(6,6),p(this,wa).set([i,r,a,o,t,e],0),p(this,xn).push(...Qt.createBezierPoints(i,r,a,o,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const i=this.add(t,e);return i||(p(this,or).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,i,r,a){O(this,kc,i),O(this,Nc,r),O(this,Dc,a),[t,e]=z(this,td,B0).call(this,t,e);const o=O(this,xn,[NaN,NaN,NaN,NaN,t,e]);O(this,or,[t,e]);const l=p(this,Cn).at(-1);return l&&(l.line=new Float32Array(l.line),l.points=new Float32Array(l.points)),p(this,Cn).push({line:o,points:p(this,or)}),p(this,wa).set(o,0),O(this,ws,0),this.toSVGPath(),null}getLastElement(){return p(this,Cn).at(-1)}setLastElement(t){return p(this,Cn)?(p(this,Cn).push(t),O(this,xn,t.line),O(this,or,t.points),O(this,ws,0),{path:{d:this.toSVGPath()}}):p(this,Rc).setLastElement(t)}removeLastElement(){if(!p(this,Cn))return p(this,Rc).removeLastElement();p(this,Cn).pop(),O(this,Bn,"");for(let t=0,e=p(this,Cn).length;t<e;t++){const{line:i,points:r}=p(this,Cn)[t];O(this,xn,i),O(this,or,r),O(this,ws,0),this.toSVGPath()}return{path:{d:p(this,Bn)}}}toSVGPath(){const t=Qt.svgRound(p(this,xn)[4]),e=Qt.svgRound(p(this,xn)[5]);if(p(this,or).length===2)return O(this,Bn,`${p(this,Bn)} M ${t} ${e} Z`),p(this,Bn);if(p(this,or).length<=6){const r=p(this,Bn).lastIndexOf("M");O(this,Bn,`${p(this,Bn).slice(0,r)} M ${t} ${e}`),O(this,ws,6)}if(p(this,or).length===4){const r=Qt.svgRound(p(this,xn)[10]),a=Qt.svgRound(p(this,xn)[11]);return O(this,Bn,`${p(this,Bn)} L ${r} ${a}`),O(this,ws,12),p(this,Bn)}const i=[];p(this,ws)===0&&(i.push(`M ${t} ${e}`),O(this,ws,6));for(let r=p(this,ws),a=p(this,xn).length;r<a;r+=6){const[o,l,h,f,g,m]=p(this,xn).slice(r,r+6).map(Qt.svgRound);i.push(`C${o} ${l} ${h} ${f} ${g} ${m}`)}return O(this,Bn,p(this,Bn)+i.join(" ")),O(this,ws,p(this,xn).length),p(this,Bn)}getOutlines(t,e,i,r){const a=p(this,Cn).at(-1);return a.line=new Float32Array(a.line),a.points=new Float32Array(a.points),p(this,Rc).build(p(this,Cn),t,e,i,p(this,Dc),p(this,Jf),r),O(this,wa,null),O(this,xn,null),O(this,Cn,null),O(this,Bn,null),p(this,Rc)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}wa=new WeakMap,xn=new WeakMap,Cn=new WeakMap,Dc=new WeakMap,Jf=new WeakMap,or=new WeakMap,Bn=new WeakMap,ws=new WeakMap,Rc=new WeakMap,kc=new WeakMap,Nc=new WeakMap,td=new WeakSet,B0=function(t,e){return Qt._normalizePoint(t,e,p(this,kc),p(this,Nc),p(this,Dc))};var lr,_m,Em,$r,Aa,_a,ed,id,Oc,zn,to,_N,EN,SN;class Pm extends Qt{constructor(){super(...arguments);P(this,zn);P(this,lr);P(this,_m,0);P(this,Em);P(this,$r);P(this,Aa);P(this,_a);P(this,ed);P(this,id);P(this,Oc)}build(e,i,r,a,o,l,h){O(this,Aa,i),O(this,_a,r),O(this,ed,a),O(this,id,o),O(this,Oc,l),O(this,Em,h??0),O(this,$r,e),z(this,zn,EN).call(this)}get thickness(){return p(this,Oc)}setLastElement(e){return p(this,$r).push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return p(this,$r).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:i}of p(this,$r)){if(e.push(`M${Qt.svgRound(i[4])} ${Qt.svgRound(i[5])}`),i.length===6){e.push("Z");continue}if(i.length===12&&isNaN(i[6])){e.push(`L${Qt.svgRound(i[10])} ${Qt.svgRound(i[11])}`);continue}for(let r=6,a=i.length;r<a;r+=6){const[o,l,h,f,g,m]=i.subarray(r,r+6).map(Qt.svgRound);e.push(`C${o} ${l} ${h} ${f} ${g} ${m}`)}}return e.join("")}serialize([e,i,r,a],o){const l=[],h=[],[f,g,m,y]=z(this,zn,_N).call(this);let b,T,A,w,E,D,R,N,x;switch(p(this,id)){case 0:x=Qt._rescale,b=e,T=i+a,A=r,w=-a,E=e+f*r,D=i+(1-g-y)*a,R=e+(f+m)*r,N=i+(1-g)*a;break;case 90:x=Qt._rescaleAndSwap,b=e,T=i,A=r,w=a,E=e+g*r,D=i+f*a,R=e+(g+y)*r,N=i+(f+m)*a;break;case 180:x=Qt._rescale,b=e+r,T=i,A=-r,w=a,E=e+(1-f-m)*r,D=i+g*a,R=e+(1-f)*r,N=i+(g+y)*a;break;case 270:x=Qt._rescaleAndSwap,b=e+r,T=i+a,A=-r,w=-a,E=e+(1-g-y)*r,D=i+(1-f-m)*a,R=e+(1-g)*r,N=i+(1-f)*a;break}for(const{line:L,points:I}of p(this,$r))l.push(x(L,b,T,A,w,o?new Array(L.length):null)),h.push(x(I,b,T,A,w,o?new Array(I.length):null));return{lines:l,points:h,rect:[E,D,R,N]}}static deserialize(e,i,r,a,o,{paths:{lines:l,points:h},rotation:f,thickness:g}){const m=[];let y,b,T,A,w;switch(f){case 0:w=Qt._rescale,y=-e/r,b=i/a+1,T=1/r,A=-1/a;break;case 90:w=Qt._rescaleAndSwap,y=-i/a,b=-e/r,T=1/a,A=1/r;break;case 180:w=Qt._rescale,y=e/r+1,b=-i/a,T=-1/r,A=1/a;break;case 270:w=Qt._rescaleAndSwap,y=i/a+1,b=e/r+1,T=-1/a,A=-1/r;break}if(!l){l=[];for(const D of h){const R=D.length;if(R===2){l.push(new Float32Array([NaN,NaN,NaN,NaN,D[0],D[1]]));continue}if(R===4){l.push(new Float32Array([NaN,NaN,NaN,NaN,D[0],D[1],NaN,NaN,NaN,NaN,D[2],D[3]]));continue}const N=new Float32Array(3*(R-2));l.push(N);let[x,L,I,U]=D.subarray(0,4);N.set([NaN,NaN,NaN,NaN,x,L],0);for(let F=4;F<R;F+=2){const k=D[F],$=D[F+1];N.set(Qt.createBezierPoints(x,L,I,U,k,$),(F-2)*3),[x,L,I,U]=[I,U,k,$]}}}for(let D=0,R=l.length;D<R;D++)m.push({line:w(l[D].map(N=>N??NaN),y,b,T,A),points:w(h[D].map(N=>N??NaN),y,b,T,A)});const E=new this.prototype.constructor;return E.build(m,r,a,1,f,g,o),E}get box(){return p(this,lr)}updateProperty(e,i){return e==="stroke-width"?z(this,zn,SN).call(this,i):null}updateParentDimensions([e,i],r){const[a,o]=z(this,zn,to).call(this);O(this,Aa,e),O(this,_a,i),O(this,ed,r);const[l,h]=z(this,zn,to).call(this),f=l-a,g=h-o,m=p(this,lr);return m[0]-=f,m[1]-=g,m[2]+=2*f,m[3]+=2*g,m}updateRotation(e){return O(this,_m,e),{path:{transform:this.rotationTransform}}}get viewBox(){return p(this,lr).map(Qt.svgRound).join(" ")}get defaultProperties(){const[e,i]=p(this,lr);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Qt.svgRound(e)} ${Qt.svgRound(i)}`}}}get rotationTransform(){const[,,e,i]=p(this,lr);let r=0,a=0,o=0,l=0,h=0,f=0;switch(p(this,_m)){case 90:a=i/e,o=-e/i,h=e;break;case 180:r=-1,l=-1,h=e,f=i;break;case 270:a=-i/e,o=e/i,f=i;break;default:return""}return`matrix(${r} ${a} ${o} ${l} ${Qt.svgRound(h)} ${Qt.svgRound(f)})`}getPathResizingSVGProperties([e,i,r,a]){const[o,l]=z(this,zn,to).call(this),[h,f,g,m]=p(this,lr);if(Math.abs(g-o)<=Qt.PRECISION||Math.abs(m-l)<=Qt.PRECISION){const w=e+r/2-(h+g/2),E=i+a/2-(f+m/2);return{path:{"transform-origin":`${Qt.svgRound(e)} ${Qt.svgRound(i)}`,transform:`${this.rotationTransform} translate(${w} ${E})`}}}const y=(r-2*o)/(g-2*o),b=(a-2*l)/(m-2*l),T=g/r,A=m/a;return{path:{"transform-origin":`${Qt.svgRound(h)} ${Qt.svgRound(f)}`,transform:`${this.rotationTransform} scale(${T} ${A}) translate(${Qt.svgRound(o)} ${Qt.svgRound(l)}) scale(${y} ${b}) translate(${Qt.svgRound(-o)} ${Qt.svgRound(-l)})`}}}getPathResizedSVGProperties([e,i,r,a]){const[o,l]=z(this,zn,to).call(this),h=p(this,lr),[f,g,m,y]=h;if(h[0]=e,h[1]=i,h[2]=r,h[3]=a,Math.abs(m-o)<=Qt.PRECISION||Math.abs(y-l)<=Qt.PRECISION){const E=e+r/2-(f+m/2),D=i+a/2-(g+y/2);for(const{line:R,points:N}of p(this,$r))Qt._translate(R,E,D,R),Qt._translate(N,E,D,N);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Qt.svgRound(e)} ${Qt.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const b=(r-2*o)/(m-2*o),T=(a-2*l)/(y-2*l),A=-b*(f+o)+e+o,w=-T*(g+l)+i+l;if(b!==1||T!==1||A!==0||w!==0)for(const{line:E,points:D}of p(this,$r))Qt._rescale(E,A,w,b,T,E),Qt._rescale(D,A,w,b,T,D);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Qt.svgRound(e)} ${Qt.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,i],r){const[a,o]=r,l=p(this,lr),h=e-l[0],f=i-l[1];if(p(this,Aa)===a&&p(this,_a)===o)for(const{line:g,points:m}of p(this,$r))Qt._translate(g,h,f,g),Qt._translate(m,h,f,m);else{const g=p(this,Aa)/a,m=p(this,_a)/o;O(this,Aa,a),O(this,_a,o);for(const{line:y,points:b}of p(this,$r))Qt._rescale(y,h,f,g,m,y),Qt._rescale(b,h,f,g,m,b);l[2]*=g,l[3]*=m}return l[0]=e,l[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Qt.svgRound(e)} ${Qt.svgRound(i)}`}}}get defaultSVGProperties(){const e=p(this,lr);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Qt.svgRound(e[0])} ${Qt.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}lr=new WeakMap,_m=new WeakMap,Em=new WeakMap,$r=new WeakMap,Aa=new WeakMap,_a=new WeakMap,ed=new WeakMap,id=new WeakMap,Oc=new WeakMap,zn=new WeakSet,to=function(e=p(this,Oc)){const i=p(this,Em)+e/2*p(this,ed);return p(this,id)%180===0?[i/p(this,Aa),i/p(this,_a)]:[i/p(this,_a),i/p(this,Aa)]},_N=function(){const[e,i,r,a]=p(this,lr),[o,l]=z(this,zn,to).call(this,0);return[e+o,i+l,r-2*o,a-2*l]},EN=function(){const e=O(this,lr,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:a}of p(this,$r)){if(a.length<=12){for(let h=4,f=a.length;h<f;h+=6)le.pointBoundingBox(a[h],a[h+1],e);continue}let o=a[4],l=a[5];for(let h=6,f=a.length;h<f;h+=6){const[g,m,y,b,T,A]=a.subarray(h,h+6);le.bezierBoundingBox(o,l,g,m,y,b,T,A,e),o=T,l=A}}const[i,r]=z(this,zn,to).call(this);e[0]=hr(e[0]-i,0,1),e[1]=hr(e[1]-r,0,1),e[2]=hr(e[2]+i,0,1),e[3]=hr(e[3]+r,0,1),e[2]-=e[0],e[3]-=e[1]},SN=function(e){const[i,r]=z(this,zn,to).call(this);O(this,Oc,e);const[a,o]=z(this,zn,to).call(this),[l,h]=[a-i,o-r],f=p(this,lr);return f[0]-=l,f[1]-=h,f[2]+=2*l,f[3]+=2*h,f};class Ky extends wN{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:xi._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??(e=this["stroke-width"]),e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new Ky(this._viewParameters);return t.updateAll(this),t}}var Ty,xN;const Xh=class Xh extends uy{constructor(e){super({...e,name:"inkEditor"});P(this,Ty);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,i){xi.initialize(e,i),this._defaultDrawingOptions=new Ky(i.viewParameters)}static getDefaultDrawingOptions(e){const i=this._defaultDrawingOptions.clone();return i.updateProperties(e),i}static get supportMultipleDrawings(){return!0}static get typesMap(){return Ie(this,"typesMap",new Map([[Pe.INK_THICKNESS,"stroke-width"],[Pe.INK_COLOR,"stroke"],[Pe.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,i,r,a,o){return new x8(e,i,r,a,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,i,r,a,o,l){return Pm.deserialize(e,i,r,a,o,l)}static async deserialize(e,i,r){let a=null;if(e instanceof D_){const{data:{inkLists:l,rect:h,rotation:f,id:g,color:m,opacity:y,borderStyle:{rawWidth:b},popupRef:T},parent:{page:{pageNumber:A}}}=e;a=e={annotationType:_e.INK,color:Array.from(m),thickness:b,opacity:y,paths:{points:l},boxes:null,pageIndex:A-1,rect:h.slice(0),rotation:f,id:g,deleted:!1,popupRef:T}}const o=await super.deserialize(e,i,r);return o.annotationElementId=e.id||null,o._initialData=a,o}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:i,parent:r}=this;i.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(e,i.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:i,opacity:r}){this._drawingOptions=Xh.getDefaultDrawingOptions({stroke:le.makeHexColor(...e),"stroke-width":i,"stroke-opacity":r})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:i,points:r,rect:a}=this.serializeDraw(e),{_drawingOptions:{stroke:o,"stroke-opacity":l,"stroke-width":h}}=this,f={annotationType:_e.INK,color:xi._colorManager.convert(o),opacity:l,thickness:h,paths:{lines:i,points:r},pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(f.isCopy=!0,f):this.annotationElementId&&!z(this,Ty,xN).call(this,f)?null:(f.id=this.annotationElementId,f)}renderAnnotationElement(e){const{points:i,rect:r}=this.serializeDraw(!1);return e.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:i}),null}};Ty=new WeakSet,xN=function(e){const{color:i,thickness:r,opacity:a,pageIndex:o}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||e.color.some((l,h)=>l!==i[h])||e.thickness!==r||e.opacity!==a||e.pageIndex!==o},Bt(Xh,"_type","ink"),Bt(Xh,"_editorType",_e.INK),Bt(Xh,"_defaultDrawingOptions",null);let DA=Xh;class RA extends Pm{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const r0=8,bp=3;var Mc,ii,kA,Ws,CN,TN,NA,P0,DN,RN,kN,OA,MA,NN;class Mo{static extractContoursFromText(t,{fontFamily:e,fontStyle:i,fontWeight:r},a,o,l,h){let f=new OffscreenCanvas(1,1),g=f.getContext("2d",{alpha:!1});const m=200,y=g.font=`${i} ${r} ${m}px ${e}`,{actualBoundingBoxLeft:b,actualBoundingBoxRight:T,actualBoundingBoxAscent:A,actualBoundingBoxDescent:w,fontBoundingBoxAscent:E,fontBoundingBoxDescent:D,width:R}=g.measureText(t),N=1.5,x=Math.ceil(Math.max(Math.abs(b)+Math.abs(T)||0,R)*N),L=Math.ceil(Math.max(Math.abs(A)+Math.abs(w)||m,Math.abs(E)+Math.abs(D)||m)*N);f=new OffscreenCanvas(x,L),g=f.getContext("2d",{alpha:!0,willReadFrequently:!0}),g.font=y,g.filter="grayscale(1)",g.fillStyle="white",g.fillRect(0,0,x,L),g.fillStyle="black",g.fillText(t,x*(N-1)/2,L*(3-N)/2);const I=z(this,ii,OA).call(this,g.getImageData(0,0,x,L).data),U=z(this,ii,kN).call(this,I),F=z(this,ii,MA).call(this,U),k=z(this,ii,NA).call(this,I,x,L,F);return this.processDrawnLines({lines:{curves:k,width:x,height:L},pageWidth:a,pageHeight:o,rotation:l,innerMargin:h,mustSmooth:!0,areContours:!0})}static process(t,e,i,r,a){const[o,l,h]=z(this,ii,NN).call(this,t),[f,g]=z(this,ii,RN).call(this,o,l,h,Math.hypot(l,h)*p(this,Mc).sigmaSFactor,p(this,Mc).sigmaR,p(this,Mc).kernelSize),m=z(this,ii,MA).call(this,g),y=z(this,ii,NA).call(this,f,l,h,m);return this.processDrawnLines({lines:{curves:y,width:l,height:h},pageWidth:e,pageHeight:i,rotation:r,innerMargin:a,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:i,rotation:r,innerMargin:a,mustSmooth:o,areContours:l}){r%180!==0&&([e,i]=[i,e]);const{curves:h,width:f,height:g}=t,m=t.thickness??0,y=[],b=Math.min(e/f,i/g),T=b/e,A=b/i,w=[];for(const{points:D}of h){const R=o?z(this,ii,DN).call(this,D):D;if(!R)continue;w.push(R);const N=R.length,x=new Float32Array(N),L=new Float32Array(3*(N===2?2:N-2));if(y.push({line:L,points:x}),N===2){x[0]=R[0]*T,x[1]=R[1]*A,L.set([NaN,NaN,NaN,NaN,x[0],x[1]],0);continue}let[I,U,F,k]=R;I*=T,U*=A,F*=T,k*=A,x.set([I,U,F,k],0),L.set([NaN,NaN,NaN,NaN,I,U],0);for(let $=4;$<N;$+=2){const Y=x[$]=R[$]*T,J=x[$+1]=R[$+1]*A;L.set(Qt.createBezierPoints(I,U,F,k,Y,J),($-2)*3),[I,U,F,k]=[F,k,Y,J]}}if(y.length===0)return null;const E=l?new RA:new Pm;return E.build(y,e,i,1,r,l?0:m,a),{outline:E,newCurves:w,areContours:l,thickness:m,width:f,height:g}}static async compressSignature({outlines:t,areContours:e,thickness:i,width:r,height:a}){let o=1/0,l=-1/0,h=0;for(const R of t){h+=R.length;for(let N=2,x=R.length;N<x;N++){const L=R[N]-R[N-2];o=Math.min(o,L),l=Math.max(l,L)}}let f;o>=-128&&l<=127?f=Int8Array:o>=-32768&&l<=32767?f=Int16Array:f=Int32Array;const g=t.length,m=r0+bp*g,y=new Uint32Array(m);let b=0;y[b++]=m*Uint32Array.BYTES_PER_ELEMENT+(h-2*g)*f.BYTES_PER_ELEMENT,y[b++]=0,y[b++]=r,y[b++]=a,y[b++]=e?0:1,y[b++]=Math.max(0,Math.floor(i??0)),y[b++]=g,y[b++]=f.BYTES_PER_ELEMENT;for(const R of t)y[b++]=R.length-2,y[b++]=R[0],y[b++]=R[1];const T=new CompressionStream("deflate-raw"),A=T.writable.getWriter();await A.ready,A.write(y);const w=f.prototype.constructor;for(const R of t){const N=new w(R.length-2);for(let x=2,L=R.length;x<L;x++)N[x-2]=R[x]-R[x-2];A.write(N)}A.close();const E=await new Response(T.readable).arrayBuffer(),D=new Uint8Array(E);return RR(D)}static async decompressSignature(t){try{const e=K5(t),{readable:i,writable:r}=new DecompressionStream("deflate-raw"),a=r.getWriter();await a.ready,a.write(e).then(async()=>{await a.ready,await a.close()}).catch(()=>{});let o=null,l=0;for await(const R of i)o||(o=new Uint8Array(new Uint32Array(R.buffer,0,4)[0])),o.set(R,l),l+=R.length;const h=new Uint32Array(o.buffer,0,o.length>>2),f=h[1];if(f!==0)throw new Error(`Invalid version: ${f}`);const g=h[2],m=h[3],y=h[4]===0,b=h[5],T=h[6],A=h[7],w=[],E=(r0+bp*T)*Uint32Array.BYTES_PER_ELEMENT;let D;switch(A){case Int8Array.BYTES_PER_ELEMENT:D=new Int8Array(o.buffer,E);break;case Int16Array.BYTES_PER_ELEMENT:D=new Int16Array(o.buffer,E);break;case Int32Array.BYTES_PER_ELEMENT:D=new Int32Array(o.buffer,E);break}l=0;for(let R=0;R<T;R++){const N=h[bp*R+r0],x=new Float32Array(N+2);w.push(x);for(let L=0;L<bp-1;L++)x[L]=h[bp*R+r0+L+1];for(let L=0;L<N;L++)x[L+2]=x[L]+D[l++]}return{areContours:y,thickness:b,outlines:w,width:g,height:m}}catch(e){return Ee(`decompressSignature: ${e}`),null}}}Mc=new WeakMap,ii=new WeakSet,kA=function(t,e,i,r){return i-=t,r-=e,i===0?r>0?0:4:i===1?r+6:2-r},Ws=new WeakMap,CN=function(t,e,i,r,a,o,l){const h=z(this,ii,kA).call(this,i,r,a,o);for(let f=0;f<8;f++){const g=(-f+h-l+16)%8,m=p(this,Ws)[2*g],y=p(this,Ws)[2*g+1];if(t[(i+m)*e+(r+y)]!==0)return g}return-1},TN=function(t,e,i,r,a,o,l){const h=z(this,ii,kA).call(this,i,r,a,o);for(let f=0;f<8;f++){const g=(f+h+l+16)%8,m=p(this,Ws)[2*g],y=p(this,Ws)[2*g+1];if(t[(i+m)*e+(r+y)]!==0)return g}return-1},NA=function(t,e,i,r){const a=t.length,o=new Int32Array(a);for(let g=0;g<a;g++)o[g]=t[g]<=r?1:0;for(let g=1;g<i-1;g++)o[g*e]=o[g*e+e-1]=0;for(let g=0;g<e;g++)o[g]=o[e*i-1-g]=0;let l=1,h;const f=[];for(let g=1;g<i-1;g++){h=1;for(let m=1;m<e-1;m++){const y=g*e+m,b=o[y];if(b===0)continue;let T=g,A=m;if(b===1&&o[y-1]===0)l+=1,A-=1;else if(b>=1&&o[y+1]===0)l+=1,A+=1,b>1&&(h=b);else{b!==1&&(h=Math.abs(b));continue}const w=[m,g],E=A===m+1,D={isHole:E,points:w,id:l,parent:0};f.push(D);let R;for(const $ of f)if($.id===h){R=$;break}R?R.isHole?D.parent=E?R.parent:h:D.parent=E?h:R.parent:D.parent=E?h:0;const N=z(this,ii,CN).call(this,o,e,g,m,T,A,0);if(N===-1){o[y]=-l,o[y]!==1&&(h=Math.abs(o[y]));continue}let x=p(this,Ws)[2*N],L=p(this,Ws)[2*N+1];const I=g+x,U=m+L;T=I,A=U;let F=g,k=m;for(;;){const $=z(this,ii,TN).call(this,o,e,F,k,T,A,1);x=p(this,Ws)[2*$],L=p(this,Ws)[2*$+1];const Y=F+x,J=k+L;w.push(J,Y);const ft=F*e+k;if(o[ft+1]===0?o[ft]=-l:o[ft]===1&&(o[ft]=l),Y===g&&J===m&&F===I&&k===U){o[y]!==1&&(h=Math.abs(o[y]));break}else T=F,A=k,F=Y,k=J}}}return f},P0=function(t,e,i,r){if(i-e<=4){for(let I=e;I<i-2;I+=2)r.push(t[I],t[I+1]);return}const a=t[e],o=t[e+1],l=t[i-4]-a,h=t[i-3]-o,f=Math.hypot(l,h),g=l/f,m=h/f,y=g*o-m*a,b=h/l,T=1/f,A=Math.atan(b),w=Math.cos(A),E=Math.sin(A),D=T*(Math.abs(w)+Math.abs(E)),R=T*(1-D+D**2),N=Math.max(Math.atan(Math.abs(E+w)*R),Math.atan(Math.abs(E-w)*R));let x=0,L=e;for(let I=e+2;I<i-2;I+=2){const U=Math.abs(y-g*t[I+1]+m*t[I]);U>x&&(L=I,x=U)}x>(f*N)**2?(z(this,ii,P0).call(this,t,e,L+2,r),z(this,ii,P0).call(this,t,L,i,r)):r.push(a,o)},DN=function(t){const e=[],i=t.length;return z(this,ii,P0).call(this,t,0,i,e),e.push(t[i-2],t[i-1]),e.length<=4?null:e},RN=function(t,e,i,r,a,o){const l=new Float32Array(o**2),h=-2*r**2,f=o>>1;for(let A=0;A<o;A++){const w=(A-f)**2;for(let E=0;E<o;E++)l[A*o+E]=Math.exp((w+(E-f)**2)/h)}const g=new Float32Array(256),m=-2*a**2;for(let A=0;A<256;A++)g[A]=Math.exp(A**2/m);const y=t.length,b=new Uint8Array(y),T=new Uint32Array(256);for(let A=0;A<i;A++)for(let w=0;w<e;w++){const E=A*e+w,D=t[E];let R=0,N=0;for(let L=0;L<o;L++){const I=A+L-f;if(!(I<0||I>=i))for(let U=0;U<o;U++){const F=w+U-f;if(F<0||F>=e)continue;const k=t[I*e+F],$=l[L*o+U]*g[Math.abs(k-D)];R+=k*$,N+=$}}const x=b[E]=Math.round(R/N);T[x]++}return[b,T]},kN=function(t){const e=new Uint32Array(256);for(const i of t)e[i]++;return e},OA=function(t){const e=t.length,i=new Uint8ClampedArray(e>>2);let r=-1/0,a=1/0;for(let l=0,h=i.length;l<h;l++){if(t[(l<<2)+3]===0){r=i[l]=255;continue}const g=i[l]=t[l<<2];g>r&&(r=g),g<a&&(a=g)}const o=255/(r-a);for(let l=0;l<e;l++)i[l]=(i[l]-a)*o;return i},MA=function(t){let e,i=-1/0,r=-1/0;const a=t.findIndex(h=>h!==0);let o=a,l=a;for(e=a;e<256;e++){const h=t[e];h>i&&(e-o>r&&(r=e-o,l=e-1),i=h,o=e)}for(e=l-1;e>=0&&!(t[e]>t[e+1]);e--);return e},NN=function(t){const e=t,{width:i,height:r}=t,{maxDim:a}=p(this,Mc);let o=i,l=r;if(i>a||r>a){let y=i,b=r,T=Math.log2(Math.max(i,r)/a);const A=Math.floor(T);T=T===A?A-1:A;for(let E=0;E<T;E++){o=Math.ceil(y/2),l=Math.ceil(b/2);const D=new OffscreenCanvas(o,l);D.getContext("2d").drawImage(t,0,0,y,b,0,0,o,l),y=o,b=l,t!==e&&t.close(),t=D.transferToImageBitmap()}const w=Math.min(a/o,a/l);o=Math.round(o*w),l=Math.round(l*w)}const f=new OffscreenCanvas(o,l).getContext("2d",{willReadFrequently:!0});f.filter="grayscale(1)",f.drawImage(t,0,0,t.width,t.height,0,0,o,l);const g=f.getImageData(0,0,o,l).data;return[z(this,ii,OA).call(this,g),o,l]},P(Mo,ii),P(Mo,Mc,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),P(Mo,Ws,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class R_ extends wN{constructor(){super(),super.updateProperties({fill:xi._defaultLineColor,"stroke-width":0})}clone(){const t=new R_;return t.updateAll(this),t}}class k_ extends Ky{constructor(t){super(t),super.updateProperties({stroke:xi._defaultLineColor,"stroke-width":1})}clone(){const t=new k_(this._viewParameters);return t.updateAll(this),t}}var Gl,Wr,Vl,$l;const Ir=class Ir extends uy{constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"});P(this,Gl,!1);P(this,Wr,null);P(this,Vl,null);P(this,$l,null);this._willKeepAspectRatio=!0,O(this,Vl,e.signatureData||null),O(this,Wr,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,i){xi.initialize(e,i),this._defaultDrawingOptions=new R_,this._defaultDrawnSignatureOptions=new k_(i.viewParameters)}static getDefaultDrawingOptions(e){const i=this._defaultDrawingOptions.clone();return i.updateProperties(e),i}static get supportMultipleDrawings(){return!1}static get typesMap(){return Ie(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!p(this,Wr)}}static computeTelemetryFinalData(e){const i=e.get("hasDescription");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,i;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,e=this.x,i=this.y),super.render(),this._drawId===null)if(p(this,Vl)){const{lines:a,mustSmooth:o,areContours:l,description:h,uuid:f,heightInPage:g}=p(this,Vl),{rawDims:{pageWidth:m,pageHeight:y},rotation:b}=this.parent.viewport,T=Mo.processDrawnLines({lines:a,pageWidth:m,pageHeight:y,rotation:b,innerMargin:Ir._INNER_MARGIN,mustSmooth:o,areContours:l});this.addSignature(T,g,h,f)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return r&&(this._isCopy=!0,this._moveAfterPaste(e,i)),this.div}setUuid(e){O(this,$l,e),this.addEditToolbar()}getUuid(){return p(this,$l)}get description(){return p(this,Wr)}set description(e){O(this,Wr,e),super.addEditToolbar().then(i=>{i==null||i.updateEditSignatureButton(e)})}getSignaturePreview(){const{newCurves:e,areContours:i,thickness:r,width:a,height:o}=p(this,Vl),l=Math.max(a,o),h=Mo.processDrawnLines({lines:{curves:e.map(f=>({points:f})),thickness:r,width:a,height:o},pageWidth:l,pageHeight:l,rotation:0,innerMargin:0,mustSmooth:!1,areContours:i});return{areContours:i,outline:h.outline}}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.signatureManager&&p(this,Wr)!==null&&(await e.addEditSignatureButton(this._uiManager.signatureManager,p(this,$l),p(this,Wr)),e.show()),e):null}addSignature(e,i,r,a){const{x:o,y:l}=this,{outline:h}=O(this,Vl,e);O(this,Gl,h instanceof RA),O(this,Wr,r),this.div.setAttribute("data-l10n-args",JSON.stringify({description:r}));let f;p(this,Gl)?f=Ir.getDefaultDrawingOptions():(f=Ir._defaultDrawnSignatureOptions.clone(),f.updateProperties({"stroke-width":h.thickness})),this._addOutlines({drawOutlines:h,drawingOptions:f});const[g,m]=this.parentDimensions,[,y]=this.pageDimensions;let b=i/y;b=b>=1?.5:b,this.width*=b/this.height,this.width>=1&&(b*=.9/this.width,this.width=.9),this.height=b,this.setDims(g*this.width,m*this.height),this.x=o,this.y=l,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(a),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!a,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:i,pageHeight:r},rotation:a}=this.parent.viewport;return Mo.process(e,i,r,a,Ir._INNER_MARGIN)}getFromText(e,i){const{rawDims:{pageWidth:r,pageHeight:a},rotation:o}=this.parent.viewport;return Mo.extractContoursFromText(e,i,r,a,o,Ir._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:i,pageHeight:r},rotation:a}=this.parent.viewport;return Mo.processDrawnLines({lines:e,pageWidth:i,pageHeight:r,rotation:a,innerMargin:Ir._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:i}){e?this._drawingOptions=Ir.getDefaultDrawingOptions():(this._drawingOptions=Ir._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":i}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:i,points:r,rect:a}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":o}}=this,l={annotationType:_e.SIGNATURE,isSignature:!0,areContours:p(this,Gl),color:[0,0,0],thickness:p(this,Gl)?0:o,pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(l.paths={lines:i,points:r},l.uuid=p(this,$l),l.isCopy=!0):l.lines=i,p(this,Wr)&&(l.accessibilityData={type:"Figure",alt:p(this,Wr)}),l}static deserializeDraw(e,i,r,a,o,l){return l.areContours?RA.deserialize(e,i,r,a,o,l):Pm.deserialize(e,i,r,a,o,l)}static async deserialize(e,i,r){var o;const a=await super.deserialize(e,i,r);return O(a,Gl,e.areContours),O(a,Wr,((o=e.accessibilityData)==null?void 0:o.alt)||""),O(a,$l,e.uuid),a}};Gl=new WeakMap,Wr=new WeakMap,Vl=new WeakMap,$l=new WeakMap,Bt(Ir,"_type","signature"),Bt(Ir,"_editorType",_e.SIGNATURE),Bt(Ir,"_defaultDrawingOptions",null);let LA=Ir;var Oi,Tn,Wl,Do,Yl,nd,Ro,Lc,Ea,Yr,rd,$e,Fp,Up,z0,F0,U0,BA,H0,ON;class IA extends xi{constructor(e){super({...e,name:"stampEditor"});P(this,$e);P(this,Oi,null);P(this,Tn,null);P(this,Wl,null);P(this,Do,null);P(this,Yl,null);P(this,nd,"");P(this,Ro,null);P(this,Lc,!1);P(this,Ea,null);P(this,Yr,!1);P(this,rd,!1);O(this,Do,e.bitmapUrl),O(this,Yl,e.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,i){xi.initialize(e,i)}static isHandlingMimeForPasting(e){return Dw.includes(e)}static paste(e,i){i.pasteEditor({mode:_e.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const i=e.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(e=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:o,height:l}=e||this.copyCanvas(null,null,!0).imageData,h=await r.guess({name:"altText",request:{data:a,width:o,height:l,channels:a.length/(o*l)}});if(!h)throw new Error("No response from the AI service.");if(h.error)throw new Error("Error from the AI service.");if(h.cancel)return null;if(!h.output)throw new Error("No valid response from the AI service.");const f=h.output;return await this.setGuessedAltText(f),i&&!this.hasAltTextData()&&(this.altTextData={alt:f,decorative:!1}),f}remove(){var e;p(this,Tn)&&(O(this,Oi,null),this._uiManager.imageManager.deleteId(p(this,Tn)),(e=p(this,Ro))==null||e.remove(),O(this,Ro,null),p(this,Ea)&&(clearTimeout(p(this,Ea)),O(this,Ea,null))),super.remove()}rebuild(){if(!this.parent){p(this,Tn)&&z(this,$e,z0).call(this);return}super.rebuild(),this.div!==null&&(p(this,Tn)&&p(this,Ro)===null&&z(this,$e,z0).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(p(this,Wl)||p(this,Oi)||p(this,Do)||p(this,Yl)||p(this,Tn)||p(this,Lc))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,i;return this._isCopy&&(e=this.x,i=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),p(this,Lc)||(p(this,Oi)?z(this,$e,F0).call(this):z(this,$e,z0).call(this)),this._isCopy&&this._moveAfterPaste(e,i),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,i){const{id:r,bitmap:a}=this._uiManager.imageManager.getFromCanvas(e,i);i.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(O(this,Tn,r),a&&O(this,Oi,a),O(this,Lc,!1),z(this,$e,F0).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;p(this,Ea)!==null&&clearTimeout(p(this,Ea)),O(this,Ea,setTimeout(()=>{O(this,Ea,null),z(this,$e,BA).call(this)},200))}copyCanvas(e,i,r=!1){var b;e||(e=224);const{width:a,height:o}=p(this,Oi),l=new Na;let h=p(this,Oi),f=a,g=o,m=null;if(i){if(a>i||o>i){const U=Math.min(i/a,i/o);f=Math.floor(a*U),g=Math.floor(o*U)}m=document.createElement("canvas");const T=m.width=Math.ceil(f*l.sx),A=m.height=Math.ceil(g*l.sy);p(this,Yr)||(h=z(this,$e,U0).call(this,T,A));const w=m.getContext("2d");w.filter=this._uiManager.hcmFilter;let E="white",D="#cfcfd8";this._uiManager.hcmFilter!=="none"?D="black":(b=window.matchMedia)!=null&&b.call(window,"(prefers-color-scheme: dark)").matches&&(E="#8f8f9d",D="#42414d");const R=15,N=R*l.sx,x=R*l.sy,L=new OffscreenCanvas(N*2,x*2),I=L.getContext("2d");I.fillStyle=E,I.fillRect(0,0,N*2,x*2),I.fillStyle=D,I.fillRect(0,0,N,x),I.fillRect(N,x,N,x),w.fillStyle=w.createPattern(L,"repeat"),w.fillRect(0,0,T,A),w.drawImage(h,0,0,h.width,h.height,0,0,T,A)}let y=null;if(r){let T,A;if(l.symmetric&&h.width<e&&h.height<e)T=h.width,A=h.height;else if(h=p(this,Oi),a>e||o>e){const D=Math.min(e/a,e/o);T=Math.floor(a*D),A=Math.floor(o*D),p(this,Yr)||(h=z(this,$e,U0).call(this,T,A))}const E=new OffscreenCanvas(T,A).getContext("2d",{willReadFrequently:!0});E.drawImage(h,0,0,h.width,h.height,0,0,T,A),y={width:T,height:A,data:E.getImageData(0,0,T,A).data}}return{canvas:m,width:f,height:g,imageData:y}}static async deserialize(e,i,r){var w;let a=null,o=!1;if(e instanceof Wk){const{data:{rect:E,rotation:D,id:R,structParent:N,popupRef:x},container:L,parent:{page:{pageNumber:I}},canvas:U}=e;let F,k;U?(delete e.canvas,{id:F,bitmap:k}=r.imageManager.getFromCanvas(L.id,U),U.remove()):(o=!0,e._hasNoCanvas=!0);const $=((w=await i._structTree.getAriaAttributes(`${w_}${R}`))==null?void 0:w.get("aria-label"))||"";a=e={annotationType:_e.STAMP,bitmapId:F,bitmap:k,pageIndex:I-1,rect:E.slice(0),rotation:D,id:R,deleted:!1,accessibilityData:{decorative:!1,altText:$},isSvg:!1,structParent:N,popupRef:x}}const l=await super.deserialize(e,i,r),{rect:h,bitmap:f,bitmapUrl:g,bitmapId:m,isSvg:y,accessibilityData:b}=e;o?(r.addMissingCanvas(e.id,l),O(l,Lc,!0)):m&&r.imageManager.isValidId(m)?(O(l,Tn,m),f&&O(l,Oi,f)):O(l,Do,g),O(l,Yr,y);const[T,A]=l.pageDimensions;return l.width=(h[2]-h[0])/T,l.height=(h[3]-h[1])/A,l.annotationElementId=e.id||null,b&&(l.altTextData=b),l._initialData=a,O(l,rd,!!a),l}serialize(e=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:_e.STAMP,bitmapId:p(this,Tn),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:p(this,Yr),structTreeParentId:this._structTreeParentId};if(e)return r.bitmapUrl=z(this,$e,H0).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:a,altText:o}=this.serializeAltText(!1);if(!a&&o&&(r.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const h=z(this,$e,ON).call(this,r);if(h.isSame)return null;h.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,i===null)return r;i.stamps||(i.stamps=new Map);const l=p(this,Yr)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!i.stamps.has(p(this,Tn)))i.stamps.set(p(this,Tn),{area:l,serialized:r}),r.bitmap=z(this,$e,H0).call(this,!1);else if(p(this,Yr)){const h=i.stamps.get(p(this,Tn));l>h.area&&(h.area=l,h.serialized.bitmap.close(),h.serialized.bitmap=z(this,$e,H0).call(this,!1))}return r}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}}Oi=new WeakMap,Tn=new WeakMap,Wl=new WeakMap,Do=new WeakMap,Yl=new WeakMap,nd=new WeakMap,Ro=new WeakMap,Lc=new WeakMap,Ea=new WeakMap,Yr=new WeakMap,rd=new WeakMap,$e=new WeakSet,Fp=function(e,i=!1){if(!e){this.remove();return}O(this,Oi,e.bitmap),i||(O(this,Tn,e.id),O(this,Yr,e.isSvg)),e.file&&O(this,nd,e.file.name),z(this,$e,F0).call(this)},Up=function(){if(O(this,Wl,null),this._uiManager.enableWaiting(!1),!!p(this,Ro)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&p(this,Oi)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&p(this,Oi)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},z0=function(){if(p(this,Tn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(p(this,Tn)).then(r=>z(this,$e,Fp).call(this,r,!0)).finally(()=>z(this,$e,Up).call(this));return}if(p(this,Do)){const r=p(this,Do);O(this,Do,null),this._uiManager.enableWaiting(!0),O(this,Wl,this._uiManager.imageManager.getFromUrl(r).then(a=>z(this,$e,Fp).call(this,a)).finally(()=>z(this,$e,Up).call(this)));return}if(p(this,Yl)){const r=p(this,Yl);O(this,Yl,null),this._uiManager.enableWaiting(!0),O(this,Wl,this._uiManager.imageManager.getFromFile(r).then(a=>z(this,$e,Fp).call(this,a)).finally(()=>z(this,$e,Up).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=Dw.join(",");const i=this._uiManager._signal;O(this,Wl,new Promise(r=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),z(this,$e,Fp).call(this,a)}r()},{signal:i}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:i})}).finally(()=>z(this,$e,Up).call(this))),e.click()},F0=function(){var m;const{div:e}=this;let{width:i,height:r}=p(this,Oi);const[a,o]=this.pageDimensions,l=.75;if(this.width)i=this.width*a,r=this.height*o;else if(i>l*a||r>l*o){const y=Math.min(l*a/i,l*o/r);i*=y,r*=y}const[h,f]=this.parentDimensions;this.setDims(i*h/a,r*f/o),this._uiManager.enableWaiting(!1);const g=O(this,Ro,document.createElement("canvas"));g.setAttribute("role","img"),this.addContainer(g),this.width=i/a,this.height=r/o,(m=this._initialOptions)!=null&&m.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),z(this,$e,BA).call(this),p(this,rd)||(this.parent.addUndoableEditor(this),O(this,rd,!0)),this._reportTelemetry({action:"inserted_image"}),p(this,nd)&&this.div.setAttribute("aria-description",p(this,nd))},U0=function(e,i){const{width:r,height:a}=p(this,Oi);let o=r,l=a,h=p(this,Oi);for(;o>2*e||l>2*i;){const f=o,g=l;o>2*e&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),l>2*i&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const m=new OffscreenCanvas(o,l);m.getContext("2d").drawImage(h,0,0,f,g,0,0,o,l),h=m.transferToImageBitmap()}return h},BA=function(){const[e,i]=this.parentDimensions,{width:r,height:a}=this,o=new Na,l=Math.ceil(r*e*o.sx),h=Math.ceil(a*i*o.sy),f=p(this,Ro);if(!f||f.width===l&&f.height===h)return;f.width=l,f.height=h;const g=p(this,Yr)?p(this,Oi):z(this,$e,U0).call(this,l,h),m=f.getContext("2d");m.filter=this._uiManager.hcmFilter,m.drawImage(g,0,0,g.width,g.height,0,0,l,h)},H0=function(e){if(e){if(p(this,Yr)){const a=this._uiManager.imageManager.getSvgUrl(p(this,Tn));if(a)return a}const i=document.createElement("canvas");return{width:i.width,height:i.height}=p(this,Oi),i.getContext("2d").drawImage(p(this,Oi),0,0),i.toDataURL()}if(p(this,Yr)){const[i,r]=this.pageDimensions,a=Math.round(this.width*i*iu.PDF_TO_CSS_UNITS),o=Math.round(this.height*r*iu.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(a,o);return l.getContext("2d").drawImage(p(this,Oi),0,0,p(this,Oi).width,p(this,Oi).height,0,0,a,o),l.transferToImageBitmap()}return structuredClone(p(this,Oi))},ON=function(e){var l;const{pageIndex:i,accessibilityData:{altText:r}}=this._initialData,a=e.pageIndex===i,o=(((l=e.accessibilityData)==null?void 0:l.alt)||"")===r;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&a&&o,isSameAltText:o}},Bt(IA,"_type","stamp"),Bt(IA,"_editorType",_e.STAMP);var Ic,sd,Sa,Xl,ko,As,Kl,ad,Bc,Ys,No,tr,Oo,se,Zl,Mi,MN,la,zA,FA,j0;const Is=class Is{constructor({uiManager:t,pageIndex:e,div:i,structTreeLayer:r,accessibilityManager:a,annotationLayer:o,drawLayer:l,textLayer:h,viewport:f,l10n:g}){P(this,Mi);P(this,Ic);P(this,sd,!1);P(this,Sa,null);P(this,Xl,null);P(this,ko,null);P(this,As,new Map);P(this,Kl,!1);P(this,ad,!1);P(this,Bc,!1);P(this,Ys,null);P(this,No,null);P(this,tr,null);P(this,Oo,null);P(this,se);const m=[...p(Is,Zl).values()];if(!Is._initialized){Is._initialized=!0;for(const y of m)y.initialize(g,t)}t.registerEditorTypes(m),O(this,se,t),this.pageIndex=e,this.div=i,O(this,Ic,a),O(this,Sa,o),this.viewport=f,O(this,tr,h),this.drawLayer=l,this._structTree=r,p(this,se).addLayer(this)}get isEmpty(){return p(this,As).size===0}get isInvisible(){return this.isEmpty&&p(this,se).getMode()===_e.NONE}updateToolbar(t){p(this,se).updateToolbar(t)}updateMode(t=p(this,se).getMode()){switch(z(this,Mi,j0).call(this),t){case _e.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case _e.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case _e.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const i of p(Is,Zl).values())e.toggle(`${i._type}Editing`,t===i._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=p(this,tr))==null?void 0:e.div)}setEditingState(t){p(this,se).setEditingState(t)}addCommands(t){p(this,se).addCommands(t)}cleanUndoStack(t){p(this,se).cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=p(this,Sa))==null||e.div.classList.toggle("disabled",!t)}async enable(){O(this,Bc,!0),this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const i of p(this,As).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(p(this,se).removeChangedExistingAnnotation(i),t.add(i.annotationElementId));if(!p(this,Sa)){O(this,Bc,!1);return}const e=p(this,Sa).getEditableAnnotations();for(const i of e){if(i.hide(),p(this,se).isDeletedAnnotationElement(i.data.id)||t.has(i.data.id))continue;const r=await this.deserialize(i);r&&(this.addOrRebuild(r),r.enableEditing())}O(this,Bc,!1)}disable(){var r;O(this,ad,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const a of p(this,As).values())if(a.disableEditing(),!!a.annotationElementId){if(a.serialize()!==null){t.set(a.annotationElementId,a);continue}else e.set(a.annotationElementId,a);(r=this.getEditableAnnotation(a.annotationElementId))==null||r.show(),a.remove()}if(p(this,Sa)){const a=p(this,Sa).getEditableAnnotations();for(const o of a){const{id:l}=o.data;if(p(this,se).isDeletedAnnotationElement(l))continue;let h=e.get(l);if(h){h.resetAnnotationElement(o),h.show(!1),o.show();continue}h=t.get(l),h&&(p(this,se).addChangedExistingAnnotation(h),h.renderAnnotationElement(o)&&h.show(!1)),o.show()}}z(this,Mi,j0).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const a of p(Is,Zl).values())i.remove(`${a._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),O(this,ad,!1)}getEditableAnnotation(t){var e;return((e=p(this,Sa))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){p(this,se).getActive()!==t&&p(this,se).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=p(this,tr))!=null&&t.div&&!p(this,Oo)){O(this,Oo,new AbortController);const e=p(this,se).combinedSignal(p(this,Oo));p(this,tr).div.addEventListener("pointerdown",z(this,Mi,MN).bind(this),{signal:e}),p(this,tr).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=p(this,tr))!=null&&t.div&&p(this,Oo)&&(p(this,Oo).abort(),O(this,Oo,null),p(this,tr).div.classList.remove("highlighting"))}enableClick(){if(p(this,Xl))return;O(this,Xl,new AbortController);const t=p(this,se).combinedSignal(p(this,Xl));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){var t;(t=p(this,Xl))==null||t.abort(),O(this,Xl,null)}attach(t){p(this,As).set(t.id,t);const{annotationElementId:e}=t;e&&p(this,se).isDeletedAnnotationElement(e)&&p(this,se).removeDeletedAnnotationElement(t)}detach(t){var e;p(this,As).delete(t.id),(e=p(this,Ic))==null||e.removePointerInTextLayer(t.contentDiv),!p(this,ad)&&t.annotationElementId&&p(this,se).addDeletedAnnotationElement(t)}remove(t){this.detach(t),p(this,se).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(p(this,se).addDeletedAnnotationElement(t.annotationElementId),xi.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),p(this,se).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!p(this,Bc)),p(this,se).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var i;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!p(this,ko)&&(t._focusEventsAllowed=!1,O(this,ko,setTimeout(()=>{O(this,ko,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:p(this,se)._signal}),e.focus())},0))),t._structTreeParentId=(i=p(this,Ic))==null?void 0:i.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:e,undo:i,mustExec:!1})}getNextId(){return p(this,se).getId()}combinedSignal(t){return p(this,se).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=p(this,Mi,la))==null?void 0:t.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await p(this,se).updateMode(t.mode);const{offsetX:i,offsetY:r}=z(this,Mi,FA).call(this),a=this.getNextId(),o=z(this,Mi,zA).call(this,{parent:this,id:a,x:i,y:r,uiManager:p(this,se),isCentered:!0,...e});o&&this.add(o)}async deserialize(t){var e;return await((e=p(Is,Zl).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,p(this,se)))||null}createAndAddNewEditor(t,e,i={}){const r=this.getNextId(),a=z(this,Mi,zA).call(this,{parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:p(this,se),isCentered:e,...i});return a&&this.add(a),a}addNewEditor(t={}){this.createAndAddNewEditor(z(this,Mi,FA).call(this),!0,t)}setSelected(t){p(this,se).setSelected(t)}toggleSelected(t){p(this,se).toggleSelected(t)}unselect(t){p(this,se).unselect(t)}pointerup(t){var r;const{isMac:e}=qn.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!p(this,Kl)||(O(this,Kl,!1),(r=p(this,Mi,la))!=null&&r.isDrawer&&p(this,Mi,la).supportMultipleDrawings))return;if(!p(this,sd)){O(this,sd,!0);return}const i=p(this,se).getMode();if(i===_e.STAMP||i===_e.SIGNATURE){p(this,se).unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){var r;if(p(this,se).getMode()===_e.HIGHLIGHT&&this.enableTextSelection(),p(this,Kl)){O(this,Kl,!1);return}const{isMac:e}=qn.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(O(this,Kl,!0),(r=p(this,Mi,la))!=null&&r.isDrawer){this.startDrawingSession(t);return}const i=p(this,se).getActive();O(this,sd,!i||i.isEmpty())}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),p(this,Ys)){p(this,Mi,la).startDrawing(this,p(this,se),!1,t);return}p(this,se).setCurrentDrawingSession(this),O(this,Ys,new AbortController);const e=p(this,se).combinedSignal(p(this,Ys));this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(O(this,No,null),this.commitOrRemove())},{signal:e}),p(this,Mi,la).startDrawing(this,p(this,se),!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&O(this,No,e);return}p(this,No)&&setTimeout(()=>{var e;(e=p(this,No))==null||e.focus(),O(this,No,null)},0)}endDrawingSession(t=!1){return p(this,Ys)?(p(this,se).setCurrentDrawingSession(null),p(this,Ys).abort(),O(this,Ys,null),O(this,No,null),p(this,Mi,la).endDrawing(t)):null}findNewParent(t,e,i){const r=p(this,se).findParent(e,i);return r===null||r===this?!1:(r.changeParent(t),!0)}commitOrRemove(){return p(this,Ys)?(this.endDrawingSession(),!0):!1}onScaleChanging(){p(this,Ys)&&p(this,Mi,la).onScaleChangingWhenDrawing(this)}destroy(){var t,e;this.commitOrRemove(),((t=p(this,se).getActive())==null?void 0:t.parent)===this&&(p(this,se).commitOrRemove(),p(this,se).setActiveEditor(null)),p(this,ko)&&(clearTimeout(p(this,ko)),O(this,ko,null));for(const i of p(this,As).values())(e=p(this,Ic))==null||e.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,p(this,As).clear(),p(this,se).removeLayer(this)}render({viewport:t}){this.viewport=t,Uc(this.div,t);for(const e of p(this,se).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){p(this,se).commitOrRemove(),z(this,Mi,j0).call(this);const e=this.viewport.rotation,i=t.rotation;if(this.viewport=t,Uc(this.div,{rotation:i}),e!==i)for(const r of p(this,As).values())r.rotate(i)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return p(this,se).viewParameters.realScale}};Ic=new WeakMap,sd=new WeakMap,Sa=new WeakMap,Xl=new WeakMap,ko=new WeakMap,As=new WeakMap,Kl=new WeakMap,ad=new WeakMap,Bc=new WeakMap,Ys=new WeakMap,No=new WeakMap,tr=new WeakMap,Oo=new WeakMap,se=new WeakMap,Zl=new WeakMap,Mi=new WeakSet,MN=function(t){p(this,se).unselectAll();const{target:e}=t;if(e===p(this,tr).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&p(this,tr).div.contains(e)){const{isMac:i}=qn.platform;if(t.button!==0||t.ctrlKey&&i)return;p(this,se).showAllEditors("highlight",!0,!0),p(this,tr).div.classList.add("free"),this.toggleDrawing(),ly.startHighlighting(this,p(this,se).direction==="ltr",{target:p(this,tr).div,x:t.x,y:t.y}),p(this,tr).div.addEventListener("pointerup",()=>{p(this,tr).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:p(this,se)._signal}),t.preventDefault()}},la=function(){return p(Is,Zl).get(p(this,se).getMode())},zA=function(t){const e=p(this,Mi,la);return e?new e.prototype.constructor(t):null},FA=function(){const{x:t,y:e,width:i,height:r}=this.div.getBoundingClientRect(),a=Math.max(0,t),o=Math.max(0,e),l=Math.min(window.innerWidth,t+i),h=Math.min(window.innerHeight,e+r),f=(a+l)/2-t,g=(o+h)/2-e,[m,y]=this.viewport.rotation%180===0?[f,g]:[g,f];return{offsetX:m,offsetY:y}},j0=function(){for(const t of p(this,As).values())t.isEmpty()&&t.remove()},Bt(Is,"_initialized",!1),P(Is,Zl,new Map([gA,DA,IA,ly,LA].map(t=>[t._editorType,t])));let PA=Is;var Xs,ur,Pc,Sm,Dy,LN,Oa,HA,IN,jA;const gn=class gn{constructor({pageIndex:t}){P(this,Oa);P(this,Xs,null);P(this,ur,new Map);P(this,Pc,new Map);this.pageIndex=t}setParent(t){if(!p(this,Xs)){O(this,Xs,t);return}if(p(this,Xs)!==t){if(p(this,ur).size>0)for(const e of p(this,ur).values())e.remove(),t.append(e);O(this,Xs,t)}}static get _svgFactory(){return Ie(this,"_svgFactory",new sy)}draw(t,e=!1,i=!1){const r=nr(gn,Sm)._++,a=z(this,Oa,HA).call(this),o=gn._svgFactory.createElement("defs");a.append(o);const l=gn._svgFactory.createElement("path");o.append(l);const h=`path_p${this.pageIndex}_${r}`;l.setAttribute("id",h),l.setAttribute("vector-effect","non-scaling-stroke"),e&&p(this,Pc).set(r,l);const f=i?z(this,Oa,IN).call(this,o,h):null,g=gn._svgFactory.createElement("use");return a.append(g),g.setAttribute("href",`#${h}`),this.updateProperties(a,t),p(this,ur).set(r,a),{id:r,clipPathId:`url(#${f})`}}drawOutline(t,e){const i=nr(gn,Sm)._++,r=z(this,Oa,HA).call(this),a=gn._svgFactory.createElement("defs");r.append(a);const o=gn._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke");let h;if(e){const m=gn._svgFactory.createElement("mask");a.append(m),h=`mask_p${this.pageIndex}_${i}`,m.setAttribute("id",h),m.setAttribute("maskUnits","objectBoundingBox");const y=gn._svgFactory.createElement("rect");m.append(y),y.setAttribute("width","1"),y.setAttribute("height","1"),y.setAttribute("fill","white");const b=gn._svgFactory.createElement("use");m.append(b),b.setAttribute("href",`#${l}`),b.setAttribute("stroke","none"),b.setAttribute("fill","black"),b.setAttribute("fill-rule","nonzero"),b.classList.add("mask")}const f=gn._svgFactory.createElement("use");r.append(f),f.setAttribute("href",`#${l}`),h&&f.setAttribute("mask",`url(#${h})`);const g=f.cloneNode();return r.append(g),f.classList.add("mainOutline"),g.classList.add("secondaryOutline"),this.updateProperties(r,t),p(this,ur).set(i,r),i}finalizeDraw(t,e){p(this,Pc).delete(t),this.updateProperties(t,e)}updateProperties(t,e){var h;if(!e)return;const{root:i,bbox:r,rootClass:a,path:o}=e,l=typeof t=="number"?p(this,ur).get(t):t;if(l){if(i&&z(this,Oa,jA).call(this,l,i),r&&z(h=gn,Dy,LN).call(h,l,r),a){const{classList:f}=l;for(const[g,m]of Object.entries(a))f.toggle(g,m)}if(o){const g=l.firstChild.firstChild;z(this,Oa,jA).call(this,g,o)}}}updateParent(t,e){if(e===this)return;const i=p(this,ur).get(t);i&&(p(e,Xs).append(i),p(this,ur).delete(t),p(e,ur).set(t,i))}remove(t){p(this,Pc).delete(t),p(this,Xs)!==null&&(p(this,ur).get(t).remove(),p(this,ur).delete(t))}destroy(){O(this,Xs,null);for(const t of p(this,ur).values())t.remove();p(this,ur).clear(),p(this,Pc).clear()}};Xs=new WeakMap,ur=new WeakMap,Pc=new WeakMap,Sm=new WeakMap,Dy=new WeakSet,LN=function(t,[e,i,r,a]){const{style:o}=t;o.top=`${100*i}%`,o.left=`${100*e}%`,o.width=`${100*r}%`,o.height=`${100*a}%`},Oa=new WeakSet,HA=function(){const t=gn._svgFactory.create(1,1,!0);return p(this,Xs).append(t),t.setAttribute("aria-hidden",!0),t},IN=function(t,e){const i=gn._svgFactory.createElement("clipPath");t.append(i);const r=`clip_${e}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const a=gn._svgFactory.createElement("use");return i.append(a),a.setAttribute("href",`#${e}`),a.classList.add("clip"),r},jA=function(t,e){for(const[i,r]of Object.entries(e))r===null?t.removeAttribute(i):t.setAttribute(i,r)},P(gn,Dy),P(gn,Sm,0);let UA=gn;globalThis._pdfjsTestingUtils={HighlightOutliner:vA};globalThis.pdfjsLib={AbortException:eu,AnnotationEditorLayer:PA,AnnotationEditorParamsType:Pe,AnnotationEditorType:_e,AnnotationEditorUIManager:Hc,AnnotationLayer:fA,AnnotationMode:pl,AnnotationType:an,build:r8,ColorPicker:oy,createValidAbsoluteUrl:xR,DOMSVGFactory:sy,DrawLayer:UA,FeatureTest:qn,fetchData:Om,getDocument:kk,getFilenameFromUrl:Z5,getPdfFilenameFromUrl:Q5,getUuid:DR,getXfaPageViewport:t4,GlobalWorkerOptions:Da,ImageKind:f0,InvalidPDFException:Cw,isDataScheme:Yy,isPdfFile:__,isValidExplicitDest:h4,MathClamp:hr,noContextMenu:Qs,normalizeUnicode:Y5,OPS:ey,OutputScale:Na,PasswordResponses:F5,PDFDataRangeTransport:Nk,PDFDateString:E_,PDFWorker:Zp,PermissionFlag:z5,PixelsPerInch:iu,RenderingCancelledException:A_,ResponseException:iy,setLayerDimensions:Uc,shadow:Ie,SignatureExtractor:Mo,stopEvent:on,SupportedImageMimeTypes:Dw,TextLayer:Xp,TouchManager:ry,updateUrlHash:CR,Util:le,VerbosityLevel:Vy,version:Lk,XfaLayer:Ik};Da.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${Lk}/pdf.worker.min.js`;function C8(){const u=Ot.useRef(),t=Ot.useRef(),e=Ot.useRef(null),[i,r]=Ot.useState(""),[a,o]=Ot.useState(""),[l,h]=Ot.useState(""),[f,g]=Ot.useState([]),[m,y]=Ot.useState(0),[b,T]=Ot.useState(!1),[A,w]=Ot.useState(null),[E,D]=Ot.useState(!1),[R,N]=Ot.useState([]),[x,L]=Ot.useState(null),[I,U]=Ot.useState([]),[F,k]=Ot.useState(!0),[$,Y]=Ot.useState(null),[J,ft]=Ot.useState(null),[bt,X]=Ot.useState(!1),[Z,ct]=Ot.useState(""),[_t,K]=Ot.useState(""),[it,gt]=Ot.useState(!1),[At,Dt]=Ot.useState(null),qt=Zt=>{D(!0);const Xt=new FileReader;Xt.onload=re=>{h(re.target.result),g(re.target.result.split(/\s+/)),y(0),D(!1)},Xt.onerror=re=>{o("Failed to read TXT file."),D(!1)},Xt.readAsText(Zt)};function Ht(Zt){const re=new DOMParser().parseFromString(Zt,"text/html");let Jt=Array.from(re.querySelectorAll("p, li")),kt="";for(let ne of Jt){let Be=ne.textContent;Be&&Be.replace(/\s+/g,"").length>0&&(kt+=Be+`

`)}return kt.trim()||(kt=re.body?re.body.textContent:""),kt=kt.replace(/\n{3,}/g,`

`),kt=kt.replace(/[ \t]+/g," "),kt=kt.replace(/([.!?])([^ \n])/g,"$1 $2"),kt.trim()}const Yt=async Zt=>{D(!0),o("");let Xt;try{const re=Wc();await re.open(Zt),await re.ready,Xt=setTimeout(()=>{o("EPUB parsing timed out. This file may be incompatible."),D(!1)},2e4);let Jt=[];try{const kt=re.spine.spineItems,ne=await re.loaded.navigation;for(let Be=0;Be<kt.length;Be++){const Ii=kt[Be];let ni="",De=`Chapter ${Be+1}`;if(ne&&ne.toc){const ri=ne.toc.find(Xe=>Xe.href&&Ii.href&&Xe.href.endsWith(Ii.href));ri&&ri.label&&(De=ri.label.trim())}try{await Ii.load(re.load.bind(re));try{const ri=await Ii.render();ni=Ht(ri)}catch{ni=Ht(await Ii.text())}Ii.unload()}catch{}ni&&ni.trim().length>0&&Jt.push({title:De,text:ni,index:Be})}}catch{o("Failed to extract chapters from EPUB."),D(!1),clearTimeout(Xt);return}clearTimeout(Xt),Jt.length===0?(o("No chapters found in EPUB."),N([]),L(null),U([]),h(""),g([])):(N(Jt),L(0),U(Jt[0].text.split(/\s+/)),y(0),h(""),g([])),D(!1)}catch(re){clearTimeout(Xt),o("Failed to parse EPUB file: "+((re==null?void 0:re.message)||re)),D(!1)}},zt=async Zt=>{D(!0);try{const Xt=new FileReader;Xt.onload=async re=>{try{const Jt=new Uint8Array(re.target.result),kt=await kk({data:Jt}).promise;let ne="";for(let Be=1;Be<=kt.numPages;Be++){const ni=await(await kt.getPage(Be)).getTextContent();ne+=ni.items.map(De=>De.str).join(" ")+" "}h(ne),g(ne.split(/\s+/)),y(0),D(!1)}catch{o("Failed to parse PDF file."),D(!1)}},Xt.onerror=re=>{o("Failed to read PDF file."),D(!1)},Xt.readAsArrayBuffer(Zt)}catch{o("Failed to parse PDF file."),D(!1)}},ve=Zt=>{const Xt=Zt.target.files[0];if(!Xt)return;r(Xt.name),o("");const re=Xt.name.split(".").pop().toLowerCase();re==="txt"?qt(Xt):re==="epub"?Yt(Xt):re==="pdf"?zt(Xt):o("Unsupported file type.")},Te=()=>{u.current.click()},oe=()=>{if(I.length===0||(T(!0),k(!1),A))return;const Zt=setInterval(()=>{y(Xt=>Xt<I.length-1?Xt+1:(clearInterval(Zt),T(!1),w(null),Xt))},200);w(Zt)},fe=()=>{T(!1),A&&(clearInterval(A),w(null))},de=()=>{y(0),fe()},ye=Zt=>{L(Zt),U(R[Zt].text.split(/\s+/)),y(0),T(!1),A&&clearInterval(A),w(null)},Ue=Zt=>{y(Zt),T(!1),A&&clearInterval(A),w(null),Y(I[Zt]),ft(Zt),X(!1)},ke=async()=>{var Zt;if(I.length>0&&m>=0&&m<I.length){const Xt=I[m];Y(Xt),ft(m),X(!0),K("");try{const re=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${encodeURIComponent(Xt)}`);if(re.ok){const kt=((Zt=(await re.json())[0])==null?void 0:Zt.meanings)||[];if(kt.length>0){const ne=kt[0].definitions[0].definition;K(ne||"No definition found.")}else K("No definition found.")}else K("No definition found.")}catch{K("Error fetching definition.")}}};Ot.useEffect(()=>{if(b&&t.current){const Zt=t.current.querySelector(`span[data-word-idx='${m}']`);Zt&&Zt.scrollIntoView({block:"center",behavior:"auto",inline:"nearest"})}},[m,b]),Ot.useEffect(()=>{if(!i)return;const Zt={fileName:i,selectedChapterIdx:x,currentWordIdx:m,showChapters:F};localStorage.setItem("speedreaderState",JSON.stringify(Zt))},[i,x,m,F]),Ot.useEffect(()=>{const Zt=localStorage.getItem("speedreaderState");if(Zt)try{const Xt=JSON.parse(Zt);Xt.fileName&&(Dt(Xt),gt(!0))}catch{}},[]);const ue=()=>{At&&(e.current={selectedChapterIdx:At.selectedChapterIdx??0,currentWordIdx:At.currentWordIdx??0,showChapters:At.showChapters??!0},r(At.fileName),gt(!1),setTimeout(()=>{u.current&&u.current.click()},200))};return Ot.useEffect(()=>{e.current&&R.length>0&&typeof e.current.selectedChapterIdx=="number"&&R[e.current.selectedChapterIdx]&&(L(e.current.selectedChapterIdx),U(R[e.current.selectedChapterIdx].text.split(/\s+/)),y(e.current.currentWordIdx),k(e.current.showChapters),e.current=null)},[R]),Gt.jsxs(hP,{maxWidth:!1,disableGutters:!0,sx:{position:"fixed",top:0,left:0,right:0,bottom:0,overflow:i?"visible":"hidden",p:0,m:0},children:[i&&F&&Gt.jsxs(cs,{sx:{position:"fixed",left:32,top:0,width:240,minWidth:200,bgcolor:"#f5f5f5",borderRadius:2,p:2,height:"90vh",overflow:"auto",zIndex:2,boxShadow:2,mt:6},children:[Gt.jsx(hs,{size:"small",sx:{position:"absolute",top:8,right:8,minWidth:0,p:.5,background:"#1976d2",color:"#fff",borderRadius:"50%",width:32,height:32,fontWeight:"bold",fontSize:18,boxShadow:2,"&:hover":{background:"#1565c0"}},onClick:()=>k(!1),title:"Hide chapters",children:"<"}),Gt.jsxs(cs,{sx:{display:"flex",flexDirection:"column",gap:2,mb:3,mt:5},children:[Gt.jsx(rr,{variant:"h6",children:"Chapters"}),Gt.jsxs(cs,{sx:{display:"flex",justifyContent:"center",width:"100%"},children:[Gt.jsx("input",{ref:u,type:"file",accept:".epub,.pdf,.txt",style:{display:"none"},onChange:ve}),Gt.jsx(hs,{variant:"text",size:"small",onClick:Te,sx:{color:"text.secondary",fontSize:"0.875rem",textTransform:"none","&:hover":{background:"rgba(0, 0, 0, 0.04)",color:"text.primary"}},children:"New File"})]})]}),R.length===0&&Gt.jsx(rr,{variant:"body2",color:"text.secondary",children:"No chapters loaded"}),R.map((Zt,Xt)=>Gt.jsx(hs,{fullWidth:!0,variant:x===Xt?"contained":"outlined",sx:{mb:1,textAlign:"left",zIndex:2},onClick:()=>ye(Xt),children:Zt.title},Xt))]}),i&&!F&&Gt.jsx(cs,{sx:{position:"fixed",left:32,top:24,width:32,minWidth:32,display:"flex",alignItems:"flex-start",justifyContent:"center",zIndex:2},children:Gt.jsx(hs,{size:"small",sx:{minWidth:0,p:.5,background:"#1976d2",color:"#fff",borderRadius:"50%",width:32,height:32,fontWeight:"bold",fontSize:18,boxShadow:2,"&:hover":{background:"#1565c0"}},onClick:()=>k(!0),title:"Show chapters",children:">"})}),Gt.jsxs(cs,{sx:{position:"fixed",left:"50%",transform:"translateX(-50%)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:1,height:"100%",overflow:i?"auto":"hidden",p:0,m:0,width:"1200px"},children:[!i&&it&&At&&Gt.jsxs(Yv,{elevation:3,sx:{width:"100%",maxWidth:900,p:2,position:"relative",textAlign:"center",background:"#e3f2fd"},children:[Gt.jsx(rr,{variant:"h5",color:"primary",gutterBottom:!0,children:"Continue where you left off?"}),Gt.jsxs(rr,{variant:"body1",sx:{mb:2},children:["Last file: ",Gt.jsx("b",{children:At.fileName}),Gt.jsx("br",{}),"Chapter: ",Gt.jsx("b",{children:typeof At.selectedChapterIdx=="number"?At.selectedChapterIdx+1:1})]}),Gt.jsxs(cs,{sx:{display:"flex",gap:2,justifyContent:"center"},children:[Gt.jsx(hs,{variant:"contained",color:"primary",onClick:ue,children:"Resume Reading"}),Gt.jsx(hs,{variant:"outlined",color:"secondary",onClick:()=>gt(!1),children:"Dismiss"})]})]}),i?null:Gt.jsxs(Yv,{elevation:3,sx:{width:"100%",maxWidth:900,p:3,position:"relative",mt:it?2:0},children:[Gt.jsx(rr,{variant:"h4",align:"center",gutterBottom:!0,children:"SpeedReader"}),Gt.jsx(rr,{variant:"body1",align:"center",gutterBottom:!0,children:"Import your text (EPUB, PDF, or TXT) and start speed reading!"}),Gt.jsxs(cs,{display:"flex",flexDirection:"column",alignItems:"center",gap:2,children:[Gt.jsx("input",{ref:u,type:"file",accept:".epub,.pdf,.txt",style:{display:"none"},onChange:ve}),Gt.jsx(hs,{variant:"contained",onClick:Te,size:"large",children:"Import File"}),a&&Gt.jsx(rr,{variant:"subtitle2",color:"error",children:a})]})]}),x!==null&&R[x]&&Gt.jsxs(Yv,{elevation:2,sx:{mt:8,p:4,width:"100%",maxWidth:1e3,minHeight:420,display:"flex",flexDirection:"column",alignItems:"center",background:"#181c24",color:"#fff",borderRadius:3,position:"relative",overflow:"visible"},children:[bt&&Gt.jsxs(cs,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",bgcolor:"rgba(34, 34, 34, 0.98)",zIndex:10,borderRadius:3,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:4},children:[Gt.jsxs(rr,{variant:"subtitle1",color:"primary",gutterBottom:!0,children:["Definition for: ",$]}),Gt.jsx(rr,{variant:"body1",color:"#fff",sx:{whiteSpace:"pre-line",mb:2,textAlign:"center"},children:_t||"Loading..."}),Gt.jsx(hs,{variant:"contained",color:"error",onClick:()=>X(!1),sx:{mt:2},children:"Close"})]}),!bt&&Gt.jsxs(Gt.Fragment,{children:[Gt.jsx(rr,{variant:"h6",align:"center",gutterBottom:!0,sx:{color:"#90caf9",fontSize:"1.5rem"},children:R[x].title}),Gt.jsx(cs,{sx:{fontSize:{xs:64,sm:82,md:96},fontWeight:"bold",minHeight:180,minWidth:580,mb:3,letterSpacing:2,color:"#fff",background:"#181c24",borderRadius:2,px:8,py:4,boxShadow:4,textAlign:"center",transition:"background 0.3s",userSelect:"none",textShadow:"0 2px 8px #000, 0 0px 1px #1976d2",outline:"none",border:"none",display:"inline-block",width:"auto",maxWidth:"100%",overflowWrap:"break-word",wordBreak:"break-word",backgroundClip:"padding-box"},tabIndex:0,children:I[m]||""}),Gt.jsxs(cs,{display:"flex",gap:2,children:[Gt.jsx(hs,{variant:"contained",color:"primary",onClick:oe,disabled:b||I.length===0,children:"Play"}),Gt.jsx(hs,{variant:"contained",color:"secondary",onClick:fe,disabled:!b,children:"Pause"}),Gt.jsx(hs,{variant:"outlined",onClick:de,disabled:I.length===0,children:"Reset"}),Gt.jsx(hs,{variant:"outlined",onClick:ke,disabled:I.length===0,sx:{ml:2},children:"Define"})]}),Gt.jsxs(rr,{variant:"caption",color:"text.secondary",sx:{mt:1},children:["Word ",m+1," / ",I.length]})]}),Gt.jsxs(Yv,{elevation:1,sx:{mt:3,p:4,width:"100%",maxWidth:900,maxHeight:280,minHeight:120,overflowY:"auto",overflowX:"hidden",background:"#fafafa",cursor:"pointer",boxSizing:"border-box",position:"relative"},ref:t,children:[Gt.jsx(rr,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Preview (click a word to start there)"}),Gt.jsx(cs,{sx:{userSelect:"text",wordBreak:"break-word",lineHeight:2},children:I.map((Zt,Xt)=>Gt.jsx("span",{"data-word-idx":Xt,style:{background:Xt===m?"#ffe082":J===Xt&&Xt!==m?"#b3e5fc":"inherit",cursor:"pointer",borderRadius:3,padding:"0 2px"},onClick:()=>Ue(Xt),children:Zt},Xt))}),$&&!bt&&Gt.jsx(cs,{sx:{mt:2,display:"flex",alignItems:"center",gap:2},children:Gt.jsxs(rr,{variant:"body2",color:"primary",children:["Selected: ",Gt.jsx("b",{children:$})]})})]})]}),E&&Gt.jsx(rr,{variant:"body1",color:"info.main",sx:{mt:2},children:"Loading and parsing file..."}),Gt.jsxs(rr,{variant:"caption",align:"center",color:"text.secondary",sx:{mt:2},children:[" ",new Date().getFullYear()," SpeedReader"]})]})]})}Y3.createRoot(document.getElementById("root")).render(Gt.jsx(Ot.StrictMode,{children:Gt.jsx(C8,{})}));
